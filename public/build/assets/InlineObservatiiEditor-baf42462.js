import{o as i,a as o,b as l,h as n,p as c,v as u}from"./vue.esm-bundler-ea606579.js";import{_ as d}from"./_plugin-vue_export-helper-c27b6911.js";const h={props:{kpiId:{type:Number,required:!0},userId:{type:Number,required:!0},observatii:{type:String,required:!0},searchMonth:{type:Number,required:!0},searchYear:{type:Number,required:!0}},data(){return{localObservatii:this.observatii,loading:!1,showCheckMark:!1}},methods:{autoResize(t=null){const e=t?t.target:this.$refs.textarea;e.style.height="auto",e.style.height=`${e.scrollHeight}px`},updateObservatii(){this.loading=!0,this.showCheckMark=!1;const t={user_id:this.userId,month:this.searchMonth,year:this.searchYear,observatii:this.localObservatii};axios.post("/key-performance-indicators/update-observatii",t).then(()=>{this.loading=!1,this.showCheckMark=!0,setTimeout(()=>{this.showCheckMark=!1},5e3)}).catch(e=>{console.error("Error updating observatii:",e),this.loading=!1})}},mounted(){this.autoResize()}},p={class:"d-flex align-items-start"},f={class:"status-icon me-2"},_={key:0,class:"fas fa-spinner fa-spin text-primary"},m={key:1,class:"fas fa-check-circle text-success"};function b(t,e,v,k,r,a){return i(),o("div",p,[l("span",f,[r.loading?(i(),o("i",_)):r.showCheckMark?(i(),o("i",m)):n("",!0)]),c(l("textarea",{ref:"textarea",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=s=>r.localObservatii=s),onInput:e[1]||(e[1]=(...s)=>a.autoResize&&a.autoResize(...s)),onBlur:e[2]||(e[2]=(...s)=>a.updateObservatii&&a.updateObservatii(...s)),rows:"1"},null,544),[[u,r.localObservatii]])])}const g=d(h,[["render",b],["__scopeId","data-v-167fabc9"]]);export{g as default};
