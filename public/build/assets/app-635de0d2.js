var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lodashExports={},lodash={get exports(){return lodashExports},set exports(t){lodashExports=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",b=1,S=2,v=4,g=1,w=2,A=1,T=2,O=4,R=8,k=16,V=32,P=64,B=128,j=256,q=512,Y=30,ae="...",me=800,Q=16,le=1,Se=2,ve=3,fe=1/0,Ne=9007199254740991,st=17976931348623157e292,ft=0/0,et=4294967295,Nt=et-1,re=et>>>1,Ue=[["ary",B],["bind",A],["bindKey",T],["curry",R],["curryRight",k],["flip",q],["partial",V],["partialRight",P],["rearg",j]],gt="[object Arguments]",Mt="[object Array]",Ze="[object AsyncFunction]",Fe="[object Boolean]",Ye="[object Date]",ht="[object DOMException]",vt="[object Error]",ye="[object Function]",we="[object GeneratorFunction]",Pe="[object Map]",je="[object Number]",ze="[object Null]",rt="[object Object]",mt="[object Promise]",dt="[object Proxy]",lt="[object RegExp]",We="[object Set]",St="[object String]",Et="[object Symbol]",H="[object Undefined]",W="[object WeakMap]",D="[object WeakSet]",N="[object ArrayBuffer]",X="[object DataView]",Ee="[object Float32Array]",be="[object Float64Array]",J="[object Int8Array]",z="[object Int16Array]",ne="[object Int32Array]",te="[object Uint8Array]",de="[object Uint8ClampedArray]",Me="[object Uint16Array]",Ae="[object Uint32Array]",De=/\b__p \+= '';/g,Ge=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39);/g,Dt=/[&<>"']/g,It=RegExp(pt.source),Ce=RegExp(Dt.source),He=/<%-([\s\S]+?)%>/g,it=/<%([\s\S]+?)%>/g,oe=/<%=([\s\S]+?)%>/g,ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pe=/[\\^$.*+?()[\]{}|]/g,Ie=RegExp(pe.source),he=/^\s+/,Re=/\s/,Ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Xe=/,? & /,bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/[()=,{}\[\]\/\s]/,Ht=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Je=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,rn=/^(?:0|[1-9]\d*)$/,Cn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Xt=/['\n\r\u2028\u2029\\]/g,Ft="\\ud800-\\udfff",Ui="\\u0300-\\u036f",hi="\\ufe20-\\ufe2f",Wn="\\u20d0-\\u20ff",er=Ui+hi+Wn,zi="\\u2700-\\u27bf",Ki="a-z\\xdf-\\xf6\\xf8-\\xff",Xo="\\xac\\xb1\\xd7\\xf7",Zo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ur="\\u2000-\\u206f",Mr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dr="A-Z\\xc0-\\xd6\\xd8-\\xde",nr="\\ufe0e\\ufe0f",Jn=Xo+Zo+Ur+Mr,zr="['’]",Kr="["+Ft+"]",Ir="["+Jn+"]",Cr="["+er+"]",kr="\\d+",mi="["+zi+"]",gi="["+Ki+"]",yi="[^"+Ft+Jn+kr+zi+Ki+Dr+"]",Yr="\\ud83c[\\udffb-\\udfff]",Yi="(?:"+Cr+"|"+Yr+")",qi="[^"+Ft+"]",qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Tn="[\\ud800-\\udbff][\\udc00-\\udfff]",Tr="["+Dr+"]",Gi="\\u200d",Gr="(?:"+gi+"|"+yi+")",vn="(?:"+Tr+"|"+yi+")",Jr="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",Xr="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",Zr=Yi+"?",Qt="["+nr+"]?",vi="(?:"+Gi+"(?:"+[qi,qr,Tn].join("|")+")"+Qt+Zr+")*",Qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rr=Qt+Zr+vi,tn="(?:"+[mi,qr,Tn].join("|")+")"+rr,ei="(?:"+[qi+Cr+"?",Cr,qr,Tn,Kr].join("|")+")",Xi=RegExp(zr,"g"),Qo=RegExp(Cr,"g"),Ei=RegExp(Yr+"(?="+Yr+")|"+ei+rr,"g"),es=RegExp([Tr+"?"+gi+"+"+Jr+"(?="+[Ir,Tr,"$"].join("|")+")",vn+"+"+Xr+"(?="+[Ir,Tr+Gr,"$"].join("|")+")",Tr+"?"+Gr+"+"+Jr,Tr+"+"+Xr,Ji,Qr,kr,tn].join("|"),"g"),ns=RegExp("["+Gi+Ft+er+nr+"]"),rs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,is=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ss=-1,an={};an[Ee]=an[be]=an[J]=an[z]=an[ne]=an[te]=an[de]=an[Me]=an[Ae]=!0,an[gt]=an[Mt]=an[N]=an[Fe]=an[X]=an[Ye]=an[vt]=an[ye]=an[Pe]=an[je]=an[rt]=an[lt]=an[We]=an[St]=an[W]=!1;var sn={};sn[gt]=sn[Mt]=sn[N]=sn[X]=sn[Fe]=sn[Ye]=sn[Ee]=sn[be]=sn[J]=sn[z]=sn[ne]=sn[Pe]=sn[je]=sn[rt]=sn[lt]=sn[We]=sn[St]=sn[Et]=sn[te]=sn[de]=sn[Me]=sn[Ae]=!0,sn[vt]=sn[ye]=sn[W]=!1;var as={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ls={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},us={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ds=parseFloat,fs=parseInt,Zi=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ps=typeof self=="object"&&self&&self.Object===Object&&self,mn=Zi||ps||Function("return this")(),bi=e&&!e.nodeType&&e,cr=bi&&!0&&t&&!t.nodeType&&t,Qi=cr&&cr.exports===bi,Ci=Qi&&Zi.process,kn=function(){try{var ke=cr&&cr.require&&cr.require("util").types;return ke||Ci&&Ci.binding&&Ci.binding("util")}catch{}}(),eo=kn&&kn.isArrayBuffer,to=kn&&kn.isDate,no=kn&&kn.isMap,ro=kn&&kn.isRegExp,io=kn&&kn.isSet,oo=kn&&kn.isTypedArray;function xn(ke,Ke,$e){switch($e.length){case 0:return ke.call(Ke);case 1:return ke.call(Ke,$e[0]);case 2:return ke.call(Ke,$e[0],$e[1]);case 3:return ke.call(Ke,$e[0],$e[1],$e[2])}return ke.apply(Ke,$e)}function hs(ke,Ke,$e,xt){for(var jt=-1,en=ke==null?0:ke.length;++jt<en;){var gn=ke[jt];Ke(xt,gn,$e(gn),ke)}return xt}function Rn(ke,Ke){for(var $e=-1,xt=ke==null?0:ke.length;++$e<xt&&Ke(ke[$e],$e,ke)!==!1;);return ke}function ms(ke,Ke){for(var $e=ke==null?0:ke.length;$e--&&Ke(ke[$e],$e,ke)!==!1;);return ke}function so(ke,Ke){for(var $e=-1,xt=ke==null?0:ke.length;++$e<xt;)if(!Ke(ke[$e],$e,ke))return!1;return!0}function ir(ke,Ke){for(var $e=-1,xt=ke==null?0:ke.length,jt=0,en=[];++$e<xt;){var gn=ke[$e];Ke(gn,$e,ke)&&(en[jt++]=gn)}return en}function ti(ke,Ke){var $e=ke==null?0:ke.length;return!!$e&&Sr(ke,Ke,0)>-1}function Ti(ke,Ke,$e){for(var xt=-1,jt=ke==null?0:ke.length;++xt<jt;)if($e(Ke,ke[xt]))return!0;return!1}function cn(ke,Ke){for(var $e=-1,xt=ke==null?0:ke.length,jt=Array(xt);++$e<xt;)jt[$e]=Ke(ke[$e],$e,ke);return jt}function or(ke,Ke){for(var $e=-1,xt=Ke.length,jt=ke.length;++$e<xt;)ke[jt+$e]=Ke[$e];return ke}function Si(ke,Ke,$e,xt){var jt=-1,en=ke==null?0:ke.length;for(xt&&en&&($e=ke[++jt]);++jt<en;)$e=Ke($e,ke[jt],jt,ke);return $e}function gs(ke,Ke,$e,xt){var jt=ke==null?0:ke.length;for(xt&&jt&&($e=ke[--jt]);jt--;)$e=Ke($e,ke[jt],jt,ke);return $e}function _i(ke,Ke){for(var $e=-1,xt=ke==null?0:ke.length;++$e<xt;)if(Ke(ke[$e],$e,ke))return!0;return!1}var ys=wi("length");function vs(ke){return ke.split("")}function Es(ke){return ke.match(bt)||[]}function ao(ke,Ke,$e){var xt;return $e(ke,function(jt,en,gn){if(Ke(jt,en,gn))return xt=en,!1}),xt}function ni(ke,Ke,$e,xt){for(var jt=ke.length,en=$e+(xt?1:-1);xt?en--:++en<jt;)if(Ke(ke[en],en,ke))return en;return-1}function Sr(ke,Ke,$e){return Ke===Ke?Be(ke,Ke,$e):ni(ke,lo,$e)}function bs(ke,Ke,$e,xt){for(var jt=$e-1,en=ke.length;++jt<en;)if(xt(ke[jt],Ke))return jt;return-1}function lo(ke){return ke!==ke}function co(ke,Ke){var $e=ke==null?0:ke.length;return $e?xi(ke,Ke)/$e:ft}function wi(ke){return function(Ke){return Ke==null?n:Ke[ke]}}function Ai(ke){return function(Ke){return ke==null?n:ke[Ke]}}function uo(ke,Ke,$e,xt,jt){return jt(ke,function(en,gn,ln){$e=xt?(xt=!1,en):Ke($e,en,gn,ln)}),$e}function Cs(ke,Ke){var $e=ke.length;for(ke.sort(Ke);$e--;)ke[$e]=ke[$e].value;return ke}function xi(ke,Ke){for(var $e,xt=-1,jt=ke.length;++xt<jt;){var en=Ke(ke[xt]);en!==n&&($e=$e===n?en:$e+en)}return $e}function Ni(ke,Ke){for(var $e=-1,xt=Array(ke);++$e<ke;)xt[$e]=Ke($e);return xt}function Ts(ke,Ke){return cn(Ke,function($e){return[$e,ke[$e]]})}function fo(ke){return ke&&ke.slice(0,At(ke)+1).replace(he,"")}function Nn(ke){return function(Ke){return ke(Ke)}}function Rr(ke,Ke){return cn(Ke,function($e){return ke[$e]})}function En(ke,Ke){return ke.has(Ke)}function ri(ke,Ke){for(var $e=-1,xt=ke.length;++$e<xt&&Sr(Ke,ke[$e],0)>-1;);return $e}function ii(ke,Ke){for(var $e=ke.length;$e--&&Sr(Ke,ke[$e],0)>-1;);return $e}function ur(ke,Ke){for(var $e=ke.length,xt=0;$e--;)ke[$e]===Ke&&++xt;return xt}var po=Ai(as),Oi=Ai(ls);function Lr(ke){return"\\"+us[ke]}function Ss(ke,Ke){return ke==null?n:ke[Ke]}function d(ke){return ns.test(ke)}function E(ke){return rs.test(ke)}function M(ke){for(var Ke,$e=[];!(Ke=ke.next()).done;)$e.push(Ke.value);return $e}function L(ke){var Ke=-1,$e=Array(ke.size);return ke.forEach(function(xt,jt){$e[++Ke]=[jt,xt]}),$e}function K(ke,Ke){return function($e){return ke(Ke($e))}}function Z(ke,Ke){for(var $e=-1,xt=ke.length,jt=0,en=[];++$e<xt;){var gn=ke[$e];(gn===Ke||gn===f)&&(ke[$e]=f,en[jt++]=$e)}return en}function ce(ke){var Ke=-1,$e=Array(ke.size);return ke.forEach(function(xt){$e[++Ke]=xt}),$e}function xe(ke){var Ke=-1,$e=Array(ke.size);return ke.forEach(function(xt){$e[++Ke]=[xt,xt]}),$e}function Be(ke,Ke,$e){for(var xt=$e-1,jt=ke.length;++xt<jt;)if(ke[xt]===Ke)return xt;return-1}function ot(ke,Ke,$e){for(var xt=$e+1;xt--;)if(ke[xt]===Ke)return xt;return xt}function yt(ke){return d(ke)?Yt(ke):ys(ke)}function wt(ke){return d(ke)?Zt(ke):vs(ke)}function At(ke){for(var Ke=ke.length;Ke--&&Re.test(ke.charAt(Ke)););return Ke}var Bt=Ai(cs);function Yt(ke){for(var Ke=Ei.lastIndex=0;Ei.test(ke);)++Ke;return Ke}function Zt(ke){return ke.match(Ei)||[]}function _n(ke){return ke.match(es)||[]}var un=function ke(Ke){Ke=Ke==null?mn:On.defaults(mn.Object(),Ke,On.pick(mn,is));var $e=Ke.Array,xt=Ke.Date,jt=Ke.Error,en=Ke.Function,gn=Ke.Math,ln=Ke.Object,_s=Ke.RegExp,mc=Ke.String,Un=Ke.TypeError,ho=$e.prototype,gc=en.prototype,oi=ln.prototype,mo=Ke["__core-js_shared__"],go=gc.toString,on=oi.hasOwnProperty,yc=0,Sa=function(){var m=/[^.]+$/.exec(mo&&mo.keys&&mo.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),yo=oi.toString,vc=go.call(ln),Ec=mn._,bc=_s("^"+go.call(on).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vo=Qi?Ke.Buffer:n,_r=Ke.Symbol,Eo=Ke.Uint8Array,_a=vo?vo.allocUnsafe:n,bo=K(ln.getPrototypeOf,ln),wa=ln.create,Aa=oi.propertyIsEnumerable,Co=ho.splice,xa=_r?_r.isConcatSpreadable:n,Mi=_r?_r.iterator:n,Pr=_r?_r.toStringTag:n,To=function(){try{var m=jr(ln,"defineProperty");return m({},"",{}),m}catch{}}(),Cc=Ke.clearTimeout!==mn.clearTimeout&&Ke.clearTimeout,Tc=xt&&xt.now!==mn.Date.now&&xt.now,Sc=Ke.setTimeout!==mn.setTimeout&&Ke.setTimeout,So=gn.ceil,_o=gn.floor,ws=ln.getOwnPropertySymbols,_c=vo?vo.isBuffer:n,Na=Ke.isFinite,wc=ho.join,Ac=K(ln.keys,ln),yn=gn.max,wn=gn.min,xc=xt.now,Nc=Ke.parseInt,Oa=gn.random,Oc=ho.reverse,As=jr(Ke,"DataView"),Di=jr(Ke,"Map"),xs=jr(Ke,"Promise"),si=jr(Ke,"Set"),Ii=jr(Ke,"WeakMap"),ki=jr(ln,"create"),wo=Ii&&new Ii,ai={},Mc=Vr(As),Dc=Vr(Di),Ic=Vr(xs),kc=Vr(si),Rc=Vr(Ii),Ao=_r?_r.prototype:n,Ri=Ao?Ao.valueOf:n,Ma=Ao?Ao.toString:n;function se(m){if(fn(m)&&!Vt(m)&&!(m instanceof Gt)){if(m instanceof zn)return m;if(on.call(m,"__wrapped__"))return Il(m)}return new zn(m)}var li=function(){function m(){}return function(C){if(!dn(C))return{};if(wa)return wa(C);m.prototype=C;var I=new m;return m.prototype=n,I}}();function xo(){}function zn(m,C){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=n}se.templateSettings={escape:He,evaluate:it,interpolate:oe,variable:"",imports:{_:se}},se.prototype=xo.prototype,se.prototype.constructor=se,zn.prototype=li(xo.prototype),zn.prototype.constructor=zn;function Gt(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function Lc(){var m=new Gt(this.__wrapped__);return m.__actions__=Ln(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Ln(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Ln(this.__views__),m}function Pc(){if(this.__filtered__){var m=new Gt(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function Bc(){var m=this.__wrapped__.value(),C=this.__dir__,I=Vt(m),U=C<0,ee=I?m.length:0,ue=Gu(0,ee,this.__views__),Te=ue.start,Oe=ue.end,Le=Oe-Te,Qe=U?Oe:Te-1,nt=this.__iteratees__,at=nt.length,Tt=0,Ot=wn(Le,this.__takeCount__);if(!I||!U&&ee==Le&&Ot==Le)return el(m,this.__actions__);var Rt=[];e:for(;Le--&&Tt<Ot;){Qe+=C;for(var zt=-1,Lt=m[Qe];++zt<at;){var qt=nt[zt],Jt=qt.iteratee,jn=qt.type,In=Jt(Lt);if(jn==Se)Lt=In;else if(!In){if(jn==le)continue e;break e}}Rt[Tt++]=Lt}return Rt}Gt.prototype=li(xo.prototype),Gt.prototype.constructor=Gt;function Br(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var U=m[C];this.set(U[0],U[1])}}function Fc(){this.__data__=ki?ki(null):{},this.size=0}function Hc(m){var C=this.has(m)&&delete this.__data__[m];return this.size-=C?1:0,C}function $c(m){var C=this.__data__;if(ki){var I=C[m];return I===l?n:I}return on.call(C,m)?C[m]:n}function jc(m){var C=this.__data__;return ki?C[m]!==n:on.call(C,m)}function Vc(m,C){var I=this.__data__;return this.size+=this.has(m)?0:1,I[m]=ki&&C===n?l:C,this}Br.prototype.clear=Fc,Br.prototype.delete=Hc,Br.prototype.get=$c,Br.prototype.has=jc,Br.prototype.set=Vc;function dr(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var U=m[C];this.set(U[0],U[1])}}function Wc(){this.__data__=[],this.size=0}function Uc(m){var C=this.__data__,I=No(C,m);if(I<0)return!1;var U=C.length-1;return I==U?C.pop():Co.call(C,I,1),--this.size,!0}function zc(m){var C=this.__data__,I=No(C,m);return I<0?n:C[I][1]}function Kc(m){return No(this.__data__,m)>-1}function Yc(m,C){var I=this.__data__,U=No(I,m);return U<0?(++this.size,I.push([m,C])):I[U][1]=C,this}dr.prototype.clear=Wc,dr.prototype.delete=Uc,dr.prototype.get=zc,dr.prototype.has=Kc,dr.prototype.set=Yc;function fr(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var U=m[C];this.set(U[0],U[1])}}function qc(){this.size=0,this.__data__={hash:new Br,map:new(Di||dr),string:new Br}}function Gc(m){var C=$o(this,m).delete(m);return this.size-=C?1:0,C}function Jc(m){return $o(this,m).get(m)}function Xc(m){return $o(this,m).has(m)}function Zc(m,C){var I=$o(this,m),U=I.size;return I.set(m,C),this.size+=I.size==U?0:1,this}fr.prototype.clear=qc,fr.prototype.delete=Gc,fr.prototype.get=Jc,fr.prototype.has=Xc,fr.prototype.set=Zc;function Fr(m){var C=-1,I=m==null?0:m.length;for(this.__data__=new fr;++C<I;)this.add(m[C])}function Qc(m){return this.__data__.set(m,l),this}function eu(m){return this.__data__.has(m)}Fr.prototype.add=Fr.prototype.push=Qc,Fr.prototype.has=eu;function Xn(m){var C=this.__data__=new dr(m);this.size=C.size}function tu(){this.__data__=new dr,this.size=0}function nu(m){var C=this.__data__,I=C.delete(m);return this.size=C.size,I}function ru(m){return this.__data__.get(m)}function iu(m){return this.__data__.has(m)}function ou(m,C){var I=this.__data__;if(I instanceof dr){var U=I.__data__;if(!Di||U.length<o-1)return U.push([m,C]),this.size=++I.size,this;I=this.__data__=new fr(U)}return I.set(m,C),this.size=I.size,this}Xn.prototype.clear=tu,Xn.prototype.delete=nu,Xn.prototype.get=ru,Xn.prototype.has=iu,Xn.prototype.set=ou;function Da(m,C){var I=Vt(m),U=!I&&Wr(m),ee=!I&&!U&&Or(m),ue=!I&&!U&&!ee&&fi(m),Te=I||U||ee||ue,Oe=Te?Ni(m.length,mc):[],Le=Oe.length;for(var Qe in m)(C||on.call(m,Qe))&&!(Te&&(Qe=="length"||ee&&(Qe=="offset"||Qe=="parent")||ue&&(Qe=="buffer"||Qe=="byteLength"||Qe=="byteOffset")||gr(Qe,Le)))&&Oe.push(Qe);return Oe}function Ia(m){var C=m.length;return C?m[Fs(0,C-1)]:n}function su(m,C){return jo(Ln(m),Hr(C,0,m.length))}function au(m){return jo(Ln(m))}function Ns(m,C,I){(I!==n&&!Zn(m[C],I)||I===n&&!(C in m))&&pr(m,C,I)}function Li(m,C,I){var U=m[C];(!(on.call(m,C)&&Zn(U,I))||I===n&&!(C in m))&&pr(m,C,I)}function No(m,C){for(var I=m.length;I--;)if(Zn(m[I][0],C))return I;return-1}function lu(m,C,I,U){return wr(m,function(ee,ue,Te){C(U,ee,I(ee),Te)}),U}function ka(m,C){return m&&ar(C,bn(C),m)}function cu(m,C){return m&&ar(C,Bn(C),m)}function pr(m,C,I){C=="__proto__"&&To?To(m,C,{configurable:!0,enumerable:!0,value:I,writable:!0}):m[C]=I}function Os(m,C){for(var I=-1,U=C.length,ee=$e(U),ue=m==null;++I<U;)ee[I]=ue?n:ua(m,C[I]);return ee}function Hr(m,C,I){return m===m&&(I!==n&&(m=m<=I?m:I),C!==n&&(m=m>=C?m:C)),m}function Kn(m,C,I,U,ee,ue){var Te,Oe=C&b,Le=C&S,Qe=C&v;if(I&&(Te=ee?I(m,U,ee,ue):I(m)),Te!==n)return Te;if(!dn(m))return m;var nt=Vt(m);if(nt){if(Te=Xu(m),!Oe)return Ln(m,Te)}else{var at=An(m),Tt=at==ye||at==we;if(Or(m))return rl(m,Oe);if(at==rt||at==gt||Tt&&!ee){if(Te=Le||Tt?{}:Tl(m),!Oe)return Le?$u(m,cu(Te,m)):Hu(m,ka(Te,m))}else{if(!sn[at])return ee?m:{};Te=Zu(m,at,Oe)}}ue||(ue=new Xn);var Ot=ue.get(m);if(Ot)return Ot;ue.set(m,Te),Zl(m)?m.forEach(function(Lt){Te.add(Kn(Lt,C,I,Lt,m,ue))}):Jl(m)&&m.forEach(function(Lt,qt){Te.set(qt,Kn(Lt,C,I,qt,m,ue))});var Rt=Qe?Le?Gs:qs:Le?Bn:bn,zt=nt?n:Rt(m);return Rn(zt||m,function(Lt,qt){zt&&(qt=Lt,Lt=m[qt]),Li(Te,qt,Kn(Lt,C,I,qt,m,ue))}),Te}function uu(m){var C=bn(m);return function(I){return Ra(I,m,C)}}function Ra(m,C,I){var U=I.length;if(m==null)return!U;for(m=ln(m);U--;){var ee=I[U],ue=C[ee],Te=m[ee];if(Te===n&&!(ee in m)||!ue(Te))return!1}return!0}function La(m,C,I){if(typeof m!="function")throw new Un(a);return Vi(function(){m.apply(n,I)},C)}function Pi(m,C,I,U){var ee=-1,ue=ti,Te=!0,Oe=m.length,Le=[],Qe=C.length;if(!Oe)return Le;I&&(C=cn(C,Nn(I))),U?(ue=Ti,Te=!1):C.length>=o&&(ue=En,Te=!1,C=new Fr(C));e:for(;++ee<Oe;){var nt=m[ee],at=I==null?nt:I(nt);if(nt=U||nt!==0?nt:0,Te&&at===at){for(var Tt=Qe;Tt--;)if(C[Tt]===at)continue e;Le.push(nt)}else ue(C,at,U)||Le.push(nt)}return Le}var wr=ll(sr),Pa=ll(Ds,!0);function du(m,C){var I=!0;return wr(m,function(U,ee,ue){return I=!!C(U,ee,ue),I}),I}function Oo(m,C,I){for(var U=-1,ee=m.length;++U<ee;){var ue=m[U],Te=C(ue);if(Te!=null&&(Oe===n?Te===Te&&!$n(Te):I(Te,Oe)))var Oe=Te,Le=ue}return Le}function fu(m,C,I,U){var ee=m.length;for(I=Ut(I),I<0&&(I=-I>ee?0:ee+I),U=U===n||U>ee?ee:Ut(U),U<0&&(U+=ee),U=I>U?0:ec(U);I<U;)m[I++]=C;return m}function Ba(m,C){var I=[];return wr(m,function(U,ee,ue){C(U,ee,ue)&&I.push(U)}),I}function Sn(m,C,I,U,ee){var ue=-1,Te=m.length;for(I||(I=ed),ee||(ee=[]);++ue<Te;){var Oe=m[ue];C>0&&I(Oe)?C>1?Sn(Oe,C-1,I,U,ee):or(ee,Oe):U||(ee[ee.length]=Oe)}return ee}var Ms=cl(),Fa=cl(!0);function sr(m,C){return m&&Ms(m,C,bn)}function Ds(m,C){return m&&Fa(m,C,bn)}function Mo(m,C){return ir(C,function(I){return yr(m[I])})}function $r(m,C){C=xr(C,m);for(var I=0,U=C.length;m!=null&&I<U;)m=m[lr(C[I++])];return I&&I==U?m:n}function Ha(m,C,I){var U=C(m);return Vt(m)?U:or(U,I(m))}function Mn(m){return m==null?m===n?H:ze:Pr&&Pr in ln(m)?qu(m):ad(m)}function Is(m,C){return m>C}function pu(m,C){return m!=null&&on.call(m,C)}function hu(m,C){return m!=null&&C in ln(m)}function mu(m,C,I){return m>=wn(C,I)&&m<yn(C,I)}function ks(m,C,I){for(var U=I?Ti:ti,ee=m[0].length,ue=m.length,Te=ue,Oe=$e(ue),Le=1/0,Qe=[];Te--;){var nt=m[Te];Te&&C&&(nt=cn(nt,Nn(C))),Le=wn(nt.length,Le),Oe[Te]=!I&&(C||ee>=120&&nt.length>=120)?new Fr(Te&&nt):n}nt=m[0];var at=-1,Tt=Oe[0];e:for(;++at<ee&&Qe.length<Le;){var Ot=nt[at],Rt=C?C(Ot):Ot;if(Ot=I||Ot!==0?Ot:0,!(Tt?En(Tt,Rt):U(Qe,Rt,I))){for(Te=ue;--Te;){var zt=Oe[Te];if(!(zt?En(zt,Rt):U(m[Te],Rt,I)))continue e}Tt&&Tt.push(Rt),Qe.push(Ot)}}return Qe}function gu(m,C,I,U){return sr(m,function(ee,ue,Te){C(U,I(ee),ue,Te)}),U}function Bi(m,C,I){C=xr(C,m),m=Al(m,C);var U=m==null?m:m[lr(qn(C))];return U==null?n:xn(U,m,I)}function $a(m){return fn(m)&&Mn(m)==gt}function yu(m){return fn(m)&&Mn(m)==N}function vu(m){return fn(m)&&Mn(m)==Ye}function Fi(m,C,I,U,ee){return m===C?!0:m==null||C==null||!fn(m)&&!fn(C)?m!==m&&C!==C:Eu(m,C,I,U,Fi,ee)}function Eu(m,C,I,U,ee,ue){var Te=Vt(m),Oe=Vt(C),Le=Te?Mt:An(m),Qe=Oe?Mt:An(C);Le=Le==gt?rt:Le,Qe=Qe==gt?rt:Qe;var nt=Le==rt,at=Qe==rt,Tt=Le==Qe;if(Tt&&Or(m)){if(!Or(C))return!1;Te=!0,nt=!1}if(Tt&&!nt)return ue||(ue=new Xn),Te||fi(m)?El(m,C,I,U,ee,ue):Ku(m,C,Le,I,U,ee,ue);if(!(I&g)){var Ot=nt&&on.call(m,"__wrapped__"),Rt=at&&on.call(C,"__wrapped__");if(Ot||Rt){var zt=Ot?m.value():m,Lt=Rt?C.value():C;return ue||(ue=new Xn),ee(zt,Lt,I,U,ue)}}return Tt?(ue||(ue=new Xn),Yu(m,C,I,U,ee,ue)):!1}function bu(m){return fn(m)&&An(m)==Pe}function Rs(m,C,I,U){var ee=I.length,ue=ee,Te=!U;if(m==null)return!ue;for(m=ln(m);ee--;){var Oe=I[ee];if(Te&&Oe[2]?Oe[1]!==m[Oe[0]]:!(Oe[0]in m))return!1}for(;++ee<ue;){Oe=I[ee];var Le=Oe[0],Qe=m[Le],nt=Oe[1];if(Te&&Oe[2]){if(Qe===n&&!(Le in m))return!1}else{var at=new Xn;if(U)var Tt=U(Qe,nt,Le,m,C,at);if(!(Tt===n?Fi(nt,Qe,g|w,U,at):Tt))return!1}}return!0}function ja(m){if(!dn(m)||nd(m))return!1;var C=yr(m)?bc:Wt;return C.test(Vr(m))}function Cu(m){return fn(m)&&Mn(m)==lt}function Tu(m){return fn(m)&&An(m)==We}function Su(m){return fn(m)&&Yo(m.length)&&!!an[Mn(m)]}function Va(m){return typeof m=="function"?m:m==null?Fn:typeof m=="object"?Vt(m)?za(m[0],m[1]):Ua(m):dc(m)}function Ls(m){if(!ji(m))return Ac(m);var C=[];for(var I in ln(m))on.call(m,I)&&I!="constructor"&&C.push(I);return C}function _u(m){if(!dn(m))return sd(m);var C=ji(m),I=[];for(var U in m)U=="constructor"&&(C||!on.call(m,U))||I.push(U);return I}function Ps(m,C){return m<C}function Wa(m,C){var I=-1,U=Pn(m)?$e(m.length):[];return wr(m,function(ee,ue,Te){U[++I]=C(ee,ue,Te)}),U}function Ua(m){var C=Xs(m);return C.length==1&&C[0][2]?_l(C[0][0],C[0][1]):function(I){return I===m||Rs(I,m,C)}}function za(m,C){return Qs(m)&&Sl(C)?_l(lr(m),C):function(I){var U=ua(I,m);return U===n&&U===C?da(I,m):Fi(C,U,g|w)}}function Do(m,C,I,U,ee){m!==C&&Ms(C,function(ue,Te){if(ee||(ee=new Xn),dn(ue))wu(m,C,Te,I,Do,U,ee);else{var Oe=U?U(na(m,Te),ue,Te+"",m,C,ee):n;Oe===n&&(Oe=ue),Ns(m,Te,Oe)}},Bn)}function wu(m,C,I,U,ee,ue,Te){var Oe=na(m,I),Le=na(C,I),Qe=Te.get(Le);if(Qe){Ns(m,I,Qe);return}var nt=ue?ue(Oe,Le,I+"",m,C,Te):n,at=nt===n;if(at){var Tt=Vt(Le),Ot=!Tt&&Or(Le),Rt=!Tt&&!Ot&&fi(Le);nt=Le,Tt||Ot||Rt?Vt(Oe)?nt=Oe:pn(Oe)?nt=Ln(Oe):Ot?(at=!1,nt=rl(Le,!0)):Rt?(at=!1,nt=il(Le,!0)):nt=[]:Wi(Le)||Wr(Le)?(nt=Oe,Wr(Oe)?nt=tc(Oe):(!dn(Oe)||yr(Oe))&&(nt=Tl(Le))):at=!1}at&&(Te.set(Le,nt),ee(nt,Le,U,ue,Te),Te.delete(Le)),Ns(m,I,nt)}function Ka(m,C){var I=m.length;if(I)return C+=C<0?I:0,gr(C,I)?m[C]:n}function Ya(m,C,I){C.length?C=cn(C,function(ue){return Vt(ue)?function(Te){return $r(Te,ue.length===1?ue[0]:ue)}:ue}):C=[Fn];var U=-1;C=cn(C,Nn(kt()));var ee=Wa(m,function(ue,Te,Oe){var Le=cn(C,function(Qe){return Qe(ue)});return{criteria:Le,index:++U,value:ue}});return Cs(ee,function(ue,Te){return Fu(ue,Te,I)})}function Au(m,C){return qa(m,C,function(I,U){return da(m,U)})}function qa(m,C,I){for(var U=-1,ee=C.length,ue={};++U<ee;){var Te=C[U],Oe=$r(m,Te);I(Oe,Te)&&Hi(ue,xr(Te,m),Oe)}return ue}function xu(m){return function(C){return $r(C,m)}}function Bs(m,C,I,U){var ee=U?bs:Sr,ue=-1,Te=C.length,Oe=m;for(m===C&&(C=Ln(C)),I&&(Oe=cn(m,Nn(I)));++ue<Te;)for(var Le=0,Qe=C[ue],nt=I?I(Qe):Qe;(Le=ee(Oe,nt,Le,U))>-1;)Oe!==m&&Co.call(Oe,Le,1),Co.call(m,Le,1);return m}function Ga(m,C){for(var I=m?C.length:0,U=I-1;I--;){var ee=C[I];if(I==U||ee!==ue){var ue=ee;gr(ee)?Co.call(m,ee,1):js(m,ee)}}return m}function Fs(m,C){return m+_o(Oa()*(C-m+1))}function Nu(m,C,I,U){for(var ee=-1,ue=yn(So((C-m)/(I||1)),0),Te=$e(ue);ue--;)Te[U?ue:++ee]=m,m+=I;return Te}function Hs(m,C){var I="";if(!m||C<1||C>Ne)return I;do C%2&&(I+=m),C=_o(C/2),C&&(m+=m);while(C);return I}function Kt(m,C){return ra(wl(m,C,Fn),m+"")}function Ou(m){return Ia(pi(m))}function Mu(m,C){var I=pi(m);return jo(I,Hr(C,0,I.length))}function Hi(m,C,I,U){if(!dn(m))return m;C=xr(C,m);for(var ee=-1,ue=C.length,Te=ue-1,Oe=m;Oe!=null&&++ee<ue;){var Le=lr(C[ee]),Qe=I;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return m;if(ee!=Te){var nt=Oe[Le];Qe=U?U(nt,Le,Oe):n,Qe===n&&(Qe=dn(nt)?nt:gr(C[ee+1])?[]:{})}Li(Oe,Le,Qe),Oe=Oe[Le]}return m}var Ja=wo?function(m,C){return wo.set(m,C),m}:Fn,Du=To?function(m,C){return To(m,"toString",{configurable:!0,enumerable:!1,value:pa(C),writable:!0})}:Fn;function Iu(m){return jo(pi(m))}function Yn(m,C,I){var U=-1,ee=m.length;C<0&&(C=-C>ee?0:ee+C),I=I>ee?ee:I,I<0&&(I+=ee),ee=C>I?0:I-C>>>0,C>>>=0;for(var ue=$e(ee);++U<ee;)ue[U]=m[U+C];return ue}function ku(m,C){var I;return wr(m,function(U,ee,ue){return I=C(U,ee,ue),!I}),!!I}function Io(m,C,I){var U=0,ee=m==null?U:m.length;if(typeof C=="number"&&C===C&&ee<=re){for(;U<ee;){var ue=U+ee>>>1,Te=m[ue];Te!==null&&!$n(Te)&&(I?Te<=C:Te<C)?U=ue+1:ee=ue}return ee}return $s(m,C,Fn,I)}function $s(m,C,I,U){var ee=0,ue=m==null?0:m.length;if(ue===0)return 0;C=I(C);for(var Te=C!==C,Oe=C===null,Le=$n(C),Qe=C===n;ee<ue;){var nt=_o((ee+ue)/2),at=I(m[nt]),Tt=at!==n,Ot=at===null,Rt=at===at,zt=$n(at);if(Te)var Lt=U||Rt;else Qe?Lt=Rt&&(U||Tt):Oe?Lt=Rt&&Tt&&(U||!Ot):Le?Lt=Rt&&Tt&&!Ot&&(U||!zt):Ot||zt?Lt=!1:Lt=U?at<=C:at<C;Lt?ee=nt+1:ue=nt}return wn(ue,Nt)}function Xa(m,C){for(var I=-1,U=m.length,ee=0,ue=[];++I<U;){var Te=m[I],Oe=C?C(Te):Te;if(!I||!Zn(Oe,Le)){var Le=Oe;ue[ee++]=Te===0?0:Te}}return ue}function Za(m){return typeof m=="number"?m:$n(m)?ft:+m}function Hn(m){if(typeof m=="string")return m;if(Vt(m))return cn(m,Hn)+"";if($n(m))return Ma?Ma.call(m):"";var C=m+"";return C=="0"&&1/m==-fe?"-0":C}function Ar(m,C,I){var U=-1,ee=ti,ue=m.length,Te=!0,Oe=[],Le=Oe;if(I)Te=!1,ee=Ti;else if(ue>=o){var Qe=C?null:Uu(m);if(Qe)return ce(Qe);Te=!1,ee=En,Le=new Fr}else Le=C?[]:Oe;e:for(;++U<ue;){var nt=m[U],at=C?C(nt):nt;if(nt=I||nt!==0?nt:0,Te&&at===at){for(var Tt=Le.length;Tt--;)if(Le[Tt]===at)continue e;C&&Le.push(at),Oe.push(nt)}else ee(Le,at,I)||(Le!==Oe&&Le.push(at),Oe.push(nt))}return Oe}function js(m,C){return C=xr(C,m),m=Al(m,C),m==null||delete m[lr(qn(C))]}function Qa(m,C,I,U){return Hi(m,C,I($r(m,C)),U)}function ko(m,C,I,U){for(var ee=m.length,ue=U?ee:-1;(U?ue--:++ue<ee)&&C(m[ue],ue,m););return I?Yn(m,U?0:ue,U?ue+1:ee):Yn(m,U?ue+1:0,U?ee:ue)}function el(m,C){var I=m;return I instanceof Gt&&(I=I.value()),Si(C,function(U,ee){return ee.func.apply(ee.thisArg,or([U],ee.args))},I)}function Vs(m,C,I){var U=m.length;if(U<2)return U?Ar(m[0]):[];for(var ee=-1,ue=$e(U);++ee<U;)for(var Te=m[ee],Oe=-1;++Oe<U;)Oe!=ee&&(ue[ee]=Pi(ue[ee]||Te,m[Oe],C,I));return Ar(Sn(ue,1),C,I)}function tl(m,C,I){for(var U=-1,ee=m.length,ue=C.length,Te={};++U<ee;){var Oe=U<ue?C[U]:n;I(Te,m[U],Oe)}return Te}function Ws(m){return pn(m)?m:[]}function Us(m){return typeof m=="function"?m:Fn}function xr(m,C){return Vt(m)?m:Qs(m,C)?[m]:Dl(nn(m))}var Ru=Kt;function Nr(m,C,I){var U=m.length;return I=I===n?U:I,!C&&I>=U?m:Yn(m,C,I)}var nl=Cc||function(m){return mn.clearTimeout(m)};function rl(m,C){if(C)return m.slice();var I=m.length,U=_a?_a(I):new m.constructor(I);return m.copy(U),U}function zs(m){var C=new m.constructor(m.byteLength);return new Eo(C).set(new Eo(m)),C}function Lu(m,C){var I=C?zs(m.buffer):m.buffer;return new m.constructor(I,m.byteOffset,m.byteLength)}function Pu(m){var C=new m.constructor(m.source,qe.exec(m));return C.lastIndex=m.lastIndex,C}function Bu(m){return Ri?ln(Ri.call(m)):{}}function il(m,C){var I=C?zs(m.buffer):m.buffer;return new m.constructor(I,m.byteOffset,m.length)}function ol(m,C){if(m!==C){var I=m!==n,U=m===null,ee=m===m,ue=$n(m),Te=C!==n,Oe=C===null,Le=C===C,Qe=$n(C);if(!Oe&&!Qe&&!ue&&m>C||ue&&Te&&Le&&!Oe&&!Qe||U&&Te&&Le||!I&&Le||!ee)return 1;if(!U&&!ue&&!Qe&&m<C||Qe&&I&&ee&&!U&&!ue||Oe&&I&&ee||!Te&&ee||!Le)return-1}return 0}function Fu(m,C,I){for(var U=-1,ee=m.criteria,ue=C.criteria,Te=ee.length,Oe=I.length;++U<Te;){var Le=ol(ee[U],ue[U]);if(Le){if(U>=Oe)return Le;var Qe=I[U];return Le*(Qe=="desc"?-1:1)}}return m.index-C.index}function sl(m,C,I,U){for(var ee=-1,ue=m.length,Te=I.length,Oe=-1,Le=C.length,Qe=yn(ue-Te,0),nt=$e(Le+Qe),at=!U;++Oe<Le;)nt[Oe]=C[Oe];for(;++ee<Te;)(at||ee<ue)&&(nt[I[ee]]=m[ee]);for(;Qe--;)nt[Oe++]=m[ee++];return nt}function al(m,C,I,U){for(var ee=-1,ue=m.length,Te=-1,Oe=I.length,Le=-1,Qe=C.length,nt=yn(ue-Oe,0),at=$e(nt+Qe),Tt=!U;++ee<nt;)at[ee]=m[ee];for(var Ot=ee;++Le<Qe;)at[Ot+Le]=C[Le];for(;++Te<Oe;)(Tt||ee<ue)&&(at[Ot+I[Te]]=m[ee++]);return at}function Ln(m,C){var I=-1,U=m.length;for(C||(C=$e(U));++I<U;)C[I]=m[I];return C}function ar(m,C,I,U){var ee=!I;I||(I={});for(var ue=-1,Te=C.length;++ue<Te;){var Oe=C[ue],Le=U?U(I[Oe],m[Oe],Oe,I,m):n;Le===n&&(Le=m[Oe]),ee?pr(I,Oe,Le):Li(I,Oe,Le)}return I}function Hu(m,C){return ar(m,Zs(m),C)}function $u(m,C){return ar(m,bl(m),C)}function Ro(m,C){return function(I,U){var ee=Vt(I)?hs:lu,ue=C?C():{};return ee(I,m,kt(U,2),ue)}}function ci(m){return Kt(function(C,I){var U=-1,ee=I.length,ue=ee>1?I[ee-1]:n,Te=ee>2?I[2]:n;for(ue=m.length>3&&typeof ue=="function"?(ee--,ue):n,Te&&Dn(I[0],I[1],Te)&&(ue=ee<3?n:ue,ee=1),C=ln(C);++U<ee;){var Oe=I[U];Oe&&m(C,Oe,U,ue)}return C})}function ll(m,C){return function(I,U){if(I==null)return I;if(!Pn(I))return m(I,U);for(var ee=I.length,ue=C?ee:-1,Te=ln(I);(C?ue--:++ue<ee)&&U(Te[ue],ue,Te)!==!1;);return I}}function cl(m){return function(C,I,U){for(var ee=-1,ue=ln(C),Te=U(C),Oe=Te.length;Oe--;){var Le=Te[m?Oe:++ee];if(I(ue[Le],Le,ue)===!1)break}return C}}function ju(m,C,I){var U=C&A,ee=$i(m);function ue(){var Te=this&&this!==mn&&this instanceof ue?ee:m;return Te.apply(U?I:this,arguments)}return ue}function ul(m){return function(C){C=nn(C);var I=d(C)?wt(C):n,U=I?I[0]:C.charAt(0),ee=I?Nr(I,1).join(""):C.slice(1);return U[m]()+ee}}function ui(m){return function(C){return Si(cc(lc(C).replace(Xi,"")),m,"")}}function $i(m){return function(){var C=arguments;switch(C.length){case 0:return new m;case 1:return new m(C[0]);case 2:return new m(C[0],C[1]);case 3:return new m(C[0],C[1],C[2]);case 4:return new m(C[0],C[1],C[2],C[3]);case 5:return new m(C[0],C[1],C[2],C[3],C[4]);case 6:return new m(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new m(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var I=li(m.prototype),U=m.apply(I,C);return dn(U)?U:I}}function Vu(m,C,I){var U=$i(m);function ee(){for(var ue=arguments.length,Te=$e(ue),Oe=ue,Le=di(ee);Oe--;)Te[Oe]=arguments[Oe];var Qe=ue<3&&Te[0]!==Le&&Te[ue-1]!==Le?[]:Z(Te,Le);if(ue-=Qe.length,ue<I)return ml(m,C,Lo,ee.placeholder,n,Te,Qe,n,n,I-ue);var nt=this&&this!==mn&&this instanceof ee?U:m;return xn(nt,this,Te)}return ee}function dl(m){return function(C,I,U){var ee=ln(C);if(!Pn(C)){var ue=kt(I,3);C=bn(C),I=function(Oe){return ue(ee[Oe],Oe,ee)}}var Te=m(C,I,U);return Te>-1?ee[ue?C[Te]:Te]:n}}function fl(m){return mr(function(C){var I=C.length,U=I,ee=zn.prototype.thru;for(m&&C.reverse();U--;){var ue=C[U];if(typeof ue!="function")throw new Un(a);if(ee&&!Te&&Ho(ue)=="wrapper")var Te=new zn([],!0)}for(U=Te?U:I;++U<I;){ue=C[U];var Oe=Ho(ue),Le=Oe=="wrapper"?Js(ue):n;Le&&ea(Le[0])&&Le[1]==(B|R|V|j)&&!Le[4].length&&Le[9]==1?Te=Te[Ho(Le[0])].apply(Te,Le[3]):Te=ue.length==1&&ea(ue)?Te[Oe]():Te.thru(ue)}return function(){var Qe=arguments,nt=Qe[0];if(Te&&Qe.length==1&&Vt(nt))return Te.plant(nt).value();for(var at=0,Tt=I?C[at].apply(this,Qe):nt;++at<I;)Tt=C[at].call(this,Tt);return Tt}})}function Lo(m,C,I,U,ee,ue,Te,Oe,Le,Qe){var nt=C&B,at=C&A,Tt=C&T,Ot=C&(R|k),Rt=C&q,zt=Tt?n:$i(m);function Lt(){for(var qt=arguments.length,Jt=$e(qt),jn=qt;jn--;)Jt[jn]=arguments[jn];if(Ot)var In=di(Lt),Vn=ur(Jt,In);if(U&&(Jt=sl(Jt,U,ee,Ot)),ue&&(Jt=al(Jt,ue,Te,Ot)),qt-=Vn,Ot&&qt<Qe){var hn=Z(Jt,In);return ml(m,C,Lo,Lt.placeholder,I,Jt,hn,Oe,Le,Qe-qt)}var Qn=at?I:this,Er=Tt?Qn[m]:m;return qt=Jt.length,Oe?Jt=ld(Jt,Oe):Rt&&qt>1&&Jt.reverse(),nt&&Le<qt&&(Jt.length=Le),this&&this!==mn&&this instanceof Lt&&(Er=zt||$i(Er)),Er.apply(Qn,Jt)}return Lt}function pl(m,C){return function(I,U){return gu(I,m,C(U),{})}}function Po(m,C){return function(I,U){var ee;if(I===n&&U===n)return C;if(I!==n&&(ee=I),U!==n){if(ee===n)return U;typeof I=="string"||typeof U=="string"?(I=Hn(I),U=Hn(U)):(I=Za(I),U=Za(U)),ee=m(I,U)}return ee}}function Ks(m){return mr(function(C){return C=cn(C,Nn(kt())),Kt(function(I){var U=this;return m(C,function(ee){return xn(ee,U,I)})})})}function Bo(m,C){C=C===n?" ":Hn(C);var I=C.length;if(I<2)return I?Hs(C,m):C;var U=Hs(C,So(m/yt(C)));return d(C)?Nr(wt(U),0,m).join(""):U.slice(0,m)}function Wu(m,C,I,U){var ee=C&A,ue=$i(m);function Te(){for(var Oe=-1,Le=arguments.length,Qe=-1,nt=U.length,at=$e(nt+Le),Tt=this&&this!==mn&&this instanceof Te?ue:m;++Qe<nt;)at[Qe]=U[Qe];for(;Le--;)at[Qe++]=arguments[++Oe];return xn(Tt,ee?I:this,at)}return Te}function hl(m){return function(C,I,U){return U&&typeof U!="number"&&Dn(C,I,U)&&(I=U=n),C=vr(C),I===n?(I=C,C=0):I=vr(I),U=U===n?C<I?1:-1:vr(U),Nu(C,I,U,m)}}function Fo(m){return function(C,I){return typeof C=="string"&&typeof I=="string"||(C=Gn(C),I=Gn(I)),m(C,I)}}function ml(m,C,I,U,ee,ue,Te,Oe,Le,Qe){var nt=C&R,at=nt?Te:n,Tt=nt?n:Te,Ot=nt?ue:n,Rt=nt?n:ue;C|=nt?V:P,C&=~(nt?P:V),C&O||(C&=~(A|T));var zt=[m,C,ee,Ot,at,Rt,Tt,Oe,Le,Qe],Lt=I.apply(n,zt);return ea(m)&&xl(Lt,zt),Lt.placeholder=U,Ol(Lt,m,C)}function Ys(m){var C=gn[m];return function(I,U){if(I=Gn(I),U=U==null?0:wn(Ut(U),292),U&&Na(I)){var ee=(nn(I)+"e").split("e"),ue=C(ee[0]+"e"+(+ee[1]+U));return ee=(nn(ue)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-U))}return C(I)}}var Uu=si&&1/ce(new si([,-0]))[1]==fe?function(m){return new si(m)}:ga;function gl(m){return function(C){var I=An(C);return I==Pe?L(C):I==We?xe(C):Ts(C,m(C))}}function hr(m,C,I,U,ee,ue,Te,Oe){var Le=C&T;if(!Le&&typeof m!="function")throw new Un(a);var Qe=U?U.length:0;if(Qe||(C&=~(V|P),U=ee=n),Te=Te===n?Te:yn(Ut(Te),0),Oe=Oe===n?Oe:Ut(Oe),Qe-=ee?ee.length:0,C&P){var nt=U,at=ee;U=ee=n}var Tt=Le?n:Js(m),Ot=[m,C,I,U,ee,nt,at,ue,Te,Oe];if(Tt&&od(Ot,Tt),m=Ot[0],C=Ot[1],I=Ot[2],U=Ot[3],ee=Ot[4],Oe=Ot[9]=Ot[9]===n?Le?0:m.length:yn(Ot[9]-Qe,0),!Oe&&C&(R|k)&&(C&=~(R|k)),!C||C==A)var Rt=ju(m,C,I);else C==R||C==k?Rt=Vu(m,C,Oe):(C==V||C==(A|V))&&!ee.length?Rt=Wu(m,C,I,U):Rt=Lo.apply(n,Ot);var zt=Tt?Ja:xl;return Ol(zt(Rt,Ot),m,C)}function yl(m,C,I,U){return m===n||Zn(m,oi[I])&&!on.call(U,I)?C:m}function vl(m,C,I,U,ee,ue){return dn(m)&&dn(C)&&(ue.set(C,m),Do(m,C,n,vl,ue),ue.delete(C)),m}function zu(m){return Wi(m)?n:m}function El(m,C,I,U,ee,ue){var Te=I&g,Oe=m.length,Le=C.length;if(Oe!=Le&&!(Te&&Le>Oe))return!1;var Qe=ue.get(m),nt=ue.get(C);if(Qe&&nt)return Qe==C&&nt==m;var at=-1,Tt=!0,Ot=I&w?new Fr:n;for(ue.set(m,C),ue.set(C,m);++at<Oe;){var Rt=m[at],zt=C[at];if(U)var Lt=Te?U(zt,Rt,at,C,m,ue):U(Rt,zt,at,m,C,ue);if(Lt!==n){if(Lt)continue;Tt=!1;break}if(Ot){if(!_i(C,function(qt,Jt){if(!En(Ot,Jt)&&(Rt===qt||ee(Rt,qt,I,U,ue)))return Ot.push(Jt)})){Tt=!1;break}}else if(!(Rt===zt||ee(Rt,zt,I,U,ue))){Tt=!1;break}}return ue.delete(m),ue.delete(C),Tt}function Ku(m,C,I,U,ee,ue,Te){switch(I){case X:if(m.byteLength!=C.byteLength||m.byteOffset!=C.byteOffset)return!1;m=m.buffer,C=C.buffer;case N:return!(m.byteLength!=C.byteLength||!ue(new Eo(m),new Eo(C)));case Fe:case Ye:case je:return Zn(+m,+C);case vt:return m.name==C.name&&m.message==C.message;case lt:case St:return m==C+"";case Pe:var Oe=L;case We:var Le=U&g;if(Oe||(Oe=ce),m.size!=C.size&&!Le)return!1;var Qe=Te.get(m);if(Qe)return Qe==C;U|=w,Te.set(m,C);var nt=El(Oe(m),Oe(C),U,ee,ue,Te);return Te.delete(m),nt;case Et:if(Ri)return Ri.call(m)==Ri.call(C)}return!1}function Yu(m,C,I,U,ee,ue){var Te=I&g,Oe=qs(m),Le=Oe.length,Qe=qs(C),nt=Qe.length;if(Le!=nt&&!Te)return!1;for(var at=Le;at--;){var Tt=Oe[at];if(!(Te?Tt in C:on.call(C,Tt)))return!1}var Ot=ue.get(m),Rt=ue.get(C);if(Ot&&Rt)return Ot==C&&Rt==m;var zt=!0;ue.set(m,C),ue.set(C,m);for(var Lt=Te;++at<Le;){Tt=Oe[at];var qt=m[Tt],Jt=C[Tt];if(U)var jn=Te?U(Jt,qt,Tt,C,m,ue):U(qt,Jt,Tt,m,C,ue);if(!(jn===n?qt===Jt||ee(qt,Jt,I,U,ue):jn)){zt=!1;break}Lt||(Lt=Tt=="constructor")}if(zt&&!Lt){var In=m.constructor,Vn=C.constructor;In!=Vn&&"constructor"in m&&"constructor"in C&&!(typeof In=="function"&&In instanceof In&&typeof Vn=="function"&&Vn instanceof Vn)&&(zt=!1)}return ue.delete(m),ue.delete(C),zt}function mr(m){return ra(wl(m,n,Ll),m+"")}function qs(m){return Ha(m,bn,Zs)}function Gs(m){return Ha(m,Bn,bl)}var Js=wo?function(m){return wo.get(m)}:ga;function Ho(m){for(var C=m.name+"",I=ai[C],U=on.call(ai,C)?I.length:0;U--;){var ee=I[U],ue=ee.func;if(ue==null||ue==m)return ee.name}return C}function di(m){var C=on.call(se,"placeholder")?se:m;return C.placeholder}function kt(){var m=se.iteratee||ha;return m=m===ha?Va:m,arguments.length?m(arguments[0],arguments[1]):m}function $o(m,C){var I=m.__data__;return td(C)?I[typeof C=="string"?"string":"hash"]:I.map}function Xs(m){for(var C=bn(m),I=C.length;I--;){var U=C[I],ee=m[U];C[I]=[U,ee,Sl(ee)]}return C}function jr(m,C){var I=Ss(m,C);return ja(I)?I:n}function qu(m){var C=on.call(m,Pr),I=m[Pr];try{m[Pr]=n;var U=!0}catch{}var ee=yo.call(m);return U&&(C?m[Pr]=I:delete m[Pr]),ee}var Zs=ws?function(m){return m==null?[]:(m=ln(m),ir(ws(m),function(C){return Aa.call(m,C)}))}:ya,bl=ws?function(m){for(var C=[];m;)or(C,Zs(m)),m=bo(m);return C}:ya,An=Mn;(As&&An(new As(new ArrayBuffer(1)))!=X||Di&&An(new Di)!=Pe||xs&&An(xs.resolve())!=mt||si&&An(new si)!=We||Ii&&An(new Ii)!=W)&&(An=function(m){var C=Mn(m),I=C==rt?m.constructor:n,U=I?Vr(I):"";if(U)switch(U){case Mc:return X;case Dc:return Pe;case Ic:return mt;case kc:return We;case Rc:return W}return C});function Gu(m,C,I){for(var U=-1,ee=I.length;++U<ee;){var ue=I[U],Te=ue.size;switch(ue.type){case"drop":m+=Te;break;case"dropRight":C-=Te;break;case"take":C=wn(C,m+Te);break;case"takeRight":m=yn(m,C-Te);break}}return{start:m,end:C}}function Ju(m){var C=m.match(ut);return C?C[1].split(Xe):[]}function Cl(m,C,I){C=xr(C,m);for(var U=-1,ee=C.length,ue=!1;++U<ee;){var Te=lr(C[U]);if(!(ue=m!=null&&I(m,Te)))break;m=m[Te]}return ue||++U!=ee?ue:(ee=m==null?0:m.length,!!ee&&Yo(ee)&&gr(Te,ee)&&(Vt(m)||Wr(m)))}function Xu(m){var C=m.length,I=new m.constructor(C);return C&&typeof m[0]=="string"&&on.call(m,"index")&&(I.index=m.index,I.input=m.input),I}function Tl(m){return typeof m.constructor=="function"&&!ji(m)?li(bo(m)):{}}function Zu(m,C,I){var U=m.constructor;switch(C){case N:return zs(m);case Fe:case Ye:return new U(+m);case X:return Lu(m,I);case Ee:case be:case J:case z:case ne:case te:case de:case Me:case Ae:return il(m,I);case Pe:return new U;case je:case St:return new U(m);case lt:return Pu(m);case We:return new U;case Et:return Bu(m)}}function Qu(m,C){var I=C.length;if(!I)return m;var U=I-1;return C[U]=(I>1?"& ":"")+C[U],C=C.join(I>2?", ":" "),m.replace(Ve,`{
/* [wrapped with `+C+`] */
`)}function ed(m){return Vt(m)||Wr(m)||!!(xa&&m&&m[xa])}function gr(m,C){var I=typeof m;return C=C??Ne,!!C&&(I=="number"||I!="symbol"&&rn.test(m))&&m>-1&&m%1==0&&m<C}function Dn(m,C,I){if(!dn(I))return!1;var U=typeof C;return(U=="number"?Pn(I)&&gr(C,I.length):U=="string"&&C in I)?Zn(I[C],m):!1}function Qs(m,C){if(Vt(m))return!1;var I=typeof m;return I=="number"||I=="symbol"||I=="boolean"||m==null||$n(m)?!0:F.test(m)||!ge.test(m)||C!=null&&m in ln(C)}function td(m){var C=typeof m;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?m!=="__proto__":m===null}function ea(m){var C=Ho(m),I=se[C];if(typeof I!="function"||!(C in Gt.prototype))return!1;if(m===I)return!0;var U=Js(I);return!!U&&m===U[0]}function nd(m){return!!Sa&&Sa in m}var rd=mo?yr:va;function ji(m){var C=m&&m.constructor,I=typeof C=="function"&&C.prototype||oi;return m===I}function Sl(m){return m===m&&!dn(m)}function _l(m,C){return function(I){return I==null?!1:I[m]===C&&(C!==n||m in ln(I))}}function id(m){var C=zo(m,function(U){return I.size===u&&I.clear(),U}),I=C.cache;return C}function od(m,C){var I=m[1],U=C[1],ee=I|U,ue=ee<(A|T|B),Te=U==B&&I==R||U==B&&I==j&&m[7].length<=C[8]||U==(B|j)&&C[7].length<=C[8]&&I==R;if(!(ue||Te))return m;U&A&&(m[2]=C[2],ee|=I&A?0:O);var Oe=C[3];if(Oe){var Le=m[3];m[3]=Le?sl(Le,Oe,C[4]):Oe,m[4]=Le?Z(m[3],f):C[4]}return Oe=C[5],Oe&&(Le=m[5],m[5]=Le?al(Le,Oe,C[6]):Oe,m[6]=Le?Z(m[5],f):C[6]),Oe=C[7],Oe&&(m[7]=Oe),U&B&&(m[8]=m[8]==null?C[8]:wn(m[8],C[8])),m[9]==null&&(m[9]=C[9]),m[0]=C[0],m[1]=ee,m}function sd(m){var C=[];if(m!=null)for(var I in ln(m))C.push(I);return C}function ad(m){return yo.call(m)}function wl(m,C,I){return C=yn(C===n?m.length-1:C,0),function(){for(var U=arguments,ee=-1,ue=yn(U.length-C,0),Te=$e(ue);++ee<ue;)Te[ee]=U[C+ee];ee=-1;for(var Oe=$e(C+1);++ee<C;)Oe[ee]=U[ee];return Oe[C]=I(Te),xn(m,this,Oe)}}function Al(m,C){return C.length<2?m:$r(m,Yn(C,0,-1))}function ld(m,C){for(var I=m.length,U=wn(C.length,I),ee=Ln(m);U--;){var ue=C[U];m[U]=gr(ue,I)?ee[ue]:n}return m}function na(m,C){if(!(C==="constructor"&&typeof m[C]=="function")&&C!="__proto__")return m[C]}var xl=Ml(Ja),Vi=Sc||function(m,C){return mn.setTimeout(m,C)},ra=Ml(Du);function Ol(m,C,I){var U=C+"";return ra(m,Qu(U,cd(Ju(U),I)))}function Ml(m){var C=0,I=0;return function(){var U=xc(),ee=Q-(U-I);if(I=U,ee>0){if(++C>=me)return arguments[0]}else C=0;return m.apply(n,arguments)}}function jo(m,C){var I=-1,U=m.length,ee=U-1;for(C=C===n?U:C;++I<C;){var ue=Fs(I,ee),Te=m[ue];m[ue]=m[I],m[I]=Te}return m.length=C,m}var Dl=id(function(m){var C=[];return m.charCodeAt(0)===46&&C.push(""),m.replace(G,function(I,U,ee,ue){C.push(ee?ue.replace(Ht,"$1"):U||I)}),C});function lr(m){if(typeof m=="string"||$n(m))return m;var C=m+"";return C=="0"&&1/m==-fe?"-0":C}function Vr(m){if(m!=null){try{return go.call(m)}catch{}try{return m+""}catch{}}return""}function cd(m,C){return Rn(Ue,function(I){var U="_."+I[0];C&I[1]&&!ti(m,U)&&m.push(U)}),m.sort()}function Il(m){if(m instanceof Gt)return m.clone();var C=new zn(m.__wrapped__,m.__chain__);return C.__actions__=Ln(m.__actions__),C.__index__=m.__index__,C.__values__=m.__values__,C}function ud(m,C,I){(I?Dn(m,C,I):C===n)?C=1:C=yn(Ut(C),0);var U=m==null?0:m.length;if(!U||C<1)return[];for(var ee=0,ue=0,Te=$e(So(U/C));ee<U;)Te[ue++]=Yn(m,ee,ee+=C);return Te}function dd(m){for(var C=-1,I=m==null?0:m.length,U=0,ee=[];++C<I;){var ue=m[C];ue&&(ee[U++]=ue)}return ee}function fd(){var m=arguments.length;if(!m)return[];for(var C=$e(m-1),I=arguments[0],U=m;U--;)C[U-1]=arguments[U];return or(Vt(I)?Ln(I):[I],Sn(C,1))}var pd=Kt(function(m,C){return pn(m)?Pi(m,Sn(C,1,pn,!0)):[]}),hd=Kt(function(m,C){var I=qn(C);return pn(I)&&(I=n),pn(m)?Pi(m,Sn(C,1,pn,!0),kt(I,2)):[]}),md=Kt(function(m,C){var I=qn(C);return pn(I)&&(I=n),pn(m)?Pi(m,Sn(C,1,pn,!0),n,I):[]});function gd(m,C,I){var U=m==null?0:m.length;return U?(C=I||C===n?1:Ut(C),Yn(m,C<0?0:C,U)):[]}function yd(m,C,I){var U=m==null?0:m.length;return U?(C=I||C===n?1:Ut(C),C=U-C,Yn(m,0,C<0?0:C)):[]}function vd(m,C){return m&&m.length?ko(m,kt(C,3),!0,!0):[]}function Ed(m,C){return m&&m.length?ko(m,kt(C,3),!0):[]}function bd(m,C,I,U){var ee=m==null?0:m.length;return ee?(I&&typeof I!="number"&&Dn(m,C,I)&&(I=0,U=ee),fu(m,C,I,U)):[]}function kl(m,C,I){var U=m==null?0:m.length;if(!U)return-1;var ee=I==null?0:Ut(I);return ee<0&&(ee=yn(U+ee,0)),ni(m,kt(C,3),ee)}function Rl(m,C,I){var U=m==null?0:m.length;if(!U)return-1;var ee=U-1;return I!==n&&(ee=Ut(I),ee=I<0?yn(U+ee,0):wn(ee,U-1)),ni(m,kt(C,3),ee,!0)}function Ll(m){var C=m==null?0:m.length;return C?Sn(m,1):[]}function Cd(m){var C=m==null?0:m.length;return C?Sn(m,fe):[]}function Td(m,C){var I=m==null?0:m.length;return I?(C=C===n?1:Ut(C),Sn(m,C)):[]}function Sd(m){for(var C=-1,I=m==null?0:m.length,U={};++C<I;){var ee=m[C];U[ee[0]]=ee[1]}return U}function Pl(m){return m&&m.length?m[0]:n}function _d(m,C,I){var U=m==null?0:m.length;if(!U)return-1;var ee=I==null?0:Ut(I);return ee<0&&(ee=yn(U+ee,0)),Sr(m,C,ee)}function wd(m){var C=m==null?0:m.length;return C?Yn(m,0,-1):[]}var Ad=Kt(function(m){var C=cn(m,Ws);return C.length&&C[0]===m[0]?ks(C):[]}),xd=Kt(function(m){var C=qn(m),I=cn(m,Ws);return C===qn(I)?C=n:I.pop(),I.length&&I[0]===m[0]?ks(I,kt(C,2)):[]}),Nd=Kt(function(m){var C=qn(m),I=cn(m,Ws);return C=typeof C=="function"?C:n,C&&I.pop(),I.length&&I[0]===m[0]?ks(I,n,C):[]});function Od(m,C){return m==null?"":wc.call(m,C)}function qn(m){var C=m==null?0:m.length;return C?m[C-1]:n}function Md(m,C,I){var U=m==null?0:m.length;if(!U)return-1;var ee=U;return I!==n&&(ee=Ut(I),ee=ee<0?yn(U+ee,0):wn(ee,U-1)),C===C?ot(m,C,ee):ni(m,lo,ee,!0)}function Dd(m,C){return m&&m.length?Ka(m,Ut(C)):n}var Id=Kt(Bl);function Bl(m,C){return m&&m.length&&C&&C.length?Bs(m,C):m}function kd(m,C,I){return m&&m.length&&C&&C.length?Bs(m,C,kt(I,2)):m}function Rd(m,C,I){return m&&m.length&&C&&C.length?Bs(m,C,n,I):m}var Ld=mr(function(m,C){var I=m==null?0:m.length,U=Os(m,C);return Ga(m,cn(C,function(ee){return gr(ee,I)?+ee:ee}).sort(ol)),U});function Pd(m,C){var I=[];if(!(m&&m.length))return I;var U=-1,ee=[],ue=m.length;for(C=kt(C,3);++U<ue;){var Te=m[U];C(Te,U,m)&&(I.push(Te),ee.push(U))}return Ga(m,ee),I}function ia(m){return m==null?m:Oc.call(m)}function Bd(m,C,I){var U=m==null?0:m.length;return U?(I&&typeof I!="number"&&Dn(m,C,I)?(C=0,I=U):(C=C==null?0:Ut(C),I=I===n?U:Ut(I)),Yn(m,C,I)):[]}function Fd(m,C){return Io(m,C)}function Hd(m,C,I){return $s(m,C,kt(I,2))}function $d(m,C){var I=m==null?0:m.length;if(I){var U=Io(m,C);if(U<I&&Zn(m[U],C))return U}return-1}function jd(m,C){return Io(m,C,!0)}function Vd(m,C,I){return $s(m,C,kt(I,2),!0)}function Wd(m,C){var I=m==null?0:m.length;if(I){var U=Io(m,C,!0)-1;if(Zn(m[U],C))return U}return-1}function Ud(m){return m&&m.length?Xa(m):[]}function zd(m,C){return m&&m.length?Xa(m,kt(C,2)):[]}function Kd(m){var C=m==null?0:m.length;return C?Yn(m,1,C):[]}function Yd(m,C,I){return m&&m.length?(C=I||C===n?1:Ut(C),Yn(m,0,C<0?0:C)):[]}function qd(m,C,I){var U=m==null?0:m.length;return U?(C=I||C===n?1:Ut(C),C=U-C,Yn(m,C<0?0:C,U)):[]}function Gd(m,C){return m&&m.length?ko(m,kt(C,3),!1,!0):[]}function Jd(m,C){return m&&m.length?ko(m,kt(C,3)):[]}var Xd=Kt(function(m){return Ar(Sn(m,1,pn,!0))}),Zd=Kt(function(m){var C=qn(m);return pn(C)&&(C=n),Ar(Sn(m,1,pn,!0),kt(C,2))}),Qd=Kt(function(m){var C=qn(m);return C=typeof C=="function"?C:n,Ar(Sn(m,1,pn,!0),n,C)});function ef(m){return m&&m.length?Ar(m):[]}function tf(m,C){return m&&m.length?Ar(m,kt(C,2)):[]}function nf(m,C){return C=typeof C=="function"?C:n,m&&m.length?Ar(m,n,C):[]}function oa(m){if(!(m&&m.length))return[];var C=0;return m=ir(m,function(I){if(pn(I))return C=yn(I.length,C),!0}),Ni(C,function(I){return cn(m,wi(I))})}function Fl(m,C){if(!(m&&m.length))return[];var I=oa(m);return C==null?I:cn(I,function(U){return xn(C,n,U)})}var rf=Kt(function(m,C){return pn(m)?Pi(m,C):[]}),of=Kt(function(m){return Vs(ir(m,pn))}),sf=Kt(function(m){var C=qn(m);return pn(C)&&(C=n),Vs(ir(m,pn),kt(C,2))}),af=Kt(function(m){var C=qn(m);return C=typeof C=="function"?C:n,Vs(ir(m,pn),n,C)}),lf=Kt(oa);function cf(m,C){return tl(m||[],C||[],Li)}function uf(m,C){return tl(m||[],C||[],Hi)}var df=Kt(function(m){var C=m.length,I=C>1?m[C-1]:n;return I=typeof I=="function"?(m.pop(),I):n,Fl(m,I)});function Hl(m){var C=se(m);return C.__chain__=!0,C}function ff(m,C){return C(m),m}function Vo(m,C){return C(m)}var pf=mr(function(m){var C=m.length,I=C?m[0]:0,U=this.__wrapped__,ee=function(ue){return Os(ue,m)};return C>1||this.__actions__.length||!(U instanceof Gt)||!gr(I)?this.thru(ee):(U=U.slice(I,+I+(C?1:0)),U.__actions__.push({func:Vo,args:[ee],thisArg:n}),new zn(U,this.__chain__).thru(function(ue){return C&&!ue.length&&ue.push(n),ue}))});function hf(){return Hl(this)}function mf(){return new zn(this.value(),this.__chain__)}function gf(){this.__values__===n&&(this.__values__=Ql(this.value()));var m=this.__index__>=this.__values__.length,C=m?n:this.__values__[this.__index__++];return{done:m,value:C}}function yf(){return this}function vf(m){for(var C,I=this;I instanceof xo;){var U=Il(I);U.__index__=0,U.__values__=n,C?ee.__wrapped__=U:C=U;var ee=U;I=I.__wrapped__}return ee.__wrapped__=m,C}function Ef(){var m=this.__wrapped__;if(m instanceof Gt){var C=m;return this.__actions__.length&&(C=new Gt(this)),C=C.reverse(),C.__actions__.push({func:Vo,args:[ia],thisArg:n}),new zn(C,this.__chain__)}return this.thru(ia)}function bf(){return el(this.__wrapped__,this.__actions__)}var Cf=Ro(function(m,C,I){on.call(m,I)?++m[I]:pr(m,I,1)});function Tf(m,C,I){var U=Vt(m)?so:du;return I&&Dn(m,C,I)&&(C=n),U(m,kt(C,3))}function Sf(m,C){var I=Vt(m)?ir:Ba;return I(m,kt(C,3))}var _f=dl(kl),wf=dl(Rl);function Af(m,C){return Sn(Wo(m,C),1)}function xf(m,C){return Sn(Wo(m,C),fe)}function Nf(m,C,I){return I=I===n?1:Ut(I),Sn(Wo(m,C),I)}function $l(m,C){var I=Vt(m)?Rn:wr;return I(m,kt(C,3))}function jl(m,C){var I=Vt(m)?ms:Pa;return I(m,kt(C,3))}var Of=Ro(function(m,C,I){on.call(m,I)?m[I].push(C):pr(m,I,[C])});function Mf(m,C,I,U){m=Pn(m)?m:pi(m),I=I&&!U?Ut(I):0;var ee=m.length;return I<0&&(I=yn(ee+I,0)),qo(m)?I<=ee&&m.indexOf(C,I)>-1:!!ee&&Sr(m,C,I)>-1}var Df=Kt(function(m,C,I){var U=-1,ee=typeof C=="function",ue=Pn(m)?$e(m.length):[];return wr(m,function(Te){ue[++U]=ee?xn(C,Te,I):Bi(Te,C,I)}),ue}),If=Ro(function(m,C,I){pr(m,I,C)});function Wo(m,C){var I=Vt(m)?cn:Wa;return I(m,kt(C,3))}function kf(m,C,I,U){return m==null?[]:(Vt(C)||(C=C==null?[]:[C]),I=U?n:I,Vt(I)||(I=I==null?[]:[I]),Ya(m,C,I))}var Rf=Ro(function(m,C,I){m[I?0:1].push(C)},function(){return[[],[]]});function Lf(m,C,I){var U=Vt(m)?Si:uo,ee=arguments.length<3;return U(m,kt(C,4),I,ee,wr)}function Pf(m,C,I){var U=Vt(m)?gs:uo,ee=arguments.length<3;return U(m,kt(C,4),I,ee,Pa)}function Bf(m,C){var I=Vt(m)?ir:Ba;return I(m,Ko(kt(C,3)))}function Ff(m){var C=Vt(m)?Ia:Ou;return C(m)}function Hf(m,C,I){(I?Dn(m,C,I):C===n)?C=1:C=Ut(C);var U=Vt(m)?su:Mu;return U(m,C)}function $f(m){var C=Vt(m)?au:Iu;return C(m)}function jf(m){if(m==null)return 0;if(Pn(m))return qo(m)?yt(m):m.length;var C=An(m);return C==Pe||C==We?m.size:Ls(m).length}function Vf(m,C,I){var U=Vt(m)?_i:ku;return I&&Dn(m,C,I)&&(C=n),U(m,kt(C,3))}var Wf=Kt(function(m,C){if(m==null)return[];var I=C.length;return I>1&&Dn(m,C[0],C[1])?C=[]:I>2&&Dn(C[0],C[1],C[2])&&(C=[C[0]]),Ya(m,Sn(C,1),[])}),Uo=Tc||function(){return mn.Date.now()};function Uf(m,C){if(typeof C!="function")throw new Un(a);return m=Ut(m),function(){if(--m<1)return C.apply(this,arguments)}}function Vl(m,C,I){return C=I?n:C,C=m&&C==null?m.length:C,hr(m,B,n,n,n,n,C)}function Wl(m,C){var I;if(typeof C!="function")throw new Un(a);return m=Ut(m),function(){return--m>0&&(I=C.apply(this,arguments)),m<=1&&(C=n),I}}var sa=Kt(function(m,C,I){var U=A;if(I.length){var ee=Z(I,di(sa));U|=V}return hr(m,U,C,I,ee)}),Ul=Kt(function(m,C,I){var U=A|T;if(I.length){var ee=Z(I,di(Ul));U|=V}return hr(C,U,m,I,ee)});function zl(m,C,I){C=I?n:C;var U=hr(m,R,n,n,n,n,n,C);return U.placeholder=zl.placeholder,U}function Kl(m,C,I){C=I?n:C;var U=hr(m,k,n,n,n,n,n,C);return U.placeholder=Kl.placeholder,U}function Yl(m,C,I){var U,ee,ue,Te,Oe,Le,Qe=0,nt=!1,at=!1,Tt=!0;if(typeof m!="function")throw new Un(a);C=Gn(C)||0,dn(I)&&(nt=!!I.leading,at="maxWait"in I,ue=at?yn(Gn(I.maxWait)||0,C):ue,Tt="trailing"in I?!!I.trailing:Tt);function Ot(hn){var Qn=U,Er=ee;return U=ee=n,Qe=hn,Te=m.apply(Er,Qn),Te}function Rt(hn){return Qe=hn,Oe=Vi(qt,C),nt?Ot(hn):Te}function zt(hn){var Qn=hn-Le,Er=hn-Qe,fc=C-Qn;return at?wn(fc,ue-Er):fc}function Lt(hn){var Qn=hn-Le,Er=hn-Qe;return Le===n||Qn>=C||Qn<0||at&&Er>=ue}function qt(){var hn=Uo();if(Lt(hn))return Jt(hn);Oe=Vi(qt,zt(hn))}function Jt(hn){return Oe=n,Tt&&U?Ot(hn):(U=ee=n,Te)}function jn(){Oe!==n&&nl(Oe),Qe=0,U=Le=ee=Oe=n}function In(){return Oe===n?Te:Jt(Uo())}function Vn(){var hn=Uo(),Qn=Lt(hn);if(U=arguments,ee=this,Le=hn,Qn){if(Oe===n)return Rt(Le);if(at)return nl(Oe),Oe=Vi(qt,C),Ot(Le)}return Oe===n&&(Oe=Vi(qt,C)),Te}return Vn.cancel=jn,Vn.flush=In,Vn}var zf=Kt(function(m,C){return La(m,1,C)}),Kf=Kt(function(m,C,I){return La(m,Gn(C)||0,I)});function Yf(m){return hr(m,q)}function zo(m,C){if(typeof m!="function"||C!=null&&typeof C!="function")throw new Un(a);var I=function(){var U=arguments,ee=C?C.apply(this,U):U[0],ue=I.cache;if(ue.has(ee))return ue.get(ee);var Te=m.apply(this,U);return I.cache=ue.set(ee,Te)||ue,Te};return I.cache=new(zo.Cache||fr),I}zo.Cache=fr;function Ko(m){if(typeof m!="function")throw new Un(a);return function(){var C=arguments;switch(C.length){case 0:return!m.call(this);case 1:return!m.call(this,C[0]);case 2:return!m.call(this,C[0],C[1]);case 3:return!m.call(this,C[0],C[1],C[2])}return!m.apply(this,C)}}function qf(m){return Wl(2,m)}var Gf=Ru(function(m,C){C=C.length==1&&Vt(C[0])?cn(C[0],Nn(kt())):cn(Sn(C,1),Nn(kt()));var I=C.length;return Kt(function(U){for(var ee=-1,ue=wn(U.length,I);++ee<ue;)U[ee]=C[ee].call(this,U[ee]);return xn(m,this,U)})}),aa=Kt(function(m,C){var I=Z(C,di(aa));return hr(m,V,n,C,I)}),ql=Kt(function(m,C){var I=Z(C,di(ql));return hr(m,P,n,C,I)}),Jf=mr(function(m,C){return hr(m,j,n,n,n,C)});function Xf(m,C){if(typeof m!="function")throw new Un(a);return C=C===n?C:Ut(C),Kt(m,C)}function Zf(m,C){if(typeof m!="function")throw new Un(a);return C=C==null?0:yn(Ut(C),0),Kt(function(I){var U=I[C],ee=Nr(I,0,C);return U&&or(ee,U),xn(m,this,ee)})}function Qf(m,C,I){var U=!0,ee=!0;if(typeof m!="function")throw new Un(a);return dn(I)&&(U="leading"in I?!!I.leading:U,ee="trailing"in I?!!I.trailing:ee),Yl(m,C,{leading:U,maxWait:C,trailing:ee})}function ep(m){return Vl(m,1)}function tp(m,C){return aa(Us(C),m)}function np(){if(!arguments.length)return[];var m=arguments[0];return Vt(m)?m:[m]}function rp(m){return Kn(m,v)}function ip(m,C){return C=typeof C=="function"?C:n,Kn(m,v,C)}function op(m){return Kn(m,b|v)}function sp(m,C){return C=typeof C=="function"?C:n,Kn(m,b|v,C)}function ap(m,C){return C==null||Ra(m,C,bn(C))}function Zn(m,C){return m===C||m!==m&&C!==C}var lp=Fo(Is),cp=Fo(function(m,C){return m>=C}),Wr=$a(function(){return arguments}())?$a:function(m){return fn(m)&&on.call(m,"callee")&&!Aa.call(m,"callee")},Vt=$e.isArray,dp=eo?Nn(eo):yu;function Pn(m){return m!=null&&Yo(m.length)&&!yr(m)}function pn(m){return fn(m)&&Pn(m)}function fp(m){return m===!0||m===!1||fn(m)&&Mn(m)==Fe}var Or=_c||va,pp=to?Nn(to):vu;function hp(m){return fn(m)&&m.nodeType===1&&!Wi(m)}function mp(m){if(m==null)return!0;if(Pn(m)&&(Vt(m)||typeof m=="string"||typeof m.splice=="function"||Or(m)||fi(m)||Wr(m)))return!m.length;var C=An(m);if(C==Pe||C==We)return!m.size;if(ji(m))return!Ls(m).length;for(var I in m)if(on.call(m,I))return!1;return!0}function gp(m,C){return Fi(m,C)}function yp(m,C,I){I=typeof I=="function"?I:n;var U=I?I(m,C):n;return U===n?Fi(m,C,n,I):!!U}function la(m){if(!fn(m))return!1;var C=Mn(m);return C==vt||C==ht||typeof m.message=="string"&&typeof m.name=="string"&&!Wi(m)}function vp(m){return typeof m=="number"&&Na(m)}function yr(m){if(!dn(m))return!1;var C=Mn(m);return C==ye||C==we||C==Ze||C==dt}function Gl(m){return typeof m=="number"&&m==Ut(m)}function Yo(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=Ne}function dn(m){var C=typeof m;return m!=null&&(C=="object"||C=="function")}function fn(m){return m!=null&&typeof m=="object"}var Jl=no?Nn(no):bu;function Ep(m,C){return m===C||Rs(m,C,Xs(C))}function bp(m,C,I){return I=typeof I=="function"?I:n,Rs(m,C,Xs(C),I)}function Cp(m){return Xl(m)&&m!=+m}function Tp(m){if(rd(m))throw new jt(s);return ja(m)}function Sp(m){return m===null}function _p(m){return m==null}function Xl(m){return typeof m=="number"||fn(m)&&Mn(m)==je}function Wi(m){if(!fn(m)||Mn(m)!=rt)return!1;var C=bo(m);if(C===null)return!0;var I=on.call(C,"constructor")&&C.constructor;return typeof I=="function"&&I instanceof I&&go.call(I)==vc}var ca=ro?Nn(ro):Cu;function wp(m){return Gl(m)&&m>=-Ne&&m<=Ne}var Zl=io?Nn(io):Tu;function qo(m){return typeof m=="string"||!Vt(m)&&fn(m)&&Mn(m)==St}function $n(m){return typeof m=="symbol"||fn(m)&&Mn(m)==Et}var fi=oo?Nn(oo):Su;function Ap(m){return m===n}function xp(m){return fn(m)&&An(m)==W}function Np(m){return fn(m)&&Mn(m)==D}var Op=Fo(Ps),Mp=Fo(function(m,C){return m<=C});function Ql(m){if(!m)return[];if(Pn(m))return qo(m)?wt(m):Ln(m);if(Mi&&m[Mi])return M(m[Mi]());var C=An(m),I=C==Pe?L:C==We?ce:pi;return I(m)}function vr(m){if(!m)return m===0?m:0;if(m=Gn(m),m===fe||m===-fe){var C=m<0?-1:1;return C*st}return m===m?m:0}function Ut(m){var C=vr(m),I=C%1;return C===C?I?C-I:C:0}function ec(m){return m?Hr(Ut(m),0,et):0}function Gn(m){if(typeof m=="number")return m;if($n(m))return ft;if(dn(m)){var C=typeof m.valueOf=="function"?m.valueOf():m;m=dn(C)?C+"":C}if(typeof m!="string")return m===0?m:+m;m=fo(m);var I=_t.test(m);return I||Pt.test(m)?fs(m.slice(2),I?2:8):Je.test(m)?ft:+m}function tc(m){return ar(m,Bn(m))}function Dp(m){return m?Hr(Ut(m),-Ne,Ne):m===0?m:0}function nn(m){return m==null?"":Hn(m)}var Ip=ci(function(m,C){if(ji(C)||Pn(C)){ar(C,bn(C),m);return}for(var I in C)on.call(C,I)&&Li(m,I,C[I])}),nc=ci(function(m,C){ar(C,Bn(C),m)}),Go=ci(function(m,C,I,U){ar(C,Bn(C),m,U)}),kp=ci(function(m,C,I,U){ar(C,bn(C),m,U)}),Rp=mr(Os);function Lp(m,C){var I=li(m);return C==null?I:ka(I,C)}var Pp=Kt(function(m,C){m=ln(m);var I=-1,U=C.length,ee=U>2?C[2]:n;for(ee&&Dn(C[0],C[1],ee)&&(U=1);++I<U;)for(var ue=C[I],Te=Bn(ue),Oe=-1,Le=Te.length;++Oe<Le;){var Qe=Te[Oe],nt=m[Qe];(nt===n||Zn(nt,oi[Qe])&&!on.call(m,Qe))&&(m[Qe]=ue[Qe])}return m}),Bp=Kt(function(m){return m.push(n,vl),xn(rc,n,m)});function Fp(m,C){return ao(m,kt(C,3),sr)}function Hp(m,C){return ao(m,kt(C,3),Ds)}function $p(m,C){return m==null?m:Ms(m,kt(C,3),Bn)}function jp(m,C){return m==null?m:Fa(m,kt(C,3),Bn)}function Vp(m,C){return m&&sr(m,kt(C,3))}function Wp(m,C){return m&&Ds(m,kt(C,3))}function Up(m){return m==null?[]:Mo(m,bn(m))}function zp(m){return m==null?[]:Mo(m,Bn(m))}function ua(m,C,I){var U=m==null?n:$r(m,C);return U===n?I:U}function Kp(m,C){return m!=null&&Cl(m,C,pu)}function da(m,C){return m!=null&&Cl(m,C,hu)}var Yp=pl(function(m,C,I){C!=null&&typeof C.toString!="function"&&(C=yo.call(C)),m[C]=I},pa(Fn)),qp=pl(function(m,C,I){C!=null&&typeof C.toString!="function"&&(C=yo.call(C)),on.call(m,C)?m[C].push(I):m[C]=[I]},kt),Gp=Kt(Bi);function bn(m){return Pn(m)?Da(m):Ls(m)}function Bn(m){return Pn(m)?Da(m,!0):_u(m)}function Jp(m,C){var I={};return C=kt(C,3),sr(m,function(U,ee,ue){pr(I,C(U,ee,ue),U)}),I}function Xp(m,C){var I={};return C=kt(C,3),sr(m,function(U,ee,ue){pr(I,ee,C(U,ee,ue))}),I}var Zp=ci(function(m,C,I){Do(m,C,I)}),rc=ci(function(m,C,I,U){Do(m,C,I,U)}),Qp=mr(function(m,C){var I={};if(m==null)return I;var U=!1;C=cn(C,function(ue){return ue=xr(ue,m),U||(U=ue.length>1),ue}),ar(m,Gs(m),I),U&&(I=Kn(I,b|S|v,zu));for(var ee=C.length;ee--;)js(I,C[ee]);return I});function eh(m,C){return ic(m,Ko(kt(C)))}var th=mr(function(m,C){return m==null?{}:Au(m,C)});function ic(m,C){if(m==null)return{};var I=cn(Gs(m),function(U){return[U]});return C=kt(C),qa(m,I,function(U,ee){return C(U,ee[0])})}function nh(m,C,I){C=xr(C,m);var U=-1,ee=C.length;for(ee||(ee=1,m=n);++U<ee;){var ue=m==null?n:m[lr(C[U])];ue===n&&(U=ee,ue=I),m=yr(ue)?ue.call(m):ue}return m}function rh(m,C,I){return m==null?m:Hi(m,C,I)}function ih(m,C,I,U){return U=typeof U=="function"?U:n,m==null?m:Hi(m,C,I,U)}var oc=gl(bn),sc=gl(Bn);function oh(m,C,I){var U=Vt(m),ee=U||Or(m)||fi(m);if(C=kt(C,4),I==null){var ue=m&&m.constructor;ee?I=U?new ue:[]:dn(m)?I=yr(ue)?li(bo(m)):{}:I={}}return(ee?Rn:sr)(m,function(Te,Oe,Le){return C(I,Te,Oe,Le)}),I}function sh(m,C){return m==null?!0:js(m,C)}function ah(m,C,I){return m==null?m:Qa(m,C,Us(I))}function lh(m,C,I,U){return U=typeof U=="function"?U:n,m==null?m:Qa(m,C,Us(I),U)}function pi(m){return m==null?[]:Rr(m,bn(m))}function ch(m){return m==null?[]:Rr(m,Bn(m))}function uh(m,C,I){return I===n&&(I=C,C=n),I!==n&&(I=Gn(I),I=I===I?I:0),C!==n&&(C=Gn(C),C=C===C?C:0),Hr(Gn(m),C,I)}function dh(m,C,I){return C=vr(C),I===n?(I=C,C=0):I=vr(I),m=Gn(m),mu(m,C,I)}function fh(m,C,I){if(I&&typeof I!="boolean"&&Dn(m,C,I)&&(C=I=n),I===n&&(typeof C=="boolean"?(I=C,C=n):typeof m=="boolean"&&(I=m,m=n)),m===n&&C===n?(m=0,C=1):(m=vr(m),C===n?(C=m,m=0):C=vr(C)),m>C){var U=m;m=C,C=U}if(I||m%1||C%1){var ee=Oa();return wn(m+ee*(C-m+ds("1e-"+((ee+"").length-1))),C)}return Fs(m,C)}var ph=ui(function(m,C,I){return C=C.toLowerCase(),m+(I?ac(C):C)});function ac(m){return fa(nn(m).toLowerCase())}function lc(m){return m=nn(m),m&&m.replace(Cn,po).replace(Qo,"")}function hh(m,C,I){m=nn(m),C=Hn(C);var U=m.length;I=I===n?U:Hr(Ut(I),0,U);var ee=I;return I-=C.length,I>=0&&m.slice(I,ee)==C}function mh(m){return m=nn(m),m&&Ce.test(m)?m.replace(Dt,Oi):m}function gh(m){return m=nn(m),m&&Ie.test(m)?m.replace(pe,"\\$&"):m}var yh=ui(function(m,C,I){return m+(I?"-":"")+C.toLowerCase()}),vh=ui(function(m,C,I){return m+(I?" ":"")+C.toLowerCase()}),Eh=ul("toLowerCase");function bh(m,C,I){m=nn(m),C=Ut(C);var U=C?yt(m):0;if(!C||U>=C)return m;var ee=(C-U)/2;return Bo(_o(ee),I)+m+Bo(So(ee),I)}function Ch(m,C,I){m=nn(m),C=Ut(C);var U=C?yt(m):0;return C&&U<C?m+Bo(C-U,I):m}function Th(m,C,I){m=nn(m),C=Ut(C);var U=C?yt(m):0;return C&&U<C?Bo(C-U,I)+m:m}function Sh(m,C,I){return I||C==null?C=0:C&&(C=+C),Nc(nn(m).replace(he,""),C||0)}function _h(m,C,I){return(I?Dn(m,C,I):C===n)?C=1:C=Ut(C),Hs(nn(m),C)}function wh(){var m=arguments,C=nn(m[0]);return m.length<3?C:C.replace(m[1],m[2])}var Ah=ui(function(m,C,I){return m+(I?"_":"")+C.toLowerCase()});function xh(m,C,I){return I&&typeof I!="number"&&Dn(m,C,I)&&(C=I=n),I=I===n?et:I>>>0,I?(m=nn(m),m&&(typeof C=="string"||C!=null&&!ca(C))&&(C=Hn(C),!C&&d(m))?Nr(wt(m),0,I):m.split(C,I)):[]}var Nh=ui(function(m,C,I){return m+(I?" ":"")+fa(C)});function Oh(m,C,I){return m=nn(m),I=I==null?0:Hr(Ut(I),0,m.length),C=Hn(C),m.slice(I,I+C.length)==C}function Mh(m,C,I){var U=se.templateSettings;I&&Dn(m,C,I)&&(C=n),m=nn(m),C=Go({},C,U,yl);var ee=Go({},C.imports,U.imports,yl),ue=bn(ee),Te=Rr(ee,ue),Oe,Le,Qe=0,nt=C.interpolate||$t,at="__p += '",Tt=_s((C.escape||$t).source+"|"+nt.source+"|"+(nt===oe?_e:$t).source+"|"+(C.evaluate||$t).source+"|$","g"),Ot="//# sourceURL="+(on.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ss+"]")+`
`;m.replace(Tt,function(Lt,qt,Jt,jn,In,Vn){return Jt||(Jt=jn),at+=m.slice(Qe,Vn).replace(Xt,Lr),qt&&(Oe=!0,at+=`' +
__e(`+qt+`) +
'`),In&&(Le=!0,at+=`';
`+In+`;
__p += '`),Jt&&(at+=`' +
((__t = (`+Jt+`)) == null ? '' : __t) +
'`),Qe=Vn+Lt.length,Lt}),at+=`';
`;var Rt=on.call(C,"variable")&&C.variable;if(!Rt)at=`with (obj) {
`+at+`
}
`;else if(Ct.test(Rt))throw new jt(c);at=(Le?at.replace(De,""):at).replace(Ge,"$1").replace(ct,"$1;"),at="function("+(Rt||"obj")+`) {
`+(Rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+at+`return __p
}`;var zt=uc(function(){return en(ue,Ot+"return "+at).apply(n,Te)});if(zt.source=at,la(zt))throw zt;return zt}function Dh(m){return nn(m).toLowerCase()}function Ih(m){return nn(m).toUpperCase()}function kh(m,C,I){if(m=nn(m),m&&(I||C===n))return fo(m);if(!m||!(C=Hn(C)))return m;var U=wt(m),ee=wt(C),ue=ri(U,ee),Te=ii(U,ee)+1;return Nr(U,ue,Te).join("")}function Rh(m,C,I){if(m=nn(m),m&&(I||C===n))return m.slice(0,At(m)+1);if(!m||!(C=Hn(C)))return m;var U=wt(m),ee=ii(U,wt(C))+1;return Nr(U,0,ee).join("")}function Lh(m,C,I){if(m=nn(m),m&&(I||C===n))return m.replace(he,"");if(!m||!(C=Hn(C)))return m;var U=wt(m),ee=ri(U,wt(C));return Nr(U,ee).join("")}function Ph(m,C){var I=Y,U=ae;if(dn(C)){var ee="separator"in C?C.separator:ee;I="length"in C?Ut(C.length):I,U="omission"in C?Hn(C.omission):U}m=nn(m);var ue=m.length;if(d(m)){var Te=wt(m);ue=Te.length}if(I>=ue)return m;var Oe=I-yt(U);if(Oe<1)return U;var Le=Te?Nr(Te,0,Oe).join(""):m.slice(0,Oe);if(ee===n)return Le+U;if(Te&&(Oe+=Le.length-Oe),ca(ee)){if(m.slice(Oe).search(ee)){var Qe,nt=Le;for(ee.global||(ee=_s(ee.source,nn(qe.exec(ee))+"g")),ee.lastIndex=0;Qe=ee.exec(nt);)var at=Qe.index;Le=Le.slice(0,at===n?Oe:at)}}else if(m.indexOf(Hn(ee),Oe)!=Oe){var Tt=Le.lastIndexOf(ee);Tt>-1&&(Le=Le.slice(0,Tt))}return Le+U}function Bh(m){return m=nn(m),m&&It.test(m)?m.replace(pt,Bt):m}var Fh=ui(function(m,C,I){return m+(I?" ":"")+C.toUpperCase()}),fa=ul("toUpperCase");function cc(m,C,I){return m=nn(m),C=I?n:C,C===n?E(m)?_n(m):Es(m):m.match(C)||[]}var uc=Kt(function(m,C){try{return xn(m,n,C)}catch(I){return la(I)?I:new jt(I)}}),Hh=mr(function(m,C){return Rn(C,function(I){I=lr(I),pr(m,I,sa(m[I],m))}),m});function $h(m){var C=m==null?0:m.length,I=kt();return m=C?cn(m,function(U){if(typeof U[1]!="function")throw new Un(a);return[I(U[0]),U[1]]}):[],Kt(function(U){for(var ee=-1;++ee<C;){var ue=m[ee];if(xn(ue[0],this,U))return xn(ue[1],this,U)}})}function jh(m){return uu(Kn(m,b))}function pa(m){return function(){return m}}function Vh(m,C){return m==null||m!==m?C:m}var Wh=fl(),Uh=fl(!0);function Fn(m){return m}function ha(m){return Va(typeof m=="function"?m:Kn(m,b))}function zh(m){return Ua(Kn(m,b))}function Kh(m,C){return za(m,Kn(C,b))}var Yh=Kt(function(m,C){return function(I){return Bi(I,m,C)}}),qh=Kt(function(m,C){return function(I){return Bi(m,I,C)}});function ma(m,C,I){var U=bn(C),ee=Mo(C,U);I==null&&!(dn(C)&&(ee.length||!U.length))&&(I=C,C=m,m=this,ee=Mo(C,bn(C)));var ue=!(dn(I)&&"chain"in I)||!!I.chain,Te=yr(m);return Rn(ee,function(Oe){var Le=C[Oe];m[Oe]=Le,Te&&(m.prototype[Oe]=function(){var Qe=this.__chain__;if(ue||Qe){var nt=m(this.__wrapped__),at=nt.__actions__=Ln(this.__actions__);return at.push({func:Le,args:arguments,thisArg:m}),nt.__chain__=Qe,nt}return Le.apply(m,or([this.value()],arguments))})}),m}function Gh(){return mn._===this&&(mn._=Ec),this}function ga(){}function Jh(m){return m=Ut(m),Kt(function(C){return Ka(C,m)})}var Xh=Ks(cn),Zh=Ks(so),Qh=Ks(_i);function dc(m){return Qs(m)?wi(lr(m)):xu(m)}function em(m){return function(C){return m==null?n:$r(m,C)}}var tm=hl(),nm=hl(!0);function ya(){return[]}function va(){return!1}function im(){return{}}function om(){return""}function sm(){return!0}function am(m,C){if(m=Ut(m),m<1||m>Ne)return[];var I=et,U=wn(m,et);C=kt(C),m-=et;for(var ee=Ni(U,C);++I<m;)C(I);return ee}function lm(m){return Vt(m)?cn(m,lr):$n(m)?[m]:Ln(Dl(nn(m)))}function cm(m){var C=++yc;return nn(m)+C}var um=Po(function(m,C){return m+C},0),dm=Ys("ceil"),fm=Po(function(m,C){return m/C},1),pm=Ys("floor");function hm(m){return m&&m.length?Oo(m,Fn,Is):n}function mm(m,C){return m&&m.length?Oo(m,kt(C,2),Is):n}function gm(m){return co(m,Fn)}function ym(m,C){return co(m,kt(C,2))}function vm(m){return m&&m.length?Oo(m,Fn,Ps):n}function Em(m,C){return m&&m.length?Oo(m,kt(C,2),Ps):n}var bm=Po(function(m,C){return m*C},1),Cm=Ys("round"),Tm=Po(function(m,C){return m-C},0);function Sm(m){return m&&m.length?xi(m,Fn):0}function _m(m,C){return m&&m.length?xi(m,kt(C,2)):0}return se.after=Uf,se.ary=Vl,se.assign=Ip,se.assignIn=nc,se.assignInWith=Go,se.assignWith=kp,se.at=Rp,se.before=Wl,se.bind=sa,se.bindAll=Hh,se.bindKey=Ul,se.castArray=np,se.chain=Hl,se.chunk=ud,se.compact=dd,se.concat=fd,se.cond=$h,se.conforms=jh,se.constant=pa,se.countBy=Cf,se.create=Lp,se.curry=zl,se.curryRight=Kl,se.debounce=Yl,se.defaults=Pp,se.defaultsDeep=Bp,se.defer=zf,se.delay=Kf,se.difference=pd,se.differenceBy=hd,se.differenceWith=md,se.drop=gd,se.dropRight=yd,se.dropRightWhile=vd,se.dropWhile=Ed,se.fill=bd,se.filter=Sf,se.flatMap=Af,se.flatMapDeep=xf,se.flatMapDepth=Nf,se.flatten=Ll,se.flattenDeep=Cd,se.flattenDepth=Td,se.flip=Yf,se.flow=Wh,se.flowRight=Uh,se.fromPairs=Sd,se.functions=Up,se.functionsIn=zp,se.groupBy=Of,se.initial=wd,se.intersection=Ad,se.intersectionBy=xd,se.intersectionWith=Nd,se.invert=Yp,se.invertBy=qp,se.invokeMap=Df,se.iteratee=ha,se.keyBy=If,se.keys=bn,se.keysIn=Bn,se.map=Wo,se.mapKeys=Jp,se.mapValues=Xp,se.matches=zh,se.matchesProperty=Kh,se.memoize=zo,se.merge=Zp,se.mergeWith=rc,se.method=Yh,se.methodOf=qh,se.mixin=ma,se.negate=Ko,se.nthArg=Jh,se.omit=Qp,se.omitBy=eh,se.once=qf,se.orderBy=kf,se.over=Xh,se.overArgs=Gf,se.overEvery=Zh,se.overSome=Qh,se.partial=aa,se.partialRight=ql,se.partition=Rf,se.pick=th,se.pickBy=ic,se.property=dc,se.propertyOf=em,se.pull=Id,se.pullAll=Bl,se.pullAllBy=kd,se.pullAllWith=Rd,se.pullAt=Ld,se.range=tm,se.rangeRight=nm,se.rearg=Jf,se.reject=Bf,se.remove=Pd,se.rest=Xf,se.reverse=ia,se.sampleSize=Hf,se.set=rh,se.setWith=ih,se.shuffle=$f,se.slice=Bd,se.sortBy=Wf,se.sortedUniq=Ud,se.sortedUniqBy=zd,se.split=xh,se.spread=Zf,se.tail=Kd,se.take=Yd,se.takeRight=qd,se.takeRightWhile=Gd,se.takeWhile=Jd,se.tap=ff,se.throttle=Qf,se.thru=Vo,se.toArray=Ql,se.toPairs=oc,se.toPairsIn=sc,se.toPath=lm,se.toPlainObject=tc,se.transform=oh,se.unary=ep,se.union=Xd,se.unionBy=Zd,se.unionWith=Qd,se.uniq=ef,se.uniqBy=tf,se.uniqWith=nf,se.unset=sh,se.unzip=oa,se.unzipWith=Fl,se.update=ah,se.updateWith=lh,se.values=pi,se.valuesIn=ch,se.without=rf,se.words=cc,se.wrap=tp,se.xor=of,se.xorBy=sf,se.xorWith=af,se.zip=lf,se.zipObject=cf,se.zipObjectDeep=uf,se.zipWith=df,se.entries=oc,se.entriesIn=sc,se.extend=nc,se.extendWith=Go,ma(se,se),se.add=um,se.attempt=uc,se.camelCase=ph,se.capitalize=ac,se.ceil=dm,se.clamp=uh,se.clone=rp,se.cloneDeep=op,se.cloneDeepWith=sp,se.cloneWith=ip,se.conformsTo=ap,se.deburr=lc,se.defaultTo=Vh,se.divide=fm,se.endsWith=hh,se.eq=Zn,se.escape=mh,se.escapeRegExp=gh,se.every=Tf,se.find=_f,se.findIndex=kl,se.findKey=Fp,se.findLast=wf,se.findLastIndex=Rl,se.findLastKey=Hp,se.floor=pm,se.forEach=$l,se.forEachRight=jl,se.forIn=$p,se.forInRight=jp,se.forOwn=Vp,se.forOwnRight=Wp,se.get=ua,se.gt=lp,se.gte=cp,se.has=Kp,se.hasIn=da,se.head=Pl,se.identity=Fn,se.includes=Mf,se.indexOf=_d,se.inRange=dh,se.invoke=Gp,se.isArguments=Wr,se.isArray=Vt,se.isArrayBuffer=dp,se.isArrayLike=Pn,se.isArrayLikeObject=pn,se.isBoolean=fp,se.isBuffer=Or,se.isDate=pp,se.isElement=hp,se.isEmpty=mp,se.isEqual=gp,se.isEqualWith=yp,se.isError=la,se.isFinite=vp,se.isFunction=yr,se.isInteger=Gl,se.isLength=Yo,se.isMap=Jl,se.isMatch=Ep,se.isMatchWith=bp,se.isNaN=Cp,se.isNative=Tp,se.isNil=_p,se.isNull=Sp,se.isNumber=Xl,se.isObject=dn,se.isObjectLike=fn,se.isPlainObject=Wi,se.isRegExp=ca,se.isSafeInteger=wp,se.isSet=Zl,se.isString=qo,se.isSymbol=$n,se.isTypedArray=fi,se.isUndefined=Ap,se.isWeakMap=xp,se.isWeakSet=Np,se.join=Od,se.kebabCase=yh,se.last=qn,se.lastIndexOf=Md,se.lowerCase=vh,se.lowerFirst=Eh,se.lt=Op,se.lte=Mp,se.max=hm,se.maxBy=mm,se.mean=gm,se.meanBy=ym,se.min=vm,se.minBy=Em,se.stubArray=ya,se.stubFalse=va,se.stubObject=im,se.stubString=om,se.stubTrue=sm,se.multiply=bm,se.nth=Dd,se.noConflict=Gh,se.noop=ga,se.now=Uo,se.pad=bh,se.padEnd=Ch,se.padStart=Th,se.parseInt=Sh,se.random=fh,se.reduce=Lf,se.reduceRight=Pf,se.repeat=_h,se.replace=wh,se.result=nh,se.round=Cm,se.runInContext=ke,se.sample=Ff,se.size=jf,se.snakeCase=Ah,se.some=Vf,se.sortedIndex=Fd,se.sortedIndexBy=Hd,se.sortedIndexOf=$d,se.sortedLastIndex=jd,se.sortedLastIndexBy=Vd,se.sortedLastIndexOf=Wd,se.startCase=Nh,se.startsWith=Oh,se.subtract=Tm,se.sum=Sm,se.sumBy=_m,se.template=Mh,se.times=am,se.toFinite=vr,se.toInteger=Ut,se.toLength=ec,se.toLower=Dh,se.toNumber=Gn,se.toSafeInteger=Dp,se.toString=nn,se.toUpper=Ih,se.trim=kh,se.trimEnd=Rh,se.trimStart=Lh,se.truncate=Ph,se.unescape=Bh,se.uniqueId=cm,se.upperCase=Fh,se.upperFirst=fa,se.each=$l,se.eachRight=jl,se.first=Pl,ma(se,function(){var m={};return sr(se,function(C,I){on.call(se.prototype,I)||(m[I]=C)}),m}(),{chain:!1}),se.VERSION=r,Rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){se[m].placeholder=se}),Rn(["drop","take"],function(m,C){Gt.prototype[m]=function(I){I=I===n?1:yn(Ut(I),0);var U=this.__filtered__&&!C?new Gt(this):this.clone();return U.__filtered__?U.__takeCount__=wn(I,U.__takeCount__):U.__views__.push({size:wn(I,et),type:m+(U.__dir__<0?"Right":"")}),U},Gt.prototype[m+"Right"]=function(I){return this.reverse()[m](I).reverse()}}),Rn(["filter","map","takeWhile"],function(m,C){var I=C+1,U=I==le||I==ve;Gt.prototype[m]=function(ee){var ue=this.clone();return ue.__iteratees__.push({iteratee:kt(ee,3),type:I}),ue.__filtered__=ue.__filtered__||U,ue}}),Rn(["head","last"],function(m,C){var I="take"+(C?"Right":"");Gt.prototype[m]=function(){return this[I](1).value()[0]}}),Rn(["initial","tail"],function(m,C){var I="drop"+(C?"":"Right");Gt.prototype[m]=function(){return this.__filtered__?new Gt(this):this[I](1)}}),Gt.prototype.compact=function(){return this.filter(Fn)},Gt.prototype.find=function(m){return this.filter(m).head()},Gt.prototype.findLast=function(m){return this.reverse().find(m)},Gt.prototype.invokeMap=Kt(function(m,C){return typeof m=="function"?new Gt(this):this.map(function(I){return Bi(I,m,C)})}),Gt.prototype.reject=function(m){return this.filter(Ko(kt(m)))},Gt.prototype.slice=function(m,C){m=Ut(m);var I=this;return I.__filtered__&&(m>0||C<0)?new Gt(I):(m<0?I=I.takeRight(-m):m&&(I=I.drop(m)),C!==n&&(C=Ut(C),I=C<0?I.dropRight(-C):I.take(C-m)),I)},Gt.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Gt.prototype.toArray=function(){return this.take(et)},sr(Gt.prototype,function(m,C){var I=/^(?:filter|find|map|reject)|While$/.test(C),U=/^(?:head|last)$/.test(C),ee=se[U?"take"+(C=="last"?"Right":""):C],ue=U||/^find/.test(C);ee&&(se.prototype[C]=function(){var Te=this.__wrapped__,Oe=U?[1]:arguments,Le=Te instanceof Gt,Qe=Oe[0],nt=Le||Vt(Te),at=function(qt){var Jt=ee.apply(se,or([qt],Oe));return U&&Tt?Jt[0]:Jt};nt&&I&&typeof Qe=="function"&&Qe.length!=1&&(Le=nt=!1);var Tt=this.__chain__,Ot=!!this.__actions__.length,Rt=ue&&!Tt,zt=Le&&!Ot;if(!ue&&nt){Te=zt?Te:new Gt(this);var Lt=m.apply(Te,Oe);return Lt.__actions__.push({func:Vo,args:[at],thisArg:n}),new zn(Lt,Tt)}return Rt&&zt?m.apply(this,Oe):(Lt=this.thru(at),Rt?U?Lt.value()[0]:Lt.value():Lt)})}),Rn(["pop","push","shift","sort","splice","unshift"],function(m){var C=ho[m],I=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",U=/^(?:pop|shift)$/.test(m);se.prototype[m]=function(){var ee=arguments;if(U&&!this.__chain__){var ue=this.value();return C.apply(Vt(ue)?ue:[],ee)}return this[I](function(Te){return C.apply(Vt(Te)?Te:[],ee)})}}),sr(Gt.prototype,function(m,C){var I=se[C];if(I){var U=I.name+"";on.call(ai,U)||(ai[U]=[]),ai[U].push({name:C,func:I})}}),ai[Lo(n,T).name]=[{name:"wrapper",func:n}],Gt.prototype.clone=Lc,Gt.prototype.reverse=Pc,Gt.prototype.value=Bc,se.prototype.at=pf,se.prototype.chain=hf,se.prototype.commit=mf,se.prototype.next=gf,se.prototype.plant=vf,se.prototype.reverse=Ef,se.prototype.toJSON=se.prototype.valueOf=se.prototype.value=bf,se.prototype.first=se.prototype.head,Mi&&(se.prototype[Mi]=yf),se},On=un();cr?((cr.exports=On)._=On,bi._=On):mn._=On}).call(commonjsGlobal)})(lodash,lodashExports);const _=lodashExports;var top="top",bottom="bottom",right="right",left="left",auto$1="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(t,e){return t.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto$1]).reduce(function(t,e){return t.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getWindow(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function isElement$2(t){var e=getWindow(t).Element;return t instanceof e||t instanceof Element}function isHTMLElement(t){var e=getWindow(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function isShadowRoot(t){if(typeof ShadowRoot>"u")return!1;var e=getWindow(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function applyStyles(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!isHTMLElement(s)||!getNodeName(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(a){var c=o[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function effect$3(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=a.reduce(function(l,u){return l[u]="",l},{});!isHTMLElement(o)||!getNodeName(o)||(Object.assign(o.style,c),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$3,requires:["computeStyles"]};function getBasePlacement$1(t){return t.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,s=1;e&&isHTMLElement(t)&&(o=t.offsetWidth>0&&round(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&round(r.height)/t.offsetHeight||1);var a=isElement$2(t)?getWindow(t):window,c=a.visualViewport,l=!isLayoutViewport()&&n,u=(r.left+(l&&c?c.offsetLeft:0))/o,f=(r.top+(l&&c?c.offsetTop:0))/s,b=r.width/o,S=r.height/s;return{width:b,height:S,top:f,right:u+b,bottom:f+S,left:u,x:u,y:f}}function getLayoutRect(t){var e=getBoundingClientRect(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function contains(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&isShadowRoot(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function isTableElement(t){return["table","td","th"].indexOf(getNodeName(t))>=0}function getDocumentElement(t){return((isElement$2(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode(t){return getNodeName(t)==="html"?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement(t)}function getTrueOffsetParent(t){return!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed"?null:t.offsetParent}function getContainingBlock(t){var e=/firefox/i.test(getUAString()),n=/Trident/i.test(getUAString());if(n&&isHTMLElement(t)){var r=getComputedStyle$1(t);if(r.position==="fixed")return null}var o=getParentNode(t);for(isShadowRoot(o)&&(o=o.host);isHTMLElement(o)&&["html","body"].indexOf(getNodeName(o))<0;){var s=getComputedStyle$1(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function getOffsetParent(t){for(var e=getWindow(t),n=getTrueOffsetParent(t);n&&isTableElement(n)&&getComputedStyle$1(n).position==="static";)n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle$1(n).position==="static")?e:n||getContainingBlock(t)||e}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within(t,e,n){return max(t,min(e,n))}function withinMaxClamp(t,e,n){var r=within(t,e,n);return r>n?n:r}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),t)}function expandToHashMap(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var toPaddingObject=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow$2(t){var e,n=t.state,r=t.name,o=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,c=getBasePlacement$1(n.placement),l=getMainAxisFromPlacement(c),u=[left,right].indexOf(c)>=0,f=u?"height":"width";if(!(!s||!a)){var b=toPaddingObject(o.padding,n),S=getLayoutRect(s),v=l==="y"?top:left,g=l==="y"?bottom:right,w=n.rects.reference[f]+n.rects.reference[l]-a[l]-n.rects.popper[f],A=a[l]-n.rects.reference[l],T=getOffsetParent(s),O=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,R=w/2-A/2,k=b[v],V=O-S[f]-b[g],P=O/2-S[f]/2+R,B=within(k,P,V),j=l;n.modifiersData[r]=(e={},e[j]=B,e.centerOffset=B-P,e)}}function effect$2(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||contains(e.elements.popper,o)&&(e.elements.arrow=o))}const arrow$3={name:"arrow",enabled:!0,phase:"main",fn:arrow$2,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(t){return t.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(t){var e=t.x,n=t.y,r=window,o=r.devicePixelRatio||1;return{x:round(e*o)/o||0,y:round(n*o)/o||0}}function mapToStyles(t){var e,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,c=t.position,l=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,b=t.isFixed,S=a.x,v=S===void 0?0:S,g=a.y,w=g===void 0?0:g,A=typeof f=="function"?f({x:v,y:w}):{x:v,y:w};v=A.x,w=A.y;var T=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),R=left,k=top,V=window;if(u){var P=getOffsetParent(n),B="clientHeight",j="clientWidth";if(P===getWindow(n)&&(P=getDocumentElement(n),getComputedStyle$1(P).position!=="static"&&c==="absolute"&&(B="scrollHeight",j="scrollWidth")),P=P,o===top||(o===left||o===right)&&s===end){k=bottom;var q=b&&P===V&&V.visualViewport?V.visualViewport.height:P[B];w-=q-r.height,w*=l?1:-1}if(o===left||(o===top||o===bottom)&&s===end){R=right;var Y=b&&P===V&&V.visualViewport?V.visualViewport.width:P[j];v-=Y-r.width,v*=l?1:-1}}var ae=Object.assign({position:c},u&&unsetSides),me=f===!0?roundOffsetsByDPR({x:v,y:w}):{x:v,y:w};if(v=me.x,w=me.y,l){var Q;return Object.assign({},ae,(Q={},Q[k]=O?"0":"",Q[R]=T?"0":"",Q.transform=(V.devicePixelRatio||1)<=1?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",Q))}return Object.assign({},ae,(e={},e[k]=O?w+"px":"",e[R]=T?v+"px":"",e.transform="",e))}function computeStyles(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,c=n.roundOffsets,l=c===void 0?!0:c,u={placement:getBasePlacement$1(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,s=o===void 0?!0:o,a=r.resize,c=a===void 0?!0:a,l=getWindow(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(f){f.addEventListener("scroll",n.update,passive)}),c&&l.addEventListener("resize",n.update,passive),function(){s&&u.forEach(function(f){f.removeEventListener("scroll",n.update,passive)}),c&&l.removeEventListener("resize",n.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(t){var e=getWindow(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function getViewportRect(t,e){var n=getWindow(t),r=getDocumentElement(t),o=n.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,l=0;if(o){s=o.width,a=o.height;var u=isLayoutViewport();(u||!u&&e==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:s,height:a,x:c+getWindowScrollBarX(t),y:l}}function getDocumentRect(t){var e,n=getDocumentElement(t),r=getWindowScroll(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=max(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=max(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+getWindowScrollBarX(t),l=-r.scrollTop;return getComputedStyle$1(o||n).direction==="rtl"&&(c+=max(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:c,y:l}}function isScrollParent(t){var e=getComputedStyle$1(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function getScrollParent$1(t){return["html","body","#document"].indexOf(getNodeName(t))>=0?t.ownerDocument.body:isHTMLElement(t)&&isScrollParent(t)?t:getScrollParent$1(getParentNode(t))}function listScrollParents(t,e){var n;e===void 0&&(e=[]);var r=getScrollParent$1(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=getWindow(r),a=o?[s].concat(s.visualViewport||[],isScrollParent(r)?r:[]):r,c=e.concat(a);return o?c:c.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getInnerBoundingClientRect(t,e){var n=getBoundingClientRect(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType(t,e,n){return e===viewport?rectToClientRect(getViewportRect(t,n)):isElement$2(e)?getInnerBoundingClientRect(e,n):rectToClientRect(getDocumentRect(getDocumentElement(t)))}function getClippingParents(t){var e=listScrollParents(getParentNode(t)),n=["absolute","fixed"].indexOf(getComputedStyle$1(t).position)>=0,r=n&&isHTMLElement(t)?getOffsetParent(t):t;return isElement$2(r)?e.filter(function(o){return isElement$2(o)&&contains(o,r)&&getNodeName(o)!=="body"}):[]}function getClippingRect(t,e,n,r){var o=e==="clippingParents"?getClippingParents(t):[].concat(e),s=[].concat(o,[n]),a=s[0],c=s.reduce(function(l,u){var f=getClientRectFromMixedType(t,u,r);return l.top=max(f.top,l.top),l.right=min(f.right,l.right),l.bottom=min(f.bottom,l.bottom),l.left=max(f.left,l.left),l},getClientRectFromMixedType(t,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function computeOffsets(t){var e=t.reference,n=t.element,r=t.placement,o=r?getBasePlacement$1(r):null,s=r?getVariation(r):null,a=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,l;switch(o){case top:l={x:a,y:e.y-n.height};break;case bottom:l={x:a,y:e.y+e.height};break;case right:l={x:e.x+e.width,y:c};break;case left:l={x:e.x-n.width,y:c};break;default:l={x:e.x,y:e.y}}var u=o?getMainAxisFromPlacement(o):null;if(u!=null){var f=u==="y"?"height":"width";switch(s){case start:l[u]=l[u]-(e[f]/2-n[f]/2);break;case end:l[u]=l[u]+(e[f]/2-n[f]/2);break}}return l}function detectOverflow(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,c=n.boundary,l=c===void 0?clippingParents:c,u=n.rootBoundary,f=u===void 0?viewport:u,b=n.elementContext,S=b===void 0?popper:b,v=n.altBoundary,g=v===void 0?!1:v,w=n.padding,A=w===void 0?0:w,T=mergePaddingObject(typeof A!="number"?A:expandToHashMap(A,basePlacements)),O=S===popper?reference:popper,R=t.rects.popper,k=t.elements[g?O:S],V=getClippingRect(isElement$2(k)?k:k.contextElement||getDocumentElement(t.elements.popper),l,f,a),P=getBoundingClientRect(t.elements.reference),B=computeOffsets({reference:P,element:R,strategy:"absolute",placement:o}),j=rectToClientRect(Object.assign({},R,B)),q=S===popper?j:P,Y={top:V.top-q.top+T.top,bottom:q.bottom-V.bottom+T.bottom,left:V.left-q.left+T.left,right:q.right-V.right+T.right},ae=t.modifiersData.offset;if(S===popper&&ae){var me=ae[o];Object.keys(Y).forEach(function(Q){var le=[right,bottom].indexOf(Q)>=0?1:-1,Se=[top,bottom].indexOf(Q)>=0?"y":"x";Y[Q]+=me[Se]*le})}return Y}function computeAutoPlacement(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?placements:l,f=getVariation(r),b=f?c?variationPlacements:variationPlacements.filter(function(g){return getVariation(g)===f}):basePlacements,S=b.filter(function(g){return u.indexOf(g)>=0});S.length===0&&(S=b);var v=S.reduce(function(g,w){return g[w]=detectOverflow(t,{placement:w,boundary:o,rootBoundary:s,padding:a})[getBasePlacement$1(w)],g},{});return Object.keys(v).sort(function(g,w){return v[g]-v[w]})}function getExpandedFallbackPlacements(t){if(getBasePlacement$1(t)===auto$1)return[];var e=getOppositePlacement(t);return[getOppositeVariationPlacement(t),e,getOppositeVariationPlacement(e)]}function flip(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,f=n.boundary,b=n.rootBoundary,S=n.altBoundary,v=n.flipVariations,g=v===void 0?!0:v,w=n.allowedAutoPlacements,A=e.options.placement,T=getBasePlacement$1(A),O=T===A,R=l||(O||!g?[getOppositePlacement(A)]:getExpandedFallbackPlacements(A)),k=[A].concat(R).reduce(function(Ue,gt){return Ue.concat(getBasePlacement$1(gt)===auto$1?computeAutoPlacement(e,{placement:gt,boundary:f,rootBoundary:b,padding:u,flipVariations:g,allowedAutoPlacements:w}):gt)},[]),V=e.rects.reference,P=e.rects.popper,B=new Map,j=!0,q=k[0],Y=0;Y<k.length;Y++){var ae=k[Y],me=getBasePlacement$1(ae),Q=getVariation(ae)===start,le=[top,bottom].indexOf(me)>=0,Se=le?"width":"height",ve=detectOverflow(e,{placement:ae,boundary:f,rootBoundary:b,altBoundary:S,padding:u}),fe=le?Q?right:left:Q?bottom:top;V[Se]>P[Se]&&(fe=getOppositePlacement(fe));var Ne=getOppositePlacement(fe),st=[];if(s&&st.push(ve[me]<=0),c&&st.push(ve[fe]<=0,ve[Ne]<=0),st.every(function(Ue){return Ue})){q=ae,j=!1;break}B.set(ae,st)}if(j)for(var ft=g?3:1,et=function(gt){var Mt=k.find(function(Ze){var Fe=B.get(Ze);if(Fe)return Fe.slice(0,gt).every(function(Ye){return Ye})});if(Mt)return q=Mt,"break"},Nt=ft;Nt>0;Nt--){var re=et(Nt);if(re==="break")break}e.placement!==q&&(e.modifiersData[r]._skip=!0,e.placement=q,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function isAnySideFullyClipped(t){return[top,right,bottom,left].some(function(e){return t[e]>=0})}function hide(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,a=detectOverflow(e,{elementContext:"reference"}),c=detectOverflow(e,{altBoundary:!0}),l=getSideOffsets(a,r),u=getSideOffsets(c,o,s),f=isAnySideFullyClipped(l),b=isAnySideFullyClipped(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":b})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(t,e,n){var r=getBasePlacement$1(t),o=[left,top].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],c=s[1];return a=a||0,c=(c||0)*o,[left,right].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function offset(t){var e=t.state,n=t.options,r=t.name,o=n.offset,s=o===void 0?[0,0]:o,a=placements.reduce(function(f,b){return f[b]=distanceAndSkiddingToXY(b,e.rects,s),f},{}),c=a[e.placement],l=c.x,u=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(t){var e=t.state,n=t.name;e.modifiersData[n]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(t){return t==="x"?"y":"x"}function preventOverflow(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,f=n.altBoundary,b=n.padding,S=n.tether,v=S===void 0?!0:S,g=n.tetherOffset,w=g===void 0?0:g,A=detectOverflow(e,{boundary:l,rootBoundary:u,padding:b,altBoundary:f}),T=getBasePlacement$1(e.placement),O=getVariation(e.placement),R=!O,k=getMainAxisFromPlacement(T),V=getAltAxis(k),P=e.modifiersData.popperOffsets,B=e.rects.reference,j=e.rects.popper,q=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,Y=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),ae=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,me={x:0,y:0};if(P){if(s){var Q,le=k==="y"?top:left,Se=k==="y"?bottom:right,ve=k==="y"?"height":"width",fe=P[k],Ne=fe+A[le],st=fe-A[Se],ft=v?-j[ve]/2:0,et=O===start?B[ve]:j[ve],Nt=O===start?-j[ve]:-B[ve],re=e.elements.arrow,Ue=v&&re?getLayoutRect(re):{width:0,height:0},gt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Mt=gt[le],Ze=gt[Se],Fe=within(0,B[ve],Ue[ve]),Ye=R?B[ve]/2-ft-Fe-Mt-Y.mainAxis:et-Fe-Mt-Y.mainAxis,ht=R?-B[ve]/2+ft+Fe+Ze+Y.mainAxis:Nt+Fe+Ze+Y.mainAxis,vt=e.elements.arrow&&getOffsetParent(e.elements.arrow),ye=vt?k==="y"?vt.clientTop||0:vt.clientLeft||0:0,we=(Q=ae==null?void 0:ae[k])!=null?Q:0,Pe=fe+Ye-we-ye,je=fe+ht-we,ze=within(v?min(Ne,Pe):Ne,fe,v?max(st,je):st);P[k]=ze,me[k]=ze-fe}if(c){var rt,mt=k==="x"?top:left,dt=k==="x"?bottom:right,lt=P[V],We=V==="y"?"height":"width",St=lt+A[mt],Et=lt-A[dt],H=[top,left].indexOf(T)!==-1,W=(rt=ae==null?void 0:ae[V])!=null?rt:0,D=H?St:lt-B[We]-j[We]-W+Y.altAxis,N=H?lt+B[We]+j[We]-W-Y.altAxis:Et,X=v&&H?withinMaxClamp(D,lt,N):within(v?D:St,lt,v?N:Et);P[V]=X,me[V]=X-lt}e.modifiersData[r]=me}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll(t){return t===getWindow(t)||!isHTMLElement(t)?getWindowScroll(t):getHTMLElementScroll(t)}function isElementScaled(t){var e=t.getBoundingClientRect(),n=round(e.width)/t.offsetWidth||1,r=round(e.height)/t.offsetHeight||1;return n!==1||r!==1}function getCompositeRect(t,e,n){n===void 0&&(n=!1);var r=isHTMLElement(e),o=isHTMLElement(e)&&isElementScaled(e),s=getDocumentElement(e),a=getBoundingClientRect(t,o,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((getNodeName(e)!=="body"||isScrollParent(s))&&(c=getNodeScroll(e)),isHTMLElement(e)?(l=getBoundingClientRect(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=getWindowScrollBarX(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function order(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var l=e.get(c);l&&o(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),r}function orderModifiers(t){var e=order(t);return modifierPhases.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function debounce$1(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mergeByName(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function popperGenerator(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?DEFAULT_OPTIONS:o;return function(c,l,u){u===void 0&&(u=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},b=[],S=!1,v={state:f,setOptions:function(T){var O=typeof T=="function"?T(f.options):T;w(),f.options=Object.assign({},s,f.options,O),f.scrollParents={reference:isElement$2(c)?listScrollParents(c):c.contextElement?listScrollParents(c.contextElement):[],popper:listScrollParents(l)};var R=orderModifiers(mergeByName([].concat(r,f.options.modifiers)));return f.orderedModifiers=R.filter(function(k){return k.enabled}),g(),v.update()},forceUpdate:function(){if(!S){var T=f.elements,O=T.reference,R=T.popper;if(areValidElements(O,R)){f.rects={reference:getCompositeRect(O,getOffsetParent(R),f.options.strategy==="fixed"),popper:getLayoutRect(R)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Y){return f.modifiersData[Y.name]=Object.assign({},Y.data)});for(var k=0;k<f.orderedModifiers.length;k++){if(f.reset===!0){f.reset=!1,k=-1;continue}var V=f.orderedModifiers[k],P=V.fn,B=V.options,j=B===void 0?{}:B,q=V.name;typeof P=="function"&&(f=P({state:f,options:j,name:q,instance:v})||f)}}}},update:debounce$1(function(){return new Promise(function(A){v.forceUpdate(),A(f)})}),destroy:function(){w(),S=!0}};if(!areValidElements(c,l))return v;v.setOptions(u).then(function(A){!S&&u.onFirstUpdate&&u.onFirstUpdate(A)});function g(){f.orderedModifiers.forEach(function(A){var T=A.name,O=A.options,R=O===void 0?{}:O,k=A.effect;if(typeof k=="function"){var V=k({state:f,name:T,instance:v,options:R}),P=function(){};b.push(V||P)}})}function w(){b.forEach(function(A){return A()}),b=[]}return v}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$3,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$3,auto:auto$1,basePlacements,beforeMain,beforeRead,beforeWrite,bottom,clippingParents,computeStyles:computeStyles$1,createPopper,createPopperBase:createPopper$2,createPopperLite:createPopper$1,detectOverflow,end,eventListeners,flip:flip$1,hide:hide$1,left,main,modifierPhases,offset:offset$1,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right,start,top,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",toType=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=t=>{do t+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(t));return t},getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},getSelectorFromElement=t=>{const e=getSelector(t);return e&&document.querySelector(e)?e:null},getElementFromSelector=t=>{const e=getSelector(t);return e?document.querySelector(e):null},getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),o=Number.parseFloat(n);return!r&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement$1=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),getElement=t=>isElement$1(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,isVisible=t=>{if(!isElement$1(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",findShadowRoot=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?findShadowRoot(t.parentNode):null},noop$2=()=>{},reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of DOMContentLoadedCallbacks)e()}),DOMContentLoadedCallbacks.push(t)):t()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=t=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},execute=t=>{typeof t=="function"&&t()},executeAfterTransition=(t,e,n=!0)=>{if(!n){execute(t);return}const r=5,o=getTransitionDurationFromElement(e)+r;let s=!1;const a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(TRANSITION_END,a),execute(t))};e.addEventListener(TRANSITION_END,a),setTimeout(()=>{s||triggerTransitionEnd(e)},o)},getNextActiveElement=(t,e,n,r)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&r?t[o-1]:t[0]:(s+=n?1:-1,r&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function n(r){return hydrateObj(r,{delegateTarget:t}),n.oneOff&&EventHandler.off(t,r.type,e),e.apply(t,[r])}}function bootstrapDelegationHandler(t,e,n){return function r(o){const s=t.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const c of s)if(c===a)return hydrateObj(o,{delegateTarget:a}),r.oneOff&&EventHandler.off(t,o.type,e,n),n.apply(a,[o])}}function findHandler(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function normalizeParameters(t,e,n){const r=typeof e=="string",o=r?n:e||n;let s=getTypeEvent(t);return nativeEvents.has(s)||(s=t),[r,o,s]}function addHandler(t,e,n,r,o){if(typeof e!="string"||!t)return;let[s,a,c]=normalizeParameters(e,n,r);e in customEvents&&(a=(g=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return g.call(this,w)})(a));const l=getElementEvents(t),u=l[c]||(l[c]={}),f=findHandler(u,a,s?n:null);if(f){f.oneOff=f.oneOff&&o;return}const b=makeEventUid(a,e.replace(namespaceRegex,"")),S=s?bootstrapDelegationHandler(t,n,a):bootstrapHandler(t,a);S.delegationSelector=s?n:null,S.callable=a,S.oneOff=o,S.uidEvent=b,u[b]=S,t.addEventListener(c,S,s)}function removeHandler(t,e,n,r,o){const s=findHandler(e[n],r,o);s&&(t.removeEventListener(n,s,Boolean(o)),delete e[n][s.uidEvent])}function removeNamespacedHandlers(t,e,n,r){const o=e[n]||{};for(const s of Object.keys(o))if(s.includes(r)){const a=o[s];removeHandler(t,e,n,a.callable,a.delegationSelector)}}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,n,r){addHandler(t,e,n,r,!1)},one(t,e,n,r){addHandler(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[o,s,a]=normalizeParameters(e,n,r),c=a!==e,l=getElementEvents(t),u=l[a]||{},f=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(u).length)return;removeHandler(t,l,a,s,o?n:null);return}if(f)for(const b of Object.keys(l))removeNamespacedHandlers(t,l,b,e.slice(1));for(const b of Object.keys(u)){const S=b.replace(stripUidRegex,"");if(!c||e.includes(S)){const v=u[b];removeHandler(t,l,a,v.callable,v.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=getjQuery(),o=getTypeEvent(e),s=e!==o;let a=null,c=!0,l=!0,u=!1;s&&r&&(a=r.Event(e,n),r(t).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());let f=new Event(e,{bubbles:c,cancelable:!0});return f=hydrateObj(f,n),u&&f.preventDefault(),l&&t.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function hydrateObj(t,e){for(const[n,r]of Object.entries(e||{}))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}const elementMap=new Map,Data={set(t,e,n){elementMap.has(t)||elementMap.set(t,new Map);const r=elementMap.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return elementMap.has(t)&&elementMap.get(t).get(e)||null},remove(t,e){if(!elementMap.has(t))return;const n=elementMap.get(t);n.delete(e),n.size===0&&elementMap.delete(t)}};function normalizeData(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Manipulator={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let o=r.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=normalizeData(t.dataset[r])}return e},getDataAttribute(t,e){return normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=isElement$1(n)?Manipulator.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...isElement$1(n)?Manipulator.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const r of Object.keys(n)){const o=n[r],s=e[r],a=isElement$1(s)?"element":toType(s);if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${o}".`)}}}const VERSION$1="5.2.3";class BaseComponent extends Config{constructor(e,n){super(),e=getElement(e),e&&(this._element=e,this._config=this._getConfig(n),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){executeAfterTransition(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Data.get(getElement(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return VERSION$1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const enableDismissTrigger=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;EventHandler.on(document,n,`[data-bs-dismiss="${r}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),isDisabled(this))return;const s=getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const n=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Alert.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(e){return this.each(function(){const n=Button.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(e).toggle()});defineJQueryPlugin(Button);const SelectorEngine={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!isDisabled(n)&&isVisible(n))}},NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(e,n){super(),this._element=e,!(!e||!Swipe.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=SWIPE_THRESHOLD)return;const n=e/this._deltaX;this._deltaX=0,n&&execute(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,e=>this._start(e)),EventHandler.on(this._element,EVENT_POINTERUP,e=>this._end(e)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,e=>this._start(e)),EventHandler.on(this._element,EVENT_TOUCHMOVE,e=>this._move(e)),EventHandler.on(this._element,EVENT_TOUCHEND,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===POINTER_TYPE_PEN||e.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const o=e>r?ORDER_NEXT:ORDER_PREV;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,e=>this._keydown(e)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(r,EVENT_DRAG_START,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=KEY_TO_DIRECTION[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);n.classList.remove(CLASS_NAME_ACTIVE$2),n.removeAttribute("aria-current");const r=SelectorEngine.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(CLASS_NAME_ACTIVE$2),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),o=e===ORDER_NEXT,s=n||getNextActiveElement(this._getItems(),r,o,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),c=v=>EventHandler.trigger(this._element,v,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(c(EVENT_SLIDE).defaultPrevented||!r||!s)return;const u=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const f=o?CLASS_NAME_START:CLASS_NAME_END,b=o?CLASS_NAME_NEXT:CLASS_NAME_PREV;s.classList.add(b),reflow(s),r.classList.add(f),s.classList.add(f);const S=()=>{s.classList.remove(f,b),s.classList.add(CLASS_NAME_ACTIVE$2),r.classList.remove(CLASS_NAME_ACTIVE$2,b,f),this._isSliding=!1,c(EVENT_SLID)};this._queueCallback(S,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return isRTL()?e===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:e===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(e){return isRTL()?e===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:e===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(e){return this.each(function(){const n=Carousel.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(t){const e=getElementFromSelector(this);if(!e||!e.classList.contains(CLASS_NAME_CAROUSEL))return;t.preventDefault();const n=Carousel.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const t=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const e of t)Carousel.getOrCreateInstance(e)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const o of r){const s=getSelectorFromElement(o),a=SelectorEngine.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(c=>c!==this._element).map(c=>Collapse.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[r]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const o of this._triggerArray){const s=getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=getElement(e.parent),e}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const n of e){const r=getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(CLASS_NAME_COLLAPSED,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=Collapse.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=getSelectorFromElement(this),n=SelectorEngine.find(e);for(const r of n)Collapse.getOrCreateInstance(r,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const r of[].concat(...document.body.children))EventHandler.on(r,"mouseover",noop$2);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,e)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))EventHandler.off(r,"mouseover",noop$2);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!isElement$1(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:isElement$1(this._config.reference)?e=getElement(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=createPopper(e,this._menu,n)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const e=this._parent;if(e.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(e.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(e.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(e.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(CLASS_NAME_DROPUP)?n?PLACEMENT_TOPEND:PLACEMENT_TOP:n?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const r=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(o=>isVisible(o));r.length&&getNextActiveElement(r,n,e===ARROW_DOWN_KEY$1,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Dropdown.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===RIGHT_MOUSE_BUTTON||e.type==="keyup"&&e.key!==TAB_KEY$1)return;const n=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const r of n){const o=Dropdown.getInstance(r);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!a||o._config.autoClose==="outside"&&a||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:o._element};e.type==="click"&&(c.clickEvent=e),o._completeHide(c)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===ESCAPE_KEY$2,o=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(e.key);if(!o&&!r||n&&!r)return;e.preventDefault();const s=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,e.delegateTarget.parentNode),a=Dropdown.getOrCreateInstance(s);if(o){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(t){t.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,n=>n+e),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,n=>n+e),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const o=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+o)return;this._saveInitialAttribute(a,n);const c=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&Manipulator.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=o=>{const s=Manipulator.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}Manipulator.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(isElement$1(e)){n(e);return}for(const r of SelectorEngine.find(e,this._element))n(r)}}const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(e){if(!this._config.isVisible){execute(e);return}this._append();const n=this._getElement();this._config.isAnimated&&reflow(n),n.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(e)})}hide(e){if(!this._config.isVisible){execute(e);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(e)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(CLASS_NAME_FADE$4),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=getElement(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),EventHandler.on(e,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){executeAfterTransition(e,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,e=>this._handleFocusin(e)),EventHandler.on(document,EVENT_KEYDOWN_TAB,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=SelectorEngine.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===TAB_KEY&&(this._lastTabNavDirection=e.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(e,n){super(e,n),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])EventHandler.off(e,EVENT_KEY$4);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);n&&(n.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,e=>{if(e.key===ESCAPE_KEY$1){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,e=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const o=isRTL()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!r&&e){const o=isRTL()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=Modal.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(t){const e=getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),EventHandler.one(e,EVENT_SHOW$4,o=>{o.defaultPrevented||EventHandler.one(e,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const n=SelectorEngine.findOne(OPEN_SELECTOR$1);n&&Modal.getInstance(n).hide(),Modal.getOrCreateInstance(e).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const n=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},n=Boolean(this._config.backdrop);return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,e=>{if(e.key===ESCAPE_KEY){if(!this._config.keyboard){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=Offcanvas.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(t){const e=getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),isDisabled(this))return;EventHandler.one(e,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const n=SelectorEngine.findOne(OPEN_SELECTOR);n&&n!==e&&Offcanvas.getInstance(n).hide(),Offcanvas.getOrCreateInstance(e).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const t of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(t).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const t of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Offcanvas.getOrCreateInstance(t).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,allowedAttribute=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?uriAttributes.has(n)?Boolean(SAFE_URL_PATTERN.test(t.nodeValue)||DATA_URL_PATTERN.test(t.nodeValue)):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))},DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function sanitizeHtml(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const a of s){const c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(e["*"]||[],e[c]||[]);for(const f of l)allowedAttribute(f,u)||a.removeAttribute(f.nodeName)}return o.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},DefaultContentType)}_setContent(e,n,r){const o=SelectorEngine.findOne(r,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(isElement$1(n)){this._putElementInTemplate(getElement(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?sanitizeHtml(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(e,n){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),r=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(o),o.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))EventHandler.on(c,"mouseover",noop$2);const a=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))EventHandler.off(o,"mouseover",noop$2);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=getUID(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(CLASS_NAME_FADE$2),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new TemplateFactory({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,r=AttachmentMap[n.toUpperCase()];return createPopper(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==TRIGGER_MANUAL){const r=n===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),o=n===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,a._enter()}),EventHandler.on(this._element,o,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Manipulator.getDataAttributes(this._element);for(const r of Object.keys(n))DISALLOWED_ATTRIBUTES.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:getElement(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Tooltip.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Popover.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=getElement(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:o,behavior:"smooth"});return}r.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!o)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const n of e){if(!n.hash||isDisabled(n))continue;const r=SelectorEngine.findOne(n.hash,this._element);isVisible(r)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(e),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,e.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const n of SelectorEngine.parents(e,SELECTOR_NAV_LIST_GROUP))for(const r of SelectorEngine.prev(n,SELECTOR_LINK_ITEMS))r.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(e){e.classList.remove(CLASS_NAME_ACTIVE$1);const n=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,e);for(const r of n)r.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(e){return this.each(function(){const n=ScrollSpy.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const t of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(t)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(.dropdown-toggle)",SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(e){super(e),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,n=>this._keydown(n)))}static get NAME(){return NAME$1}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?EventHandler.trigger(n,EVENT_HIDE$1,{relatedTarget:e}):null;EventHandler.trigger(e,EVENT_SHOW$1,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(CLASS_NAME_ACTIVE),this._activate(getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(CLASS_NAME_SHOW$1);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),EventHandler.trigger(e,EVENT_SHOWN$1,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(CLASS_NAME_FADE$1))}_deactivate(e,n){if(!e)return;e.classList.remove(CLASS_NAME_ACTIVE),e.blur(),this._deactivate(getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(CLASS_NAME_SHOW$1);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),EventHandler.trigger(e,EVENT_HIDDEN$1,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(CLASS_NAME_FADE$1))}_keydown(e){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(e.key),r=getNextActiveElement(this._getChildren().filter(o=>!isDisabled(o)),e.target,n,!0);r&&(r.focus({preventScroll:!0}),Tab.getOrCreateInstance(r).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(CLASS_DROPDOWN))return;const o=(s,a)=>{const c=SelectorEngine.findOne(s,r);c&&c.classList.toggle(a,n)};o(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),o(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(e){return e.matches(SELECTOR_INNER_ELEM)?e:SelectorEngine.findOne(SELECTOR_INNER_ELEM,e)}_getOuterElement(e){return e.closest(SELECTOR_OUTER)||e}static jQueryInterface(e){return this.each(function(){const n=Tab.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const t of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(t)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const n=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const n=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,e=>this._onInteraction(e,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Toast.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);function bind$1(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(t=>e=>{const n=toString.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$2(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$1=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$3=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$1(t)&&isFunction$2(t.pipe),isFormData=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||toString.call(t)===e||isFunction$2(t.toString)&&t.toString()===e)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),isArray$1(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let c;for(r=0;r<a;r++)c=s[r],e.call(null,t[c],c,t)}}function findKey(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},n=(r,o)=>{const s=t&&findKey(e,o)||o;isPlainObject$3(e[s])&&isPlainObject$3(r)?e[s]=merge(e[s],r):isPlainObject$3(r)?e[s]=merge({},r):isArray$1(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&forEach$1(arguments[r],n);return e}const extend$1=(t,e,n,{allOwnKeys:r}={})=>(forEach$1(e,(o,s)=>{n&&isFunction$2(o)?t[s]=bind$1(o,n):t[s]=o},{allOwnKeys:r}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject=(t,e,n,r)=>{let o,s,a;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)a=o[s],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},toArray=t=>{if(!t)return null;if(isArray$1(t))return t;let e=t.length;if(!isNumber$1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},matchAll=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),hasOwnProperty$2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),isRegExp$2=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};forEach$1(n,(o,s)=>{e(o,s,t)!==!1&&(r[s]=o)}),Object.defineProperties(t,r)},freezeMethods=t=>{reduceDescriptors(t,(e,n)=>{if(isFunction$2(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(isFunction$2(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return isArray$1(t)?r(t):r(String(t).split(e)),n},noop$1=()=>{},toFiniteNumber=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT$1="0123456789",ALPHABET={DIGIT:DIGIT$1,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT$1},generateString=(t=16,e=ALPHABET.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function isSpecCompliantForm(t){return!!(t&&isFunction$2(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),n=(r,o)=>{if(isObject$1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=isArray$1(r)?[]:{};return forEach$1(r,(a,c)=>{const l=n(a,o+1);!isUndefined(l)&&(s[c]=l)}),e[o]=void 0,s}}return r};return n(t,0)},utils={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$3,isUndefined,isDate:isDate$2,isFile,isBlob,isRegExp:isRegExp$2,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,n,r,o,s)=>{const a=Object.create(prototype$1);return utils.toFlatObject(t,a,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),AxiosError.call(a,t.message,e,n,r,o),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const httpAdapter=null;function isVisitable(t){return utils.isPlainObject(t)||utils.isArray(t)}function removeBrackets(t){return utils.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,n){return t?t.concat(e).map(function(o,s){return o=removeBrackets(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function isFlatArray(t){return utils.isArray(t)&&!t.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,n){if(!utils.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=utils.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,A){return!utils.isUndefined(A[w])});const r=n.metaTokens,o=n.visitor||f,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(e);if(!utils.isFunction(o))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(utils.isDate(g))return g.toISOString();if(!l&&utils.isBlob(g))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(g)||utils.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,w,A){let T=g;if(g&&!A&&typeof g=="object"){if(utils.endsWith(w,"{}"))w=r?w:w.slice(0,-2),g=JSON.stringify(g);else if(utils.isArray(g)&&isFlatArray(g)||(utils.isFileList(g)||utils.endsWith(w,"[]"))&&(T=utils.toArray(g)))return w=removeBrackets(w),T.forEach(function(R,k){!(utils.isUndefined(R)||R===null)&&e.append(a===!0?renderKey([w],k,s):a===null?w:w+"[]",u(R))}),!1}return isVisitable(g)?!0:(e.append(renderKey(A,w,s),u(g)),!1)}const b=[],S=Object.assign(predicates,{defaultVisitor:f,convertValue:u,isVisitable});function v(g,w){if(!utils.isUndefined(g)){if(b.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));b.push(g),utils.forEach(g,function(T,O){(!(utils.isUndefined(T)||T===null)&&o.call(e,T,utils.isString(O)?O.trim():O,w,S))===!0&&v(T,w?w.concat(O):[O])}),b.pop()}}if(!utils.isObject(t))throw new TypeError("data must be an object");return v(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,n){this._pairs.push([e,n])};prototype.toString=function(e){const n=e?function(r){return e.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,n){if(!e)return t;const r=n&&n.encode||encode,o=n&&n.serialize;let s;if(o?s=o(e,n):s=utils.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils.forEach(this.handlers,function(r){r!==null&&e(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData,isStandardBrowserEnv=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return platform.isNode&&utils.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function formDataToJSON(t){function e(n,r,o,s){let a=n[s++];const c=Number.isFinite(+a),l=s>=n.length;return a=!a&&utils.isArray(o)?o.length:a,l?(utils.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!c):((!o[a]||!utils.isObject(o[a]))&&(o[a]=[]),e(n,r,o[a],s)&&utils.isArray(o[a])&&(o[a]=arrayToObject(o[a])),!c)}if(utils.isFormData(t)&&utils.isFunction(t.entries)){const n={};return utils.forEachEntry(t,(r,o)=>{e(parsePropPath(r),o,n,0)}),n}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(t,e,n){if(utils.isString(t))try{return(e||JSON.parse)(t),utils.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=utils.isObject(e);if(s&&utils.isHTMLForm(e)&&(e=new FormData(e)),utils.isFormData(e))return o&&o?JSON.stringify(formDataToJSON(e)):e;if(utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const n=this.transitional||defaults$1.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&utils.isString(e)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults$1.headers[e]={}});utils.forEach(["post","put","patch"],function(e){defaults$1.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||e[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function isValidHeaderName(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function matchHeaderValue(t,e,n,r){if(utils.isFunction(r))return r.call(this,e,n);if(utils.isString(e)){if(utils.isString(r))return e.indexOf(r)!==-1;if(utils.isRegExp(r))return r.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function buildAccessors(t,e){const n=utils.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,a){return this[r].call(this,e,o,s,a)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(c,l,u){const f=normalizeHeader(l);if(!f)throw new Error("header name must be a non-empty string");const b=utils.findKey(o,f);(!b||o[b]===void 0||u===!0||u===void 0&&o[b]!==!1)&&(o[b||l]=normalizeValue(c))}const a=(c,l)=>utils.forEach(c,(u,f)=>s(u,f,l));return utils.isPlainObject(e)||e instanceof this.constructor?a(e,n):utils.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?a(parseHeaders(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=normalizeHeader(e),e){const r=utils.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return parseTokens(o);if(utils.isFunction(n))return n.call(this,o,r);if(utils.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=normalizeHeader(e),e){const r=utils.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||matchHeaderValue(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(a){if(a=normalizeHeader(a),a){const c=utils.findKey(r,a);c&&(!n||matchHeaderValue(r,r[c],c,n))&&(delete r[c],o=!0)}}return utils.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||matchHeaderValue(this,this[s],s,e))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return utils.forEach(this,(o,s)=>{const a=utils.findKey(r,s);if(a){n[a]=normalizeValue(o),delete n[s];return}const c=e?formatHeader(s):String(s).trim();c!==s&&delete n[s],n[c]=normalizeValue(o),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return utils.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&utils.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function s(a){const c=normalizeHeader(a);r[c]||(buildAccessors(o,a),r[c]=!0)}return utils.isArray(e)?e.forEach(s):s(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(t,e){const n=this||defaults$2,r=e||n,o=AxiosHeaders$1.from(r.headers);let s=r.data;return utils.forEach(t,function(c){s=c.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,n){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,n),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(n,r,o,s,a,c){const l=[];l.push(n+"="+encodeURIComponent(r)),utils.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),utils.isString(s)&&l.push("path="+s),utils.isString(a)&&l.push("domain="+a),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e){return t&&!isAbsoluteURL(e)?combineURLs(t,e):e}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(a){const c=utils.isString(a)?o(a):a;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];a||(a=u),n[o]=l,r[o]=u;let b=s,S=0;for(;b!==o;)S+=n[b++],b=b%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-a<e)return;const v=f&&u-f;return v?Math.round(S*1e3/v):void 0}}function progressEventReducer(t,e){let n=0;const r=speedometer(50,250);return o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-n,l=r(c),u=s<=a;n=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:o};f[e?"download":"upload"]=!0,t(f)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(n,r){let o=t.data;const s=AxiosHeaders$1.from(t.headers).normalize(),a=t.responseType;let c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}utils.isFormData(o)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+g))}const f=buildFullPath(t.baseURL,t.url);u.open(t.method.toUpperCase(),buildURL(f,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function b(){if(!u)return;const v=AxiosHeaders$1.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:v,config:t,request:u};settle(function(T){n(T),l()},function(T){r(T),l()},w),u=null}if("onloadend"in u?u.onloadend=b:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(b)},u.onabort=function(){u&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||transitionalDefaults;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new AxiosError(g,w.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,u)),u=null},platform.isStandardBrowserEnv){const v=(t.withCredentials||isURLSameOrigin(f))&&t.xsrfCookieName&&cookies.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}o===void 0&&s.setContentType(null),"setRequestHeader"in u&&utils.forEach(s.toJSON(),function(g,w){u.setRequestHeader(w,g)}),utils.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",progressEventReducer(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",progressEventReducer(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=v=>{u&&(r(!v||v.type?new CanceledError(null,t,u):v),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const S=parseProtocol(f);if(S&&platform.protocols.indexOf(S)===-1){r(new AxiosError("Unsupported protocol "+S+":",AxiosError.ERR_BAD_REQUEST,t));return}u.send(o||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const adapters={getAdapter:t=>{t=utils.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=utils.isString(n)?knownAdapters[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new AxiosError(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!utils.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$2.adapter)(t).then(function(r){return throwIfCancellationRequested(t),r.data=transformData.call(t,t.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(t),r&&r.response&&(r.response.data=transformData.call(t,t.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const headersToObject=t=>t instanceof AxiosHeaders$1?t.toJSON():t;function mergeConfig(t,e){e=e||{};const n={};function r(u,f,b){return utils.isPlainObject(u)&&utils.isPlainObject(f)?utils.merge.call({caseless:b},u,f):utils.isPlainObject(f)?utils.merge({},f):utils.isArray(f)?f.slice():f}function o(u,f,b){if(utils.isUndefined(f)){if(!utils.isUndefined(u))return r(void 0,u,b)}else return r(u,f,b)}function s(u,f){if(!utils.isUndefined(f))return r(void 0,f)}function a(u,f){if(utils.isUndefined(f)){if(!utils.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function c(u,f,b){if(b in e)return r(u,f);if(b in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(u,f)=>o(headersToObject(u),headersToObject(f),!0)};return utils.forEach(Object.keys(t).concat(Object.keys(e)),function(f){const b=l[f]||o,S=b(t[f],e[f],f);utils.isUndefined(S)&&b!==c||(n[f]=S)}),n}const VERSION="1.3.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,n,r){function o(s,a){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,c)=>{if(e===!1)throw new AxiosError(o(a," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!deprecatedWarnings[a]&&(deprecatedWarnings[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,c):!0}};function assertOptions(t,e,n){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],a=e[s];if(a){const c=t[s],l=c===void 0||a(c,s,t);if(l!==!0)throw new AxiosError("option "+s+" must be "+l,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mergeConfig(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!==void 0&&validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a;a=s&&utils.merge(s.common,s[n.method]),a&&utils.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=AxiosHeaders$1.concat(a,s);const c=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,b=0,S;if(!l){const g=[dispatchRequest.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,u),S=g.length,f=Promise.resolve(n);b<S;)f=f.then(g[b++],g[b++]);return f}S=c.length;let v=n;for(b=0;b<S;){const g=c[b++],w=c[b++];try{v=g(v)}catch(A){w.call(this,A);break}}try{f=dispatchRequest.call(this,v)}catch(g){return Promise.reject(g)}for(b=0,S=u.length;b<S;)f=f.then(u[b++],u[b++]);return f}getUri(e){e=mergeConfig(this.defaults,e);const n=buildFullPath(e.baseURL,e.url);return buildURL(n,e.params,e.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(n,r){return this.request(mergeConfig(r||{},{method:e,url:n,data:(r||{}).data}))}});utils.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,c){return this.request(mergeConfig(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Axios.prototype[e]=n(),Axios.prototype[e+"Form"]=n(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const a=new Promise(c=>{r.subscribe(c),s=c}).then(o);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,c){r.reason||(r.reason=new CanceledError(s,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new CancelToken(function(o){e=o}),cancel:e}}}const CancelToken$1=CancelToken;function spread(t){return function(n){return t.apply(null,n)}}function isAxiosError(t){return utils.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});const HttpStatusCode$1=HttpStatusCode;function createInstance(t){const e=new Axios$1(t),n=bind$1(Axios$1.prototype.request,e);return utils.extend(n,Axios$1.prototype,e,{allOwnKeys:!0}),utils.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return createInstance(mergeConfig(t,o))},n}const axios$1=createInstance(defaults$2);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel;axios$1.VERSION=VERSION;axios$1.toFormData=toFormData;axios$1.AxiosError=AxiosError;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$1.mergeConfig=mergeConfig;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=t=>formDataToJSON(utils.isHTMLForm(t)?new FormData(t):t);axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const axios$2=axios$1;window._=_;window.axios=axios$2;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const app$1="",andrei="";function makeMap(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);function normalizeStyle(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=isString(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)e[s]=o[s]}return e}else{if(isString(t))return t;if(isObject(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray(t))for(let n=0;n<t.length;n++){const r=normalizeClass(t[n]);r&&(e+=r+" ")}else if(isObject(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:n}=t;return e&&!isString(e)&&(t.class=normalizeClass(e)),n&&(t.style=normalizeStyle(n)),t}const HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",VOID_TAGS="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS),isVoidTag=makeMap(VOID_TAGS),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=looseEqual(t[r],e[r]);return n}function looseEqual(t,e){if(t===e)return!0;let n=isDate$1(t),r=isDate$1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=isSymbol(t),r=isSymbol(e),n||r)return t===e;if(n=isArray(t),r=isArray(e),n||r)return n&&r?looseCompareArrays(t,e):!1;if(n=isObject(t),r=isObject(e),n||r){if(!n||!r)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const a in t){const c=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(c&&!l||!c&&l||!looseEqual(t[a],e[a]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(n=>looseEqual(n,e))}const toDisplayString=t=>isString(t)?t:t==null?"":isArray(t)||isObject(t)&&(t.toString===objectToString||!isFunction$1(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject(e)&&!isArray(e)&&!isPlainObject$2(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate$1=t=>toTypeString(t)==="[object Date]",isRegExp$1=t=>toTypeString(t)==="[object RegExp]",isFunction$1=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>isObject(t)&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$2=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction$1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(t=>t.replace(camelizeRE$1,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction$1(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction$1(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction$1(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];wasTracked(o)&&!newTracked(o)?o.delete(t):e[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,n=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function effect(t,e){t.effect&&(t=t.effect.fn);const n=new ReactiveEffect(t);e&&(extend(n,e),e.scope&&recordEffectScope(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function stop(t){t.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,n){if(shouldTrack&&activeEffect){let r=targetMap.get(t);r||targetMap.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,n,r,o,s){const a=targetMap.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&isArray(t)){const l=Number(r);a.forEach((u,f)=>{(f==="length"||f>=l)&&c.push(u)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":isArray(t)?isIntegerKey(n)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(t)||(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const l=[];for(const u of c)u&&l.push(...u);triggerEffects(createDep(l))}}function triggerEffects(t,e){const n=isArray(t)?t:[...t];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function getDepFromReactive(t,e){var n;return(n=targetMap.get(t))===null||n===void 0?void 0:n.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(r,"get",s+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pauseTracking();const r=toRaw(this)[e].apply(this,n);return resetTracking(),r}}),t}function hasOwnProperty(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}function createGetter(t=!1,e=!1){return function(r,o,s){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&s===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray(r);if(!t){if(a&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);if(o==="hasOwnProperty")return hasOwnProperty}const c=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(r,"get",o),e)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject(c)?t?readonly(c):reactive(c):c}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,r,o,s){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!t&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray(n)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),l=Reflect.set(n,r,o,s);return n===toRaw(s)&&(c?hasChanged(o,a)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),l}}function deleteProperty(t,e){const n=hasOwn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&trigger(t,"delete",e,void 0),r}function has$1(t,e){const n=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),n}function ownKeys$1(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get(t,e,n=!1,r=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);n||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:a}=getProto(o),c=r?toShallow:n?toReadonly:toReactive;if(a.call(o,e))return c(t.get(e));if(a.call(o,s))return c(t.get(s));t!==o&&t.get(e)}function has(t,e=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(t);return e||(t!==o&&track(r,"has",t),track(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set(t,e){e=toRaw(e);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,t);s||(t=toRaw(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?hasChanged(e,a)&&trigger(n,"set",t,e):trigger(n,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:n,get:r}=getProto(e);let o=n.call(e,t);o||(t=toRaw(t),o=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,n=t.clear();return e&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,e){return function(r,o){const s=this,a=s.__v_raw,c=toRaw(a),l=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),a.forEach((u,f)=>r.call(o,l(u),l(f),s))}}function createIterableMethod(t,e,n){return function(...r){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=o[t](...r),f=n?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:b,done:S}=u.next();return S?{value:b,done:S}:{value:c?[f(b[0]),f(b[1])]:f(b),done:S}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get(this,s)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get(this,s,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get(this,s,!0)},get size(){return size(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[t,n,e,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const n=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,n,r,o){if(!isObject(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=getTargetType(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject(t)?reactive(t):t,toReadonly=t=>isObject(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const n=t.dep;n&&triggerEffects(n)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:toReactive(e),triggerRefValue(this))}}function triggerRef(t){triggerRefValue(t)}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>unref(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray(t)?new Array(t.length):{};for(const n in t)e[n]=toRef(t,n);return e}class ObjectRefImpl{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(t,e,n){const r=t[e];return isRef(r)?r:new ObjectRefImpl(t,e,n)}var _a$1;class ComputedRefImpl{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a$1="__v_isReadonly";function computed$1(t,e,n=!1){let r,o;const s=isFunction$1(t);return s?(r=t,o=NOOP):(r=t.get,o=t.set),new ComputedRefImpl(r,o,s||!o,n)}function warn$1(t,...e){}function assertNumber(t,e){}function callWithErrorHandling(t,e,n,r){let o;try{o=r?t(...r):t()}catch(s){handleError(s,e,n)}return o}function callWithAsyncErrorHandling(t,e,n,r){if(isFunction$1(t)){const s=callWithErrorHandling(t,e,n,r);return s&&isPromise(s)&&s.catch(a=>{handleError(a,e,n)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,n,r));return o}function handleError(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){callWithErrorHandling(l,null,10,[t,a,c]);return}}logError(t,n,o,r)}function logError(t,e,n,r=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const r=e+n>>>1;getId(queue[r])<t?e=r+1:n=r}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const n=queue[e];n&&n.pre&&(queue.splice(e,1),e--,n())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const n=getId(t)-getId(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer=[];function setDevtoolsHook(t,e){var n,r;devtools=t,devtools?(devtools.enabled=!0,buffer.forEach(({event:o,args:s})=>devtools.emit(o,...s)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{setDevtoolsHook(s,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||EMPTY_OBJ;let o=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:b,trim:S}=r[f]||EMPTY_OBJ;S&&(o=n.map(v=>isString(v)?v.trim():v)),b&&(o=n.map(looseToNumber))}let c,l=r[c=toHandlerKey(e)]||r[c=toHandlerKey(camelize$1(e))];!l&&s&&(l=r[c=toHandlerKey(hyphenate(e))]),l&&callWithAsyncErrorHandling(l,t,6,o);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(u,t,6,o)}}function normalizeEmitsOptions(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const s=t.emits;let a={},c=!1;if(!isFunction$1(t)){const l=u=>{const f=normalizeEmitsOptions(u,e,!0);f&&(c=!0,extend(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(isObject(t)&&r.set(t,null),null):(isArray(s)?s.forEach(l=>a[l]=null):extend(a,s),isObject(t)&&r.set(t,a),a)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}const withScopeId=t=>withCtx;function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let a;try{a=t(...o)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:l,emit:u,render:f,renderCache:b,data:S,setupState:v,ctx:g,inheritAttrs:w}=t;let A,T;const O=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const k=o||r;A=normalizeVNode(f.call(k,k,b,s,v,S,g)),T=l}else{const k=e;A=normalizeVNode(k.length>1?k(s,{attrs:l,slots:c,emit:u}):k(s,null)),T=e.props?l:getFunctionalFallthrough(l)}}catch(k){blockStack.length=0,handleError(k,t,1),A=createVNode(Comment)}let R=A;if(T&&w!==!1){const k=Object.keys(T),{shapeFlag:V}=R;k.length&&V&7&&(a&&k.some(isModelListener)&&(T=filterModelListeners(T,a)),R=cloneVNode(R,T))}return n.dirs&&(R=cloneVNode(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),A=R,setCurrentRenderingInstance(O),A}function filterSingleRoot(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(isVNode(r)){if(r.type!==Comment||r.children==="v-if"){if(e)return;e=r}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const r in t)(!isModelListener(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function shouldUpdateComponent(t,e,n){const{props:r,children:o,component:s}=t,{props:a,children:c,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hasPropsChanged(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let b=0;b<f.length;b++){const S=f[b];if(a[S]!==r[S]&&!isEmitListener(u,S))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,u):!0:!!a;return!1}function hasPropsChanged(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==t[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,n,r,o,s,a,c,l,u){t==null?mountSuspense(e,n,r,o,s,a,c,l,u):patchSuspense(t,e,n,r,o,a,c,l,u)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const n=t.props&&t.props[e];isFunction$1(n)&&n()}function mountSuspense(t,e,n,r,o,s,a,c,l){const{p:u,o:{createElement:f}}=l,b=f("div"),S=t.suspense=createSuspenseBoundary(t,o,r,e,b,n,s,a,c,l);u(null,S.pendingBranch=t.ssContent,b,null,r,S,s,a),S.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,a),setActiveBranch(S,t.ssFallback)):S.resolve()}function patchSuspense(t,e,n,r,o,s,a,c,{p:l,um:u,o:{createElement:f}}){const b=e.suspense=t.suspense;b.vnode=e,e.el=t.el;const S=e.ssContent,v=e.ssFallback,{activeBranch:g,pendingBranch:w,isInFallback:A,isHydrating:T}=b;if(w)b.pendingBranch=S,isSameVNodeType(S,w)?(l(w,S,b.hiddenContainer,null,o,b,s,a,c),b.deps<=0?b.resolve():A&&(l(g,v,n,r,o,null,s,a,c),setActiveBranch(b,v))):(b.pendingId++,T?(b.isHydrating=!1,b.activeBranch=w):u(w,o,b),b.deps=0,b.effects.length=0,b.hiddenContainer=f("div"),A?(l(null,S,b.hiddenContainer,null,o,b,s,a,c),b.deps<=0?b.resolve():(l(g,v,n,r,o,null,s,a,c),setActiveBranch(b,v))):g&&isSameVNodeType(S,g)?(l(g,S,n,r,o,b,s,a,c),b.resolve(!0)):(l(null,S,b.hiddenContainer,null,o,b,s,a,c),b.deps<=0&&b.resolve()));else if(g&&isSameVNodeType(S,g))l(g,S,n,r,o,b,s,a,c),setActiveBranch(b,S);else if(triggerEvent(e,"onPending"),b.pendingBranch=S,b.pendingId++,l(null,S,b.hiddenContainer,null,o,b,s,a,c),b.deps<=0)b.resolve();else{const{timeout:O,pendingId:R}=b;O>0?setTimeout(()=>{b.pendingId===R&&b.fallback(v)},O):O===0&&b.fallback(v)}}function createSuspenseBoundary(t,e,n,r,o,s,a,c,l,u,f=!1){const{p:b,m:S,um:v,n:g,o:{parentNode:w,remove:A}}=u,T=t.props?toNumber(t.props.timeout):void 0,O={vnode:t,parent:e,parentComponent:n,isSVG:a,container:r,hiddenContainer:o,anchor:s,deps:0,pendingId:0,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(R=!1){const{vnode:k,activeBranch:V,pendingBranch:P,pendingId:B,effects:j,parentComponent:q,container:Y}=O;if(O.isHydrating)O.isHydrating=!1;else if(!R){const Q=V&&P.transition&&P.transition.mode==="out-in";Q&&(V.transition.afterLeave=()=>{B===O.pendingId&&S(P,Y,le,0)});let{anchor:le}=O;V&&(le=g(V),v(V,q,O,!0)),Q||S(P,Y,le,0)}setActiveBranch(O,P),O.pendingBranch=null,O.isInFallback=!1;let ae=O.parent,me=!1;for(;ae;){if(ae.pendingBranch){ae.effects.push(...j),me=!0;break}ae=ae.parent}me||queuePostFlushCb(j),O.effects=[],triggerEvent(k,"onResolve")},fallback(R){if(!O.pendingBranch)return;const{vnode:k,activeBranch:V,parentComponent:P,container:B,isSVG:j}=O;triggerEvent(k,"onFallback");const q=g(V),Y=()=>{O.isInFallback&&(b(null,R,B,q,P,null,j,c,l),setActiveBranch(O,R))},ae=R.transition&&R.transition.mode==="out-in";ae&&(V.transition.afterLeave=Y),O.isInFallback=!0,v(V,P,null,!0),ae||Y()},move(R,k,V){O.activeBranch&&S(O.activeBranch,R,k,V),O.container=R},next(){return O.activeBranch&&g(O.activeBranch)},registerDep(R,k){const V=!!O.pendingBranch;V&&O.deps++;const P=R.vnode.el;R.asyncDep.catch(B=>{handleError(B,R,0)}).then(B=>{if(R.isUnmounted||O.isUnmounted||O.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:j}=R;handleSetupResult(R,B,!1),P&&(j.el=P);const q=!P&&R.subTree.el;k(R,j,w(P||R.subTree.el),P?null:g(R.subTree),O,a,l),q&&A(q),updateHOCHostEl(R,j.el),V&&--O.deps===0&&O.resolve()})},unmount(R,k){O.isUnmounted=!0,O.activeBranch&&v(O.activeBranch,n,R,k),O.pendingBranch&&v(O.pendingBranch,n,R,k)}};return O}function hydrateSuspense(t,e,n,r,o,s,a,c,l){const u=e.suspense=createSuspenseBoundary(e,r,n,t.parentNode,document.createElement("div"),null,o,s,a,c,!0),f=l(t,u.pendingBranch=e.ssContent,n,u,s,a);return u.deps===0&&u.resolve(),f}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=normalizeSuspenseSlot(r?n.default:n),t.ssFallback=r?normalizeSuspenseSlot(n.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction$1(t)){const n=isBlockTreeEnabled&&t._c;n&&(t._d=!1,openBlock()),t=t(),n&&(t._d=!0,e=currentBlock,closeBlock())}return isArray(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,o=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=o,updateHOCHostEl(r,o))}function provide(t,e){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[t]=e}}function inject(t,e,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&isFunction$1(e)?e.call(r.proxy):e}}function watchEffect(t,e){return doWatch(t,null,e)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const c=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let l,u=!1,f=!1;if(isRef(t)?(l=()=>t.value,u=isShallow(t)):isReactive(t)?(l=()=>t,r=!0):isArray(t)?(f=!0,u=t.some(R=>isReactive(R)||isShallow(R)),l=()=>t.map(R=>{if(isRef(R))return R.value;if(isReactive(R))return traverse(R);if(isFunction$1(R))return callWithErrorHandling(R,c,2)})):isFunction$1(t)?e?l=()=>callWithErrorHandling(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return b&&b(),callWithAsyncErrorHandling(t,c,3,[S])}:l=NOOP,e&&r){const R=l;l=()=>traverse(R())}let b,S=R=>{b=T.onStop=()=>{callWithErrorHandling(R,c,4)}},v;if(isInSSRComponentSetup)if(S=NOOP,e?n&&callWithAsyncErrorHandling(e,c,3,[l(),f?[]:void 0,S]):l(),o==="sync"){const R=useSSRContext();v=R.__watcherHandles||(R.__watcherHandles=[])}else return NOOP;let g=f?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const w=()=>{if(T.active)if(e){const R=T.run();(r||u||(f?R.some((k,V)=>hasChanged(k,g[V])):hasChanged(R,g)))&&(b&&b(),callWithAsyncErrorHandling(e,c,3,[R,g===INITIAL_WATCHER_VALUE?void 0:f&&g[0]===INITIAL_WATCHER_VALUE?[]:g,S]),g=R)}else T.run()};w.allowRecurse=!!e;let A;o==="sync"?A=w:o==="post"?A=()=>queuePostRenderEffect(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),A=()=>queueJob(w));const T=new ReactiveEffect(l,A);e?n?w():g=T.run():o==="post"?queuePostRenderEffect(T.run.bind(T),c&&c.suspense):T.run();const O=()=>{T.stop(),c&&c.scope&&remove(c.scope.effects,T)};return v&&v.push(O),O}function instanceWatch(t,e,n){const r=this.proxy,o=isString(t)?t.includes(".")?createPathGetter(r,t):()=>r[t]:t.bind(r,r);let s;isFunction$1(e)?s=e:(s=e.handler,n=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(t,e){if(!isObject(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray(t))for(let n=0;n<t.length;n++)traverse(t[n],e);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e)});else if(isPlainObject$2(t))for(const n in t)traverse(t[n],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const n=getCurrentInstance(),r=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const w of s)if(w.type!==Comment){a=w;break}}const c=toRaw(t),{mode:l}=c;if(r.isLeaving)return emptyPlaceholder(a);const u=getKeepAliveChild(a);if(!u)return emptyPlaceholder(a);const f=resolveTransitionHooks(u,c,r,n);setTransitionHooks(u,f);const b=n.subTree,S=b&&getKeepAliveChild(b);let v=!1;const{getTransitionKey:g}=u.type;if(g){const w=g();o===void 0?o=w:w!==o&&(o=w,v=!0)}if(S&&S.type!==Comment&&(!isSameVNodeType(u,S)||v)){const w=resolveTransitionHooks(S,c,r,n);if(setTransitionHooks(S,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(a);l==="in-out"&&u.type!==Comment&&(w.delayLeave=(A,T,O)=>{const R=getLeavingNodesForType(r,S);R[String(S.key)]=S,A._leaveCb=()=>{T(),A._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=O})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function resolveTransitionHooks(t,e,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:b,onLeave:S,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:w,onAppear:A,onAfterAppear:T,onAppearCancelled:O}=e,R=String(t.key),k=getLeavingNodesForType(n,t),V=(j,q)=>{j&&callWithAsyncErrorHandling(j,r,9,q)},P=(j,q)=>{const Y=q[1];V(j,q),isArray(j)?j.every(ae=>ae.length<=1)&&Y():j.length<=1&&Y()},B={mode:s,persisted:a,beforeEnter(j){let q=c;if(!n.isMounted)if(o)q=w||c;else return;j._leaveCb&&j._leaveCb(!0);const Y=k[R];Y&&isSameVNodeType(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),V(q,[j])},enter(j){let q=l,Y=u,ae=f;if(!n.isMounted)if(o)q=A||l,Y=T||u,ae=O||f;else return;let me=!1;const Q=j._enterCb=le=>{me||(me=!0,le?V(ae,[j]):V(Y,[j]),B.delayedLeave&&B.delayedLeave(),j._enterCb=void 0)};q?P(q,[j,Q]):Q()},leave(j,q){const Y=String(t.key);if(j._enterCb&&j._enterCb(!0),n.isUnmounting)return q();V(b,[j]);let ae=!1;const me=j._leaveCb=Q=>{ae||(ae=!0,q(),Q?V(g,[j]):V(v,[j]),j._leaveCb=void 0,k[Y]===t&&delete k[Y])};k[Y]=t,S?P(S,[j,me]):me()},clone(j){return resolveTransitionHooks(j,e,n,r)}};return B}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let r=[],o=0;for(let s=0;s<t.length;s++){let a=t[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fragment$1?(a.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(a.children,e,c))):(e||a.type!==Comment)&&r.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent(t){return isFunction$1(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;function defineAsyncComponent(t){isFunction$1(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:o=200,timeout:s,suspensible:a=!0,onError:c}=t;let l=null,u,f=0;const b=()=>(f++,l=null,S()),S=()=>{let v;return l||(v=l=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),c)return new Promise((w,A)=>{c(g,()=>w(b()),()=>A(g),f+1)});throw g}).then(g=>v!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:S,get __asyncResolved(){return u},setup(){const v=currentInstance;if(u)return()=>createInnerComp(u,v);const g=O=>{l=null,handleError(O,v,13,!r)};if(a&&v.suspense||isInSSRComponentSetup)return S().then(O=>()=>createInnerComp(O,v)).catch(O=>(g(O),()=>r?createVNode(r,{error:O}):null));const w=ref(!1),A=ref(),T=ref(!!o);return o&&setTimeout(()=>{T.value=!1},o),s!=null&&setTimeout(()=>{if(!w.value&&!A.value){const O=new Error(`Async component timed out after ${s}ms.`);g(O),A.value=O}},s),S().then(()=>{w.value=!0,v.parent&&isKeepAlive(v.parent.vnode)&&queueJob(v.parent.update)}).catch(O=>{g(O),A.value=O}),()=>{if(w.value&&u)return createInnerComp(u,v);if(A.value&&r)return createVNode(r,{error:A.value});if(n&&!T.value)return createVNode(n)}}})}function createInnerComp(t,e){const{ref:n,props:r,children:o,ce:s}=e.vnode,a=createVNode(t,r,o);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=getCurrentInstance(),r=n.ctx;if(!r.renderer)return()=>{const O=e.default&&e.default();return O&&O.length===1?O[0]:O};const o=new Map,s=new Set;let a=null;const c=n.suspense,{renderer:{p:l,m:u,um:f,o:{createElement:b}}}=r,S=b("div");r.activate=(O,R,k,V,P)=>{const B=O.component;u(O,R,k,0,c),l(B.vnode,O,R,k,B,c,V,O.slotScopeIds,P),queuePostRenderEffect(()=>{B.isDeactivated=!1,B.a&&invokeArrayFns(B.a);const j=O.props&&O.props.onVnodeMounted;j&&invokeVNodeHook(j,B.parent,O)},c)},r.deactivate=O=>{const R=O.component;u(O,S,null,1,c),queuePostRenderEffect(()=>{R.da&&invokeArrayFns(R.da);const k=O.props&&O.props.onVnodeUnmounted;k&&invokeVNodeHook(k,R.parent,O),R.isDeactivated=!0},c)};function v(O){resetShapeFlag(O),f(O,n,c,!0)}function g(O){o.forEach((R,k)=>{const V=getComponentName(R.type);V&&(!O||!O(V))&&w(k)})}function w(O){const R=o.get(O);!a||!isSameVNodeType(R,a)?v(R):a&&resetShapeFlag(a),o.delete(O),s.delete(O)}watch(()=>[t.include,t.exclude],([O,R])=>{O&&g(k=>matches$1(O,k)),R&&g(k=>!matches$1(R,k))},{flush:"post",deep:!0});let A=null;const T=()=>{A!=null&&o.set(A,getInnerChild(n.subTree))};return onMounted(T),onUpdated(T),onBeforeUnmount(()=>{o.forEach(O=>{const{subTree:R,suspense:k}=n,V=getInnerChild(R);if(O.type===V.type&&O.key===V.key){resetShapeFlag(V);const P=V.component.da;P&&queuePostRenderEffect(P,k);return}v(O)})}),()=>{if(A=null,!e.default)return null;const O=e.default(),R=O[0];if(O.length>1)return a=null,O;if(!isVNode(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return a=null,R;let k=getInnerChild(R);const V=k.type,P=getComponentName(isAsyncWrapper(k)?k.type.__asyncResolved||{}:V),{include:B,exclude:j,max:q}=t;if(B&&(!P||!matches$1(B,P))||j&&P&&matches$1(j,P))return a=k,R;const Y=k.key==null?V:k.key,ae=o.get(Y);return k.el&&(k=cloneVNode(k),R.shapeFlag&128&&(R.ssContent=k)),A=Y,ae?(k.el=ae.el,k.component=ae.component,k.transition&&setTransitionHooks(k,k.transition),k.shapeFlag|=512,s.delete(Y),s.add(Y)):(s.add(Y),q&&s.size>parseInt(q,10)&&w(s.values().next().value)),k.shapeFlag|=256,a=k,isSuspense(R.type)?R:k}}},KeepAlive=KeepAliveImpl;function matches$1(t,e){return isArray(t)?t.some(n=>matches$1(n,e)):isString(t)?t.split(",").includes(e):isRegExp$1(t)?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,e,n,o),o=o.parent}}function injectToKeepAliveRoot(t,e,n,r){const o=injectHook(e,t,r,!0);onUnmounted(()=>{remove(r[e],o)},n)}function resetShapeFlag(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,n=currentInstance,r=!1){if(n){const o=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(e,n,t,a);return unsetCurrentInstance(),resetTracking(),c});return r?o.unshift(s):o.push(s),s}}const createHook=t=>(e,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...r)=>e(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const n=currentRenderingInstance;if(n===null)return t;const r=getExposeProxy(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,u=EMPTY_OBJ]=e[s];a&&(isFunction$1(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:u}))}return t}function invokeDirectiveHook(t,e,n,r){const o=t.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[t.el,c,t,e]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(t){return isString(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===e||c===camelize$1(e)||c===capitalize(camelize$1(e))))return s}const a=resolve(o[t]||s[t],e)||resolve(o.appContext[t],e);return!a&&r?s:a}}function resolve(t,e){return t&&(t[e]||t[camelize$1(e)]||t[capitalize(camelize$1(e))])}function renderList(t,e,n,r){let o;const s=n&&n[r];if(isArray(t)||isString(t)){o=new Array(t.length);for(let a=0,c=t.length;a<c;a++)o[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(isObject(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];o[c]=e(t[u],u,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}function createSlots(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(isArray(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return t}function renderSlot(t,e,n={},r,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(n.name=e),createVNode("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),openBlock();const a=s&&ensureValidVNode(s(n)),c=createBlock(Fragment$1,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment$1&&!ensureValidVNode(e.children)):!0)?t:null}function toHandlers(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=t[r];return n}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:c,appContext:l}=t;let u;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(hasSetupBinding(r,e))return a[e]=1,r[e];if(o!==EMPTY_OBJ&&hasOwn(o,e))return a[e]=2,o[e];if((u=t.propsOptions[0])&&hasOwn(u,e))return a[e]=3,s[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return a[e]=4,n[e];shouldCacheAccess&&(a[e]=0)}}const f=publicPropertiesMap[e];let b,S;if(f)return e==="$attrs"&&track(t,"get",e),f(t);if((b=c.__cssModules)&&(b=b[e]))return b;if(n!==EMPTY_OBJ&&hasOwn(n,e))return a[e]=4,n[e];if(S=l.config.globalProperties,hasOwn(S,e))return S[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return hasSetupBinding(o,e)?(o[e]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,e)?(r[e]=n,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let c;return!!n[a]||t!==EMPTY_OBJ&&hasOwn(t,a)||hasSetupBinding(e,a)||(c=s[0])&&hasOwn(c,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get(t,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(t,e,t)},has(t,e){return e[0]!=="_"&&!isGloballyWhitelisted(e)}});let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,r=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:l,inject:u,created:f,beforeMount:b,mounted:S,beforeUpdate:v,updated:g,activated:w,deactivated:A,beforeDestroy:T,beforeUnmount:O,destroyed:R,unmounted:k,render:V,renderTracked:P,renderTriggered:B,errorCaptured:j,serverPrefetch:q,expose:Y,inheritAttrs:ae,components:me,directives:Q,filters:le}=e;if(u&&resolveInjections(u,r,null,t.appContext.config.unwrapInjectedRef),a)for(const fe in a){const Ne=a[fe];isFunction$1(Ne)&&(r[fe]=Ne.bind(n))}if(o){const fe=o.call(n,n);isObject(fe)&&(t.data=reactive(fe))}if(shouldCacheAccess=!0,s)for(const fe in s){const Ne=s[fe],st=isFunction$1(Ne)?Ne.bind(n,n):isFunction$1(Ne.get)?Ne.get.bind(n,n):NOOP,ft=!isFunction$1(Ne)&&isFunction$1(Ne.set)?Ne.set.bind(n):NOOP,et=computed({get:st,set:ft});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>et.value,set:Nt=>et.value=Nt})}if(c)for(const fe in c)createWatcher(c[fe],r,n,fe);if(l){const fe=isFunction$1(l)?l.call(n):l;Reflect.ownKeys(fe).forEach(Ne=>{provide(Ne,fe[Ne])})}f&&callHook$1(f,t,"c");function ve(fe,Ne){isArray(Ne)?Ne.forEach(st=>fe(st.bind(n))):Ne&&fe(Ne.bind(n))}if(ve(onBeforeMount,b),ve(onMounted,S),ve(onBeforeUpdate,v),ve(onUpdated,g),ve(onActivated,w),ve(onDeactivated,A),ve(onErrorCaptured,j),ve(onRenderTracked,P),ve(onRenderTriggered,B),ve(onBeforeUnmount,O),ve(onUnmounted,k),ve(onServerPrefetch,q),isArray(Y))if(Y.length){const fe=t.exposed||(t.exposed={});Y.forEach(Ne=>{Object.defineProperty(fe,Ne,{get:()=>n[Ne],set:st=>n[Ne]=st})})}else t.exposed||(t.exposed={});V&&t.render===NOOP&&(t.render=V),ae!=null&&(t.inheritAttrs=ae),me&&(t.components=me),Q&&(t.directives=Q)}function resolveInjections(t,e,n=NOOP,r=!1){isArray(t)&&(t=normalizeInject(t));for(const o in t){const s=t[o];let a;isObject(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[o]=a}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString(t)){const s=e[t];isFunction$1(s)&&watch(o,s)}else if(isFunction$1(t))watch(o,t.bind(n));else if(isObject(t))if(isArray(t))t.forEach(s=>createWatcher(s,e,n,r));else{const s=isFunction$1(t.handler)?t.handler.bind(n):e[t.handler];isFunction$1(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!o.length&&!n&&!r?l=e:(l={},o.length&&o.forEach(u=>mergeOptions(l,u,a,!0)),mergeOptions(l,e,a)),isObject(e)&&s.set(e,l),l}function mergeOptions(t,e,n,r=!1){const{mixins:o,extends:s}=e;s&&mergeOptions(t,s,n,!0),o&&o.forEach(a=>mergeOptions(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=internalOptionMergeStrats[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray$1,created:mergeAsArray$1,beforeMount:mergeAsArray$1,mounted:mergeAsArray$1,beforeUpdate:mergeAsArray$1,updated:mergeAsArray$1,beforeDestroy:mergeAsArray$1,beforeUnmount:mergeAsArray$1,destroyed:mergeAsArray$1,unmounted:mergeAsArray$1,activated:mergeAsArray$1,deactivated:mergeAsArray$1,errorCaptured:mergeAsArray$1,serverPrefetch:mergeAsArray$1,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$1(t)?t.call(this,this):t,isFunction$1(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray$1(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const r in e)n[r]=mergeAsArray$1(t[r],e[r]);return n}function initProps(t,e,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=r?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=toRaw(o),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let b=0;b<f.length;b++){let S=f[b];if(isEmitListener(t.emitsOptions,S))continue;const v=e[S];if(l)if(hasOwn(s,S))v!==s[S]&&(s[S]=v,u=!0);else{const g=camelize$1(S);o[g]=resolvePropValue(l,c,g,v,t,!1)}else v!==s[S]&&(s[S]=v,u=!0)}}}else{setFullProps(t,e,o,s)&&(u=!0);let f;for(const b in c)(!e||!hasOwn(e,b)&&((f=hyphenate(b))===b||!hasOwn(e,f)))&&(l?n&&(n[b]!==void 0||n[f]!==void 0)&&(o[b]=resolvePropValue(l,c,b,void 0,t,!0)):delete o[b]);if(s!==c)for(const b in s)(!e||!hasOwn(e,b))&&(delete s[b],u=!0)}u&&trigger(t,"set","$attrs")}function setFullProps(t,e,n,r){const[o,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(isReservedProp(l))continue;const u=e[l];let f;o&&hasOwn(o,f=camelize$1(l))?!s||!s.includes(f)?n[f]=u:(c||(c={}))[f]=u:isEmitListener(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=toRaw(n),u=c||EMPTY_OBJ;for(let f=0;f<s.length;f++){const b=s[f];n[b]=resolvePropValue(o,l,b,u[b],t,!hasOwn(u,b))}}return a}function resolvePropValue(t,e,n,r,o,s){const a=t[n];if(a!=null){const c=hasOwn(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&isFunction$1(l)){const{propsDefaults:u}=o;n in u?r=u[n]:(setCurrentInstance(o),r=u[n]=l.call(null,e),unsetCurrentInstance())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},c=[];let l=!1;if(!isFunction$1(t)){const f=b=>{l=!0;const[S,v]=normalizePropsOptions(b,e,!0);extend(a,S),v&&c.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return isObject(t)&&r.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(s))for(let f=0;f<s.length;f++){const b=camelize$1(s[f]);validatePropName(b)&&(a[b]=EMPTY_OBJ)}else if(s)for(const f in s){const b=camelize$1(f);if(validatePropName(b)){const S=s[f],v=a[b]=isArray(S)||isFunction$1(S)?{type:S}:Object.assign({},S);if(v){const g=getTypeIndex(Boolean,v.type),w=getTypeIndex(String,v.type);v[0]=g>-1,v[1]=w<0||g<w,(g>-1||hasOwn(v,"default"))&&c.push(b)}}}const u=[a,c];return isObject(t)&&r.set(t,u),u}function validatePropName(t){return t[0]!=="$"}function getType$1(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType$1(t)===getType$1(e)}function getTypeIndex(t,e){return isArray(e)?e.findIndex(n=>isSameType(n,t)):isFunction$1(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,n)=>{if(e._n)return e;const r=withCtx((...o)=>normalizeSlotValue(e(...o)),n);return r._c=!1,r},normalizeObjectSlots=(t,e,n)=>{const r=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$1(s))e[o]=normalizeSlot(o,s,r);else if(s!=null){const a=normalizeSlotValue(s);e[o]=()=>a}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=toRaw(e),def(e,"_",n)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(extend(o,e),!n&&c===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),a=e}else e&&(normalizeVNodeSlots(t,e),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(r,o=null){isFunction$1(r)||(r=Object.assign({},r)),o!=null&&!isObject(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const l=s.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:s,_instance:null,version,get config(){return s.config},set config(u){},use(u,...f){return a.has(u)||(u&&isFunction$1(u.install)?(a.add(u),u.install(l,...f)):isFunction$1(u)&&(a.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,b){if(!c){const S=createVNode(r,o);return S.appContext=s,f&&e?e(S,u):t(S,u,b),c=!0,l._container=u,u.__vue_app__=l,getExposeProxy(S.component)||S.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l}};return l}}function setRef(t,e,n,r,o=!1){if(isArray(t)){t.forEach((S,v)=>setRef(S,e&&(isArray(e)?e[v]:e),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:s,{i:c,r:l}=t,u=e&&e.r,f=c.refs===EMPTY_OBJ?c.refs={}:c.refs,b=c.setupState;if(u!=null&&u!==l&&(isString(u)?(f[u]=null,hasOwn(b,u)&&(b[u]=null)):isRef(u)&&(u.value=null)),isFunction$1(l))callWithErrorHandling(l,c,12,[a,f]);else{const S=isString(l),v=isRef(l);if(S||v){const g=()=>{if(t.f){const w=S?hasOwn(b,l)?b[l]:f[l]:l.value;o?isArray(w)&&remove(w,s):isArray(w)?w.includes(s)||w.push(s):S?(f[l]=[s],hasOwn(b,l)&&(b[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else S?(f[l]=a,hasOwn(b,l)&&(b[l]=a)):v&&(l.value=a,t.k&&(f[t.k]=a))};a?(g.id=-1,queuePostRenderEffect(g,n)):g()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:n,o:{patchProp:r,createText:o,nextSibling:s,parentNode:a,remove:c,insert:l,createComment:u}}=t,f=(T,O)=>{if(!O.hasChildNodes()){n(null,T,O),flushPostFlushCbs(),O._vnode=T;return}hasMismatch=!1,b(O.firstChild,T,null,null,null),flushPostFlushCbs(),O._vnode=T,hasMismatch&&console.error("Hydration completed but contains mismatches.")},b=(T,O,R,k,V,P=!1)=>{const B=isComment(T)&&T.data==="[",j=()=>w(T,O,R,k,V,B),{type:q,ref:Y,shapeFlag:ae,patchFlag:me}=O;let Q=T.nodeType;O.el=T,me===-2&&(P=!1,O.dynamicChildren=null);let le=null;switch(q){case Text$2:Q!==3?O.children===""?(l(O.el=o(""),a(T),T),le=T):le=j():(T.data!==O.children&&(hasMismatch=!0,T.data=O.children),le=s(T));break;case Comment:Q!==8||B?le=j():le=s(T);break;case Static:if(B&&(T=s(T),Q=T.nodeType),Q===1||Q===3){le=T;const Se=!O.children.length;for(let ve=0;ve<O.staticCount;ve++)Se&&(O.children+=le.nodeType===1?le.outerHTML:le.data),ve===O.staticCount-1&&(O.anchor=le),le=s(le);return B?s(le):le}else j();break;case Fragment$1:B?le=g(T,O,R,k,V,P):le=j();break;default:if(ae&1)Q!==1||O.type.toLowerCase()!==T.tagName.toLowerCase()?le=j():le=S(T,O,R,k,V,P);else if(ae&6){O.slotScopeIds=V;const Se=a(T);if(e(O,Se,null,R,k,isSVGContainer(Se),P),le=B?A(T):s(T),le&&isComment(le)&&le.data==="teleport end"&&(le=s(le)),isAsyncWrapper(O)){let ve;B?(ve=createVNode(Fragment$1),ve.anchor=le?le.previousSibling:Se.lastChild):ve=T.nodeType===3?createTextVNode(""):createVNode("div"),ve.el=T,O.component.subTree=ve}}else ae&64?Q!==8?le=j():le=O.type.hydrate(T,O,R,k,V,P,t,v):ae&128&&(le=O.type.hydrate(T,O,R,k,isSVGContainer(a(T)),V,P,t,b))}return Y!=null&&setRef(Y,null,k,O),le},S=(T,O,R,k,V,P)=>{P=P||!!O.dynamicChildren;const{type:B,props:j,patchFlag:q,shapeFlag:Y,dirs:ae}=O,me=B==="input"&&ae||B==="option";if(me||q!==-1){if(ae&&invokeDirectiveHook(O,null,R,"created"),j)if(me||!P||q&48)for(const le in j)(me&&le.endsWith("value")||isOn(le)&&!isReservedProp(le))&&r(T,le,null,j[le],!1,void 0,R);else j.onClick&&r(T,"onClick",null,j.onClick,!1,void 0,R);let Q;if((Q=j&&j.onVnodeBeforeMount)&&invokeVNodeHook(Q,R,O),ae&&invokeDirectiveHook(O,null,R,"beforeMount"),((Q=j&&j.onVnodeMounted)||ae)&&queueEffectWithSuspense(()=>{Q&&invokeVNodeHook(Q,R,O),ae&&invokeDirectiveHook(O,null,R,"mounted")},k),Y&16&&!(j&&(j.innerHTML||j.textContent))){let le=v(T.firstChild,O,T,R,k,V,P);for(;le;){hasMismatch=!0;const Se=le;le=le.nextSibling,c(Se)}}else Y&8&&T.textContent!==O.children&&(hasMismatch=!0,T.textContent=O.children)}return T.nextSibling},v=(T,O,R,k,V,P,B)=>{B=B||!!O.dynamicChildren;const j=O.children,q=j.length;for(let Y=0;Y<q;Y++){const ae=B?j[Y]:j[Y]=normalizeVNode(j[Y]);if(T)T=b(T,ae,k,V,P,B);else{if(ae.type===Text$2&&!ae.children)continue;hasMismatch=!0,n(null,ae,R,null,k,V,isSVGContainer(R),P)}}return T},g=(T,O,R,k,V,P)=>{const{slotScopeIds:B}=O;B&&(V=V?V.concat(B):B);const j=a(T),q=v(s(T),O,j,R,k,V,P);return q&&isComment(q)&&q.data==="]"?s(O.anchor=q):(hasMismatch=!0,l(O.anchor=u("]"),j,q),q)},w=(T,O,R,k,V,P)=>{if(hasMismatch=!0,O.el=null,P){const q=A(T);for(;;){const Y=s(T);if(Y&&Y!==q)c(Y);else break}}const B=s(T),j=a(T);return c(T),n(null,O,j,B,R,k,isSVGContainer(j),V),B},A=T=>{let O=0;for(;T;)if(T=s(T),T&&isComment(T)&&(T.data==="["&&O++,T.data==="]")){if(O===0)return s(T);O--}return T};return[f,b]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:c,createComment:l,setText:u,setElementText:f,parentNode:b,nextSibling:S,setScopeId:v=NOOP,insertStaticContent:g}=t,w=(ye,we,Pe,je=null,ze=null,rt=null,mt=!1,dt=null,lt=!!we.dynamicChildren)=>{if(ye===we)return;ye&&!isSameVNodeType(ye,we)&&(je=Ze(ye),Nt(ye,ze,rt,!0),ye=null),we.patchFlag===-2&&(lt=!1,we.dynamicChildren=null);const{type:We,ref:St,shapeFlag:Et}=we;switch(We){case Text$2:A(ye,we,Pe,je);break;case Comment:T(ye,we,Pe,je);break;case Static:ye==null&&O(we,Pe,je,mt);break;case Fragment$1:me(ye,we,Pe,je,ze,rt,mt,dt,lt);break;default:Et&1?V(ye,we,Pe,je,ze,rt,mt,dt,lt):Et&6?Q(ye,we,Pe,je,ze,rt,mt,dt,lt):(Et&64||Et&128)&&We.process(ye,we,Pe,je,ze,rt,mt,dt,lt,Ye)}St!=null&&ze&&setRef(St,ye&&ye.ref,rt,we||ye,!we)},A=(ye,we,Pe,je)=>{if(ye==null)r(we.el=c(we.children),Pe,je);else{const ze=we.el=ye.el;we.children!==ye.children&&u(ze,we.children)}},T=(ye,we,Pe,je)=>{ye==null?r(we.el=l(we.children||""),Pe,je):we.el=ye.el},O=(ye,we,Pe,je)=>{[ye.el,ye.anchor]=g(ye.children,we,Pe,je,ye.el,ye.anchor)},R=({el:ye,anchor:we},Pe,je)=>{let ze;for(;ye&&ye!==we;)ze=S(ye),r(ye,Pe,je),ye=ze;r(we,Pe,je)},k=({el:ye,anchor:we})=>{let Pe;for(;ye&&ye!==we;)Pe=S(ye),o(ye),ye=Pe;o(we)},V=(ye,we,Pe,je,ze,rt,mt,dt,lt)=>{mt=mt||we.type==="svg",ye==null?P(we,Pe,je,ze,rt,mt,dt,lt):q(ye,we,ze,rt,mt,dt,lt)},P=(ye,we,Pe,je,ze,rt,mt,dt)=>{let lt,We;const{type:St,props:Et,shapeFlag:H,transition:W,dirs:D}=ye;if(lt=ye.el=a(ye.type,rt,Et&&Et.is,Et),H&8?f(lt,ye.children):H&16&&j(ye.children,lt,null,je,ze,rt&&St!=="foreignObject",mt,dt),D&&invokeDirectiveHook(ye,null,je,"created"),B(lt,ye,ye.scopeId,mt,je),Et){for(const X in Et)X!=="value"&&!isReservedProp(X)&&s(lt,X,null,Et[X],rt,ye.children,je,ze,Mt);"value"in Et&&s(lt,"value",null,Et.value),(We=Et.onVnodeBeforeMount)&&invokeVNodeHook(We,je,ye)}D&&invokeDirectiveHook(ye,null,je,"beforeMount");const N=(!ze||ze&&!ze.pendingBranch)&&W&&!W.persisted;N&&W.beforeEnter(lt),r(lt,we,Pe),((We=Et&&Et.onVnodeMounted)||N||D)&&queuePostRenderEffect(()=>{We&&invokeVNodeHook(We,je,ye),N&&W.enter(lt),D&&invokeDirectiveHook(ye,null,je,"mounted")},ze)},B=(ye,we,Pe,je,ze)=>{if(Pe&&v(ye,Pe),je)for(let rt=0;rt<je.length;rt++)v(ye,je[rt]);if(ze){let rt=ze.subTree;if(we===rt){const mt=ze.vnode;B(ye,mt,mt.scopeId,mt.slotScopeIds,ze.parent)}}},j=(ye,we,Pe,je,ze,rt,mt,dt,lt=0)=>{for(let We=lt;We<ye.length;We++){const St=ye[We]=dt?cloneIfMounted(ye[We]):normalizeVNode(ye[We]);w(null,St,we,Pe,je,ze,rt,mt,dt)}},q=(ye,we,Pe,je,ze,rt,mt)=>{const dt=we.el=ye.el;let{patchFlag:lt,dynamicChildren:We,dirs:St}=we;lt|=ye.patchFlag&16;const Et=ye.props||EMPTY_OBJ,H=we.props||EMPTY_OBJ;let W;Pe&&toggleRecurse(Pe,!1),(W=H.onVnodeBeforeUpdate)&&invokeVNodeHook(W,Pe,we,ye),St&&invokeDirectiveHook(we,ye,Pe,"beforeUpdate"),Pe&&toggleRecurse(Pe,!0);const D=ze&&we.type!=="foreignObject";if(We?Y(ye.dynamicChildren,We,dt,Pe,je,D,rt):mt||Ne(ye,we,dt,null,Pe,je,D,rt,!1),lt>0){if(lt&16)ae(dt,we,Et,H,Pe,je,ze);else if(lt&2&&Et.class!==H.class&&s(dt,"class",null,H.class,ze),lt&4&&s(dt,"style",Et.style,H.style,ze),lt&8){const N=we.dynamicProps;for(let X=0;X<N.length;X++){const Ee=N[X],be=Et[Ee],J=H[Ee];(J!==be||Ee==="value")&&s(dt,Ee,be,J,ze,ye.children,Pe,je,Mt)}}lt&1&&ye.children!==we.children&&f(dt,we.children)}else!mt&&We==null&&ae(dt,we,Et,H,Pe,je,ze);((W=H.onVnodeUpdated)||St)&&queuePostRenderEffect(()=>{W&&invokeVNodeHook(W,Pe,we,ye),St&&invokeDirectiveHook(we,ye,Pe,"updated")},je)},Y=(ye,we,Pe,je,ze,rt,mt)=>{for(let dt=0;dt<we.length;dt++){const lt=ye[dt],We=we[dt],St=lt.el&&(lt.type===Fragment$1||!isSameVNodeType(lt,We)||lt.shapeFlag&70)?b(lt.el):Pe;w(lt,We,St,null,je,ze,rt,mt,!0)}},ae=(ye,we,Pe,je,ze,rt,mt)=>{if(Pe!==je){if(Pe!==EMPTY_OBJ)for(const dt in Pe)!isReservedProp(dt)&&!(dt in je)&&s(ye,dt,Pe[dt],null,mt,we.children,ze,rt,Mt);for(const dt in je){if(isReservedProp(dt))continue;const lt=je[dt],We=Pe[dt];lt!==We&&dt!=="value"&&s(ye,dt,We,lt,mt,we.children,ze,rt,Mt)}"value"in je&&s(ye,"value",Pe.value,je.value)}},me=(ye,we,Pe,je,ze,rt,mt,dt,lt)=>{const We=we.el=ye?ye.el:c(""),St=we.anchor=ye?ye.anchor:c("");let{patchFlag:Et,dynamicChildren:H,slotScopeIds:W}=we;W&&(dt=dt?dt.concat(W):W),ye==null?(r(We,Pe,je),r(St,Pe,je),j(we.children,Pe,St,ze,rt,mt,dt,lt)):Et>0&&Et&64&&H&&ye.dynamicChildren?(Y(ye.dynamicChildren,H,Pe,ze,rt,mt,dt),(we.key!=null||ze&&we===ze.subTree)&&traverseStaticChildren(ye,we,!0)):Ne(ye,we,Pe,St,ze,rt,mt,dt,lt)},Q=(ye,we,Pe,je,ze,rt,mt,dt,lt)=>{we.slotScopeIds=dt,ye==null?we.shapeFlag&512?ze.ctx.activate(we,Pe,je,mt,lt):le(we,Pe,je,ze,rt,mt,lt):Se(ye,we,lt)},le=(ye,we,Pe,je,ze,rt,mt)=>{const dt=ye.component=createComponentInstance(ye,je,ze);if(isKeepAlive(ye)&&(dt.ctx.renderer=Ye),setupComponent(dt),dt.asyncDep){if(ze&&ze.registerDep(dt,ve),!ye.el){const lt=dt.subTree=createVNode(Comment);T(null,lt,we,Pe)}return}ve(dt,ye,we,Pe,ze,rt,mt)},Se=(ye,we,Pe)=>{const je=we.component=ye.component;if(shouldUpdateComponent(ye,we,Pe))if(je.asyncDep&&!je.asyncResolved){fe(je,we,Pe);return}else je.next=we,invalidateJob(je.update),je.update();else we.el=ye.el,je.vnode=we},ve=(ye,we,Pe,je,ze,rt,mt)=>{const dt=()=>{if(ye.isMounted){let{next:St,bu:Et,u:H,parent:W,vnode:D}=ye,N=St,X;toggleRecurse(ye,!1),St?(St.el=D.el,fe(ye,St,mt)):St=D,Et&&invokeArrayFns(Et),(X=St.props&&St.props.onVnodeBeforeUpdate)&&invokeVNodeHook(X,W,St,D),toggleRecurse(ye,!0);const Ee=renderComponentRoot(ye),be=ye.subTree;ye.subTree=Ee,w(be,Ee,b(be.el),Ze(be),ye,ze,rt),St.el=Ee.el,N===null&&updateHOCHostEl(ye,Ee.el),H&&queuePostRenderEffect(H,ze),(X=St.props&&St.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(X,W,St,D),ze)}else{let St;const{el:Et,props:H}=we,{bm:W,m:D,parent:N}=ye,X=isAsyncWrapper(we);if(toggleRecurse(ye,!1),W&&invokeArrayFns(W),!X&&(St=H&&H.onVnodeBeforeMount)&&invokeVNodeHook(St,N,we),toggleRecurse(ye,!0),Et&&vt){const Ee=()=>{ye.subTree=renderComponentRoot(ye),vt(Et,ye.subTree,ye,ze,null)};X?we.type.__asyncLoader().then(()=>!ye.isUnmounted&&Ee()):Ee()}else{const Ee=ye.subTree=renderComponentRoot(ye);w(null,Ee,Pe,je,ye,ze,rt),we.el=Ee.el}if(D&&queuePostRenderEffect(D,ze),!X&&(St=H&&H.onVnodeMounted)){const Ee=we;queuePostRenderEffect(()=>invokeVNodeHook(St,N,Ee),ze)}(we.shapeFlag&256||N&&isAsyncWrapper(N.vnode)&&N.vnode.shapeFlag&256)&&ye.a&&queuePostRenderEffect(ye.a,ze),ye.isMounted=!0,we=Pe=je=null}},lt=ye.effect=new ReactiveEffect(dt,()=>queueJob(We),ye.scope),We=ye.update=()=>lt.run();We.id=ye.uid,toggleRecurse(ye,!0),We()},fe=(ye,we,Pe)=>{we.component=ye;const je=ye.vnode.props;ye.vnode=we,ye.next=null,updateProps(ye,we.props,je,Pe),updateSlots(ye,we.children,Pe),pauseTracking(),flushPreFlushCbs(),resetTracking()},Ne=(ye,we,Pe,je,ze,rt,mt,dt,lt=!1)=>{const We=ye&&ye.children,St=ye?ye.shapeFlag:0,Et=we.children,{patchFlag:H,shapeFlag:W}=we;if(H>0){if(H&128){ft(We,Et,Pe,je,ze,rt,mt,dt,lt);return}else if(H&256){st(We,Et,Pe,je,ze,rt,mt,dt,lt);return}}W&8?(St&16&&Mt(We,ze,rt),Et!==We&&f(Pe,Et)):St&16?W&16?ft(We,Et,Pe,je,ze,rt,mt,dt,lt):Mt(We,ze,rt,!0):(St&8&&f(Pe,""),W&16&&j(Et,Pe,je,ze,rt,mt,dt,lt))},st=(ye,we,Pe,je,ze,rt,mt,dt,lt)=>{ye=ye||EMPTY_ARR,we=we||EMPTY_ARR;const We=ye.length,St=we.length,Et=Math.min(We,St);let H;for(H=0;H<Et;H++){const W=we[H]=lt?cloneIfMounted(we[H]):normalizeVNode(we[H]);w(ye[H],W,Pe,null,ze,rt,mt,dt,lt)}We>St?Mt(ye,ze,rt,!0,!1,Et):j(we,Pe,je,ze,rt,mt,dt,lt,Et)},ft=(ye,we,Pe,je,ze,rt,mt,dt,lt)=>{let We=0;const St=we.length;let Et=ye.length-1,H=St-1;for(;We<=Et&&We<=H;){const W=ye[We],D=we[We]=lt?cloneIfMounted(we[We]):normalizeVNode(we[We]);if(isSameVNodeType(W,D))w(W,D,Pe,null,ze,rt,mt,dt,lt);else break;We++}for(;We<=Et&&We<=H;){const W=ye[Et],D=we[H]=lt?cloneIfMounted(we[H]):normalizeVNode(we[H]);if(isSameVNodeType(W,D))w(W,D,Pe,null,ze,rt,mt,dt,lt);else break;Et--,H--}if(We>Et){if(We<=H){const W=H+1,D=W<St?we[W].el:je;for(;We<=H;)w(null,we[We]=lt?cloneIfMounted(we[We]):normalizeVNode(we[We]),Pe,D,ze,rt,mt,dt,lt),We++}}else if(We>H)for(;We<=Et;)Nt(ye[We],ze,rt,!0),We++;else{const W=We,D=We,N=new Map;for(We=D;We<=H;We++){const de=we[We]=lt?cloneIfMounted(we[We]):normalizeVNode(we[We]);de.key!=null&&N.set(de.key,We)}let X,Ee=0;const be=H-D+1;let J=!1,z=0;const ne=new Array(be);for(We=0;We<be;We++)ne[We]=0;for(We=W;We<=Et;We++){const de=ye[We];if(Ee>=be){Nt(de,ze,rt,!0);continue}let Me;if(de.key!=null)Me=N.get(de.key);else for(X=D;X<=H;X++)if(ne[X-D]===0&&isSameVNodeType(de,we[X])){Me=X;break}Me===void 0?Nt(de,ze,rt,!0):(ne[Me-D]=We+1,Me>=z?z=Me:J=!0,w(de,we[Me],Pe,null,ze,rt,mt,dt,lt),Ee++)}const te=J?getSequence(ne):EMPTY_ARR;for(X=te.length-1,We=be-1;We>=0;We--){const de=D+We,Me=we[de],Ae=de+1<St?we[de+1].el:je;ne[We]===0?w(null,Me,Pe,Ae,ze,rt,mt,dt,lt):J&&(X<0||We!==te[X]?et(Me,Pe,Ae,2):X--)}}},et=(ye,we,Pe,je,ze=null)=>{const{el:rt,type:mt,transition:dt,children:lt,shapeFlag:We}=ye;if(We&6){et(ye.component.subTree,we,Pe,je);return}if(We&128){ye.suspense.move(we,Pe,je);return}if(We&64){mt.move(ye,we,Pe,Ye);return}if(mt===Fragment$1){r(rt,we,Pe);for(let Et=0;Et<lt.length;Et++)et(lt[Et],we,Pe,je);r(ye.anchor,we,Pe);return}if(mt===Static){R(ye,we,Pe);return}if(je!==2&&We&1&&dt)if(je===0)dt.beforeEnter(rt),r(rt,we,Pe),queuePostRenderEffect(()=>dt.enter(rt),ze);else{const{leave:Et,delayLeave:H,afterLeave:W}=dt,D=()=>r(rt,we,Pe),N=()=>{Et(rt,()=>{D(),W&&W()})};H?H(rt,D,N):N()}else r(rt,we,Pe)},Nt=(ye,we,Pe,je=!1,ze=!1)=>{const{type:rt,props:mt,ref:dt,children:lt,dynamicChildren:We,shapeFlag:St,patchFlag:Et,dirs:H}=ye;if(dt!=null&&setRef(dt,null,Pe,ye,!0),St&256){we.ctx.deactivate(ye);return}const W=St&1&&H,D=!isAsyncWrapper(ye);let N;if(D&&(N=mt&&mt.onVnodeBeforeUnmount)&&invokeVNodeHook(N,we,ye),St&6)gt(ye.component,Pe,je);else{if(St&128){ye.suspense.unmount(Pe,je);return}W&&invokeDirectiveHook(ye,null,we,"beforeUnmount"),St&64?ye.type.remove(ye,we,Pe,ze,Ye,je):We&&(rt!==Fragment$1||Et>0&&Et&64)?Mt(We,we,Pe,!1,!0):(rt===Fragment$1&&Et&384||!ze&&St&16)&&Mt(lt,we,Pe),je&&re(ye)}(D&&(N=mt&&mt.onVnodeUnmounted)||W)&&queuePostRenderEffect(()=>{N&&invokeVNodeHook(N,we,ye),W&&invokeDirectiveHook(ye,null,we,"unmounted")},Pe)},re=ye=>{const{type:we,el:Pe,anchor:je,transition:ze}=ye;if(we===Fragment$1){Ue(Pe,je);return}if(we===Static){k(ye);return}const rt=()=>{o(Pe),ze&&!ze.persisted&&ze.afterLeave&&ze.afterLeave()};if(ye.shapeFlag&1&&ze&&!ze.persisted){const{leave:mt,delayLeave:dt}=ze,lt=()=>mt(Pe,rt);dt?dt(ye.el,rt,lt):lt()}else rt()},Ue=(ye,we)=>{let Pe;for(;ye!==we;)Pe=S(ye),o(ye),ye=Pe;o(we)},gt=(ye,we,Pe)=>{const{bum:je,scope:ze,update:rt,subTree:mt,um:dt}=ye;je&&invokeArrayFns(je),ze.stop(),rt&&(rt.active=!1,Nt(mt,ye,we,Pe)),dt&&queuePostRenderEffect(dt,we),queuePostRenderEffect(()=>{ye.isUnmounted=!0},we),we&&we.pendingBranch&&!we.isUnmounted&&ye.asyncDep&&!ye.asyncResolved&&ye.suspenseId===we.pendingId&&(we.deps--,we.deps===0&&we.resolve())},Mt=(ye,we,Pe,je=!1,ze=!1,rt=0)=>{for(let mt=rt;mt<ye.length;mt++)Nt(ye[mt],we,Pe,je,ze)},Ze=ye=>ye.shapeFlag&6?Ze(ye.component.subTree):ye.shapeFlag&128?ye.suspense.next():S(ye.anchor||ye.el),Fe=(ye,we,Pe)=>{ye==null?we._vnode&&Nt(we._vnode,null,null,!0):w(we._vnode||null,ye,we,null,null,null,Pe),flushPreFlushCbs(),flushPostFlushCbs(),we._vnode=ye},Ye={p:w,um:Nt,m:et,r:re,mt:le,mc:j,pc:Ne,pbc:Y,n:Ze,o:t};let ht,vt;return e&&([ht,vt]=e(Ye)),{render:Fe,hydrate:ht,createApp:createAppAPI(Fe,ht)}}function toggleRecurse({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function traverseStaticChildren(t,e,n=!1){const r=t.children,o=e.children;if(isArray(r)&&isArray(o))for(let s=0;s<r.length;s++){const a=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),n||traverseStaticChildren(a,c)),c.type===Text$2&&(c.el=a.el)}}function getSequence(t){const e=t.slice(),n=[0];let r,o,s,a,c;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(o=n[n.length-1],t[o]<u){e[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<u?s=c+1:a=c;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const n=t&&t.to;return isString(n)?e?e(n):null:n},TeleportImpl={__isTeleport:!0,process(t,e,n,r,o,s,a,c,l,u){const{mc:f,pc:b,pbc:S,o:{insert:v,querySelector:g,createText:w,createComment:A}}=u,T=isTeleportDisabled(e.props);let{shapeFlag:O,children:R,dynamicChildren:k}=e;if(t==null){const V=e.el=w(""),P=e.anchor=w("");v(V,n,r),v(P,n,r);const B=e.target=resolveTarget(e.props,g),j=e.targetAnchor=w("");B&&(v(j,B),a=a||isTargetSVG(B));const q=(Y,ae)=>{O&16&&f(R,Y,ae,o,s,a,c,l)};T?q(n,P):B&&q(B,j)}else{e.el=t.el;const V=e.anchor=t.anchor,P=e.target=t.target,B=e.targetAnchor=t.targetAnchor,j=isTeleportDisabled(t.props),q=j?n:P,Y=j?V:B;if(a=a||isTargetSVG(P),k?(S(t.dynamicChildren,k,q,o,s,a,c),traverseStaticChildren(t,e,!0)):l||b(t,e,q,Y,o,s,a,c,!1),T)j||moveTeleport(e,n,V,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ae=e.target=resolveTarget(e.props,g);ae&&moveTeleport(e,ae,null,u,0)}else j&&moveTeleport(e,P,B,u,1)}updateCssVars(e)},remove(t,e,n,r,{um:o,o:{remove:s}},a){const{shapeFlag:c,children:l,anchor:u,targetAnchor:f,target:b,props:S}=t;if(b&&s(f),(a||!isTeleportDisabled(S))&&(s(u),c&16))for(let v=0;v<l.length;v++){const g=l[v];o(g,e,n,!0,!!g.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,n,{o:{insert:r},m:o},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:c,shapeFlag:l,children:u,props:f}=t,b=s===2;if(b&&r(a,e,n),(!b||isTeleportDisabled(f))&&l&16)for(let S=0;S<u.length;S++)o(u[S],e,n,2);b&&r(c,e,n)}function hydrateTeleport(t,e,n,r,o,s,{o:{nextSibling:a,parentNode:c,querySelector:l}},u){const f=e.target=resolveTarget(e.props,l);if(f){const b=f._lpa||f.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=u(a(t),e,c(t),n,r,o,s),e.targetAnchor=b;else{e.anchor=a(t);let S=b;for(;S;)if(S=a(S),S&&S.nodeType===8&&S.data==="teleport anchor"){e.targetAnchor=S,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(b,e,f,n,r,o,s)}updateCssVars(e)}return e.anchor&&a(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Fragment$1=Symbol(void 0),Text$2=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,r,o,s){return setupBlock(createBaseVNode(t,e,n,r,o,s,!0))}function createBlock(t,e,n,r,o){return setupBlock(createVNode(t,e,n,r,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}function transformVNodeArgs(t){}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>t!=null?isString(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null;function createBaseVNode(t,e=null,n=null,r=0,o=null,s=t===Fragment$1?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,r=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,e,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:l}=e;c&&!isString(c)&&(e.class=normalizeClass(c)),isObject(l)&&(isProxy(l)&&!isArray(l)&&(l=extend({},l)),e.style=normalizeStyle(l))}const a=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,e,n,r,o,a,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,c=e?mergeProps(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?n&&o?isArray(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment$1?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text$2,null,t,e)}function createStaticVNode(t,e){const n=createVNode(Static,null,t);return n.staticCount=e,n}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment$1,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text$2,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(isArray(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$1(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),r&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(o==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn(o)){const s=e[o],a=r[o];a&&s!==a&&!(isArray(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=r[o])}return e}function invokeVNodeHook(t,e,n,r=null){callWithAsyncErrorHandling(t,e,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:n,children:r}=t.vnode,o=isStatefulComponent(t);initProps(t,n,o,e),initSlots(t,r);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(r,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(a=>{handleSetupResult(t,a,e)}).catch(a=>{handleError(a,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction$1(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile$1,installWithProxy;function registerRuntimeCompiler(t){compile$1=t,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(t,e,n){const r=t.type;if(!t.render){if(!e&&compile$1&&!r.render){const o=r.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,u=extend(extend({isCustomElement:s,delimiters:c},a),l);r.render=compile$1(o,u)}}t.render=r.render||NOOP,installWithProxy&&installWithProxy(t)}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,n){return track(t,"get","$attrs"),e[n]}})}function createSetupContext(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction$1(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function defineProps(){return null}function defineEmits(){return null}function defineExpose(t){}function withDefaults(t,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function mergeDefaults(t,e){const n=isArray(t)?t.reduce((r,o)=>(r[o]={},r),{}):t;for(const r in e){const o=n[r];o?isArray(o)||isFunction$1(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:o===null&&(n[r]={default:e[r]})}return n}function createPropsRestProxy(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function withAsyncContext(t){const e=getCurrentInstance();let n=t();return unsetCurrentInstance(),isPromise(n)&&(n=n.catch(r=>{throw setCurrentInstance(e),r})),[n,()=>setCurrentInstance(e)]}function h(t,e,n){const r=arguments.length;return r===2?isObject(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(t,e,n,r){const o=n[r];if(o&&isMemoSame(o,t))return o;const s=e();return s.memo=t.slice(),n[r]=s}function isMemoSame(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(hasChanged(n[r],e[r]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),!0}const version="3.2.47",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc$2=typeof document<"u"?document:null,templateContainer=doc$2&&doc$2.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?doc$2.createElementNS(svgNS,t):doc$2.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>doc$2.createTextNode(t),createComment:t=>doc$2.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc$2.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,s){const a=n?n.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function patchClass(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,n){const r=t.style,o=isString(n);if(n&&!o){if(e&&!isString(e))for(const s in e)n[s]==null&&setStyle(r,s,"");for(const s in n)setStyle(r,s,n[s])}else{const s=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray(n))n.forEach(r=>setStyle(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):t[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let r=camelize$1(e);if(r!=="filter"&&r in t)return prefixCache[e]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n);else{const s=isSpecialBooleanAttr(e);n==null||s&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function patchDOMProp(t,e,n,r,o,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,o,s),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=includeBooleanAttr(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function addEventListener(t,e,n,r){t.addEventListener(e,n,r)}function removeEventListener(t,e,n,r){t.removeEventListener(e,n,r)}function patchEvent(t,e,n,r,o=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=parseName(e);if(r){const u=s[e]=createInvoker(r,o);addEventListener(t,c,u,l)}else a&&(removeEventListener(t,c,a,l),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),e,5,[r])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,n,r,o=!1,s,a,c,l)=>{e==="class"?patchClass(t,r,o):e==="style"?patchStyle(t,n,r):isOn(e)?isModelListener(e)||patchEvent(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,r,o))?patchDOMProp(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),patchAttr(t,e,r,o))};function shouldSetAsProp(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$1(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(n)?!1:e in t}function defineCustomElement(t,e){const n=defineComponent(t);class r extends VueElement{constructor(s){super(n,s,e)}}return r.def=n,r}const defineSSRCustomElement=t=>defineCustomElement(t,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const e=(r,o=!1)=>{const{props:s,styles:a}=r;let c;if(s&&!isArray(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=toNumber(this._props[l])),(c||(c=Object.create(null)))[camelize$1(l)]=!0)}this._numberProps=c,o&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=isArray(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(camelize$1))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(s){this._setProp(o,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=camelize$1(e);this._numberProps&&this._numberProps[r]&&(n=toNumber(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,o=!0){n!==this._props[e]&&(this._props[e]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(hyphenate(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(hyphenate(e),n+""):n||this.removeAttribute(hyphenate(e))))}_update(){render$4(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{r(s,a),hyphenate(s)!==s&&r(hyphenate(s),a)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){n.parent=o._instance,n.provides=o._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function useCssModule(t="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const n=e.type.__cssModules;if(!n)return EMPTY_OBJ;const r=n[t];return r||EMPTY_OBJ}}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const n=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>setVarsOnNode(s,o))},r=()=>{const o=t(e.proxy);setVarsOnVNode(e.subTree,o),n(o)};watchPostEffect(r),onMounted(()=>{const o=new MutationObserver(r);o.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{setVarsOnVNode(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment$1)t.children.forEach(n=>setVarsOnVNode(n,e));else if(t.type===Static){let{el:n,anchor:r}=t;for(;n&&(setVarsOnNode(n,e),n!==r);)n=n.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const TRANSITION$1="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const me in t)me in DOMTransitionPropsValidators||(e[me]=t[me]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=c,leaveFromClass:b=`${n}-leave-from`,leaveActiveClass:S=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,g=normalizeDuration(o),w=g&&g[0],A=g&&g[1],{onBeforeEnter:T,onEnter:O,onEnterCancelled:R,onLeave:k,onLeaveCancelled:V,onBeforeAppear:P=T,onAppear:B=O,onAppearCancelled:j=R}=e,q=(me,Q,le)=>{removeTransitionClass(me,Q?f:c),removeTransitionClass(me,Q?u:a),le&&le()},Y=(me,Q)=>{me._isLeaving=!1,removeTransitionClass(me,b),removeTransitionClass(me,v),removeTransitionClass(me,S),Q&&Q()},ae=me=>(Q,le)=>{const Se=me?B:O,ve=()=>q(Q,me,le);callHook(Se,[Q,ve]),nextFrame(()=>{removeTransitionClass(Q,me?l:s),addTransitionClass(Q,me?f:c),hasExplicitCallback(Se)||whenTransitionEnds(Q,r,w,ve)})};return extend(e,{onBeforeEnter(me){callHook(T,[me]),addTransitionClass(me,s),addTransitionClass(me,a)},onBeforeAppear(me){callHook(P,[me]),addTransitionClass(me,l),addTransitionClass(me,u)},onEnter:ae(!1),onAppear:ae(!0),onLeave(me,Q){me._isLeaving=!0;const le=()=>Y(me,Q);addTransitionClass(me,b),forceReflow(),addTransitionClass(me,S),nextFrame(()=>{me._isLeaving&&(removeTransitionClass(me,b),addTransitionClass(me,v),hasExplicitCallback(k)||whenTransitionEnds(me,r,A,le))}),callHook(k,[me,le])},onEnterCancelled(me){q(me,!1),callHook(R,[me])},onAppearCancelled(me){q(me,!0),callHook(j,[me])},onLeaveCancelled(me){Y(me),callHook(V,[me])}})}function normalizeDuration(t){if(t==null)return null;if(isObject(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,r){const o=t._endId=++endId,s=()=>{o===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:c,propCount:l}=getTransitionInfo(t,e);if(!a)return r();const u=a+"end";let f=0;const b=()=>{t.removeEventListener(u,S),s()},S=v=>{v.target===t&&++f>=l&&b()};setTimeout(()=>{f<l&&b()},c+1),t.addEventListener(u,S)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),o=r(`${TRANSITION$1}Delay`),s=r(`${TRANSITION$1}Duration`),a=getTimeout(o,s),c=r(`${ANIMATION}Delay`),l=r(`${ANIMATION}Duration`),u=getTimeout(c,l);let f=null,b=0,S=0;e===TRANSITION$1?a>0&&(f=TRANSITION$1,b=a,S=s.length):e===ANIMATION?u>0&&(f=ANIMATION,b=u,S=l.length):(b=Math.max(a,u),f=b>0?a>u?TRANSITION$1:ANIMATION:null,S=f?f===TRANSITION$1?s.length:l.length:0);const v=f===TRANSITION$1&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION$1}Property`).toString());return{type:f,timeout:b,propCount:S,hasTransform:v}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>toMs(n)+toMs(t[r])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=getCurrentInstance(),r=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,a))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const c=o.filter(applyTranslation);forceReflow(),c.forEach(l=>{const u=l.el,f=u.style;addTransitionClass(u,a),f.transform=f.webkitTransform=f.transitionDuration="";const b=u._moveCb=S=>{S&&S.target!==u||(!S||/transform$/.test(S.propertyName))&&(u.removeEventListener("transitionend",b),u._moveCb=null,removeTransitionClass(u,a))};u.addEventListener("transitionend",b)})}),()=>{const a=toRaw(t),c=resolveTransitionProps(a);let l=a.tag||Fragment$1;o=s,s=e.default?getTransitionRawChildren(e.default()):[];for(let u=0;u<s.length;u++){const f=s[u];f.key!=null&&setTransitionHooks(f,resolveTransitionHooks(f,c,r,n))}if(o)for(let u=0;u<o.length;u++){const f=o[u];setTransitionHooks(f,resolveTransitionHooks(f,c,r,n)),positionMap.set(f,f.el.getBoundingClientRect())}return createVNode(l,null,s)}}},removeMode=t=>delete t.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),n=newPositionMap.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",t}}function hasCSSTransform(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=getTransitionInfo(r);return o.removeChild(r),s}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray(e)?n=>invokeArrayFns(e,n):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t._assign=getModelAssigner(o);const s=r||o.props&&o.props.type==="number";addEventListener(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=looseToNumber(c)),t._assign(c)}),n&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},s){if(t._assign=getModelAssigner(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(o||t.type==="number")&&looseToNumber(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},vModelCheckbox={deep:!0,created(t,e,n){t._assign=getModelAssigner(n),addEventListener(t,"change",()=>{const r=t._modelValue,o=getValue(t),s=t.checked,a=t._assign;if(isArray(r)){const c=looseIndexOf(r,o),l=c!==-1;if(s&&!l)a(r.concat(o));else if(!s&&l){const u=[...r];u.splice(c,1),a(u)}}else if(isSet(r)){const c=new Set(r);s?c.add(o):c.delete(o),a(c)}else a(getCheckboxValue(t,s))})},mounted:setChecked,beforeUpdate(t,e,n){t._assign=getModelAssigner(n),setChecked(t,e,n)}};function setChecked(t,{value:e,oldValue:n},r){t._modelValue=e,isArray(e)?t.checked=looseIndexOf(e,r.props.value)>-1:isSet(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelRadio={created(t,{value:e},n){t.checked=looseEqual(e,n.props.value),t._assign=getModelAssigner(n),addEventListener(t,"change",()=>{t._assign(getValue(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=getModelAssigner(r),e!==n&&(t.checked=looseEqual(e,r.props.value))}},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=isSet(e);addEventListener(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?looseToNumber(getValue(a)):getValue(a));t._assign(t.multiple?o?new Set(s):s:s[0])}),t._assign=getModelAssigner(r)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,n){t._assign=getModelAssigner(n)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const n=t.multiple;if(!(n&&!isArray(e)&&!isSet(e))){for(let r=0,o=t.options.length;r<o;r++){const s=t.options[r],a=getValue(s);if(n)isArray(e)?s.selected=looseIndexOf(e,a)>-1:s.selected=e.has(a);else if(looseEqual(getValue(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vModelDynamic={created(t,e,n){callModelHook(t,e,n,null,"created")},mounted(t,e,n){callModelHook(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){callModelHook(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){callModelHook(t,e,n,r,"updated")}};function resolveDynamicModel(t,e){switch(t){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(e){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(t,e,n,r,o){const a=resolveDynamicModel(t.tagName,n.props&&n.props.type)[o];a&&a(t,e,n,r)}function initVModelForSSR(){vModelText.getSSRProps=({value:t})=>({value:t}),vModelRadio.getSSRProps=({value:t},e)=>{if(e.props&&looseEqual(e.props.value,t))return{checked:!0}},vModelCheckbox.getSSRProps=({value:t},e)=>{if(isArray(t)){if(e.props&&looseIndexOf(t,e.props.value)>-1)return{checked:!0}}else if(isSet(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vModelDynamic.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=resolveDynamicModel(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(n=>t[`${n}Key`]&&!e.includes(n))},withModifiers=(t,e)=>(n,...r)=>{for(let o=0;o<e.length;o++){const s=modifierGuards[e[o]];if(s&&s(n,e))return}return t(n,...r)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>n=>{if(!("key"in n))return;const r=hyphenate(n.key);if(e.some(o=>o===r||keyNames[o]===r))return t(n)},vShow={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),setDisplay(t,!0),r.enter(t)):r.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render$4=(...t)=>{ensureRenderer().render(...t)},hydrate=(...t)=>{ensureHydrationRenderer().hydrate(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=e._component;!isFunction$1(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=normalizeContainer(r);if(o)return n(o,!0,o instanceof SVGElement)},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},runtimeDom=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,Comment,EffectScope,Fragment:Fragment$1,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text:Text$2,Transition,TransitionGroup,VueElement,assertNumber,callWithAsyncErrorHandling,callWithErrorHandling,camelize:camelize$1,capitalize,cloneVNode,compatUtils,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineProps,defineSSRCustomElement,get devtools(){return devtools},effect,effectScope,getCurrentInstance,getCurrentScope,getTransitionRawChildren,guardReactiveProps,h,handleError,hydrate,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode,markRaw,mergeDefaults,mergeProps,nextTick,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref,registerRuntimeCompiler,render:render$4,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop,toDisplayString,toHandlerKey,toHandlers,toRaw,toRef,toRefs,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useSSRContext,useSlots,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version,warn:warn$1,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));function defaultOnError(t){throw t}function defaultOnWarn(t){}function createCompilerError(t,e,n,r){const o=t,s=new SyntaxError(String(o));return s.code=t,s.loc=e,s}const FRAGMENT=Symbol(""),TELEPORT=Symbol(""),SUSPENSE=Symbol(""),KEEP_ALIVE=Symbol(""),BASE_TRANSITION=Symbol(""),OPEN_BLOCK=Symbol(""),CREATE_BLOCK=Symbol(""),CREATE_ELEMENT_BLOCK=Symbol(""),CREATE_VNODE=Symbol(""),CREATE_ELEMENT_VNODE=Symbol(""),CREATE_COMMENT=Symbol(""),CREATE_TEXT=Symbol(""),CREATE_STATIC=Symbol(""),RESOLVE_COMPONENT=Symbol(""),RESOLVE_DYNAMIC_COMPONENT=Symbol(""),RESOLVE_DIRECTIVE=Symbol(""),RESOLVE_FILTER=Symbol(""),WITH_DIRECTIVES=Symbol(""),RENDER_LIST=Symbol(""),RENDER_SLOT=Symbol(""),CREATE_SLOTS=Symbol(""),TO_DISPLAY_STRING=Symbol(""),MERGE_PROPS=Symbol(""),NORMALIZE_CLASS=Symbol(""),NORMALIZE_STYLE=Symbol(""),NORMALIZE_PROPS=Symbol(""),GUARD_REACTIVE_PROPS=Symbol(""),TO_HANDLERS=Symbol(""),CAMELIZE=Symbol(""),CAPITALIZE=Symbol(""),TO_HANDLER_KEY=Symbol(""),SET_BLOCK_TRACKING=Symbol(""),PUSH_SCOPE_ID=Symbol(""),POP_SCOPE_ID=Symbol(""),WITH_CTX=Symbol(""),UNREF=Symbol(""),IS_REF=Symbol(""),WITH_MEMO=Symbol(""),IS_MEMO_SAME=Symbol(""),helperNameMap={[FRAGMENT]:"Fragment",[TELEPORT]:"Teleport",[SUSPENSE]:"Suspense",[KEEP_ALIVE]:"KeepAlive",[BASE_TRANSITION]:"BaseTransition",[OPEN_BLOCK]:"openBlock",[CREATE_BLOCK]:"createBlock",[CREATE_ELEMENT_BLOCK]:"createElementBlock",[CREATE_VNODE]:"createVNode",[CREATE_ELEMENT_VNODE]:"createElementVNode",[CREATE_COMMENT]:"createCommentVNode",[CREATE_TEXT]:"createTextVNode",[CREATE_STATIC]:"createStaticVNode",[RESOLVE_COMPONENT]:"resolveComponent",[RESOLVE_DYNAMIC_COMPONENT]:"resolveDynamicComponent",[RESOLVE_DIRECTIVE]:"resolveDirective",[RESOLVE_FILTER]:"resolveFilter",[WITH_DIRECTIVES]:"withDirectives",[RENDER_LIST]:"renderList",[RENDER_SLOT]:"renderSlot",[CREATE_SLOTS]:"createSlots",[TO_DISPLAY_STRING]:"toDisplayString",[MERGE_PROPS]:"mergeProps",[NORMALIZE_CLASS]:"normalizeClass",[NORMALIZE_STYLE]:"normalizeStyle",[NORMALIZE_PROPS]:"normalizeProps",[GUARD_REACTIVE_PROPS]:"guardReactiveProps",[TO_HANDLERS]:"toHandlers",[CAMELIZE]:"camelize",[CAPITALIZE]:"capitalize",[TO_HANDLER_KEY]:"toHandlerKey",[SET_BLOCK_TRACKING]:"setBlockTracking",[PUSH_SCOPE_ID]:"pushScopeId",[POP_SCOPE_ID]:"popScopeId",[WITH_CTX]:"withCtx",[UNREF]:"unref",[IS_REF]:"isRef",[WITH_MEMO]:"withMemo",[IS_MEMO_SAME]:"isMemoSame"};function registerRuntimeHelpers(t){Object.getOwnPropertySymbols(t).forEach(e=>{helperNameMap[e]=t[e]})}const locStub={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function createRoot(t,e=locStub){return{type:0,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function createVNodeCall(t,e,n,r,o,s,a,c=!1,l=!1,u=!1,f=locStub){return t&&(c?(t.helper(OPEN_BLOCK),t.helper(getVNodeBlockHelper(t.inSSR,u))):t.helper(getVNodeHelper(t.inSSR,u)),a&&t.helper(WITH_DIRECTIVES)),{type:13,tag:e,props:n,children:r,patchFlag:o,dynamicProps:s,directives:a,isBlock:c,disableTracking:l,isComponent:u,loc:f}}function createArrayExpression(t,e=locStub){return{type:17,loc:e,elements:t}}function createObjectExpression(t,e=locStub){return{type:15,loc:e,properties:t}}function createObjectProperty(t,e){return{type:16,loc:locStub,key:isString(t)?createSimpleExpression(t,!0):t,value:e}}function createSimpleExpression(t,e=!1,n=locStub,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function createCompoundExpression(t,e=locStub){return{type:8,loc:e,children:t}}function createCallExpression(t,e=[],n=locStub){return{type:14,loc:n,callee:t,arguments:e}}function createFunctionExpression(t,e=void 0,n=!1,r=!1,o=locStub){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:o}}function createConditionalExpression(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:locStub}}function createCacheExpression(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:locStub}}function createBlockStatement(t){return{type:21,body:t,loc:locStub}}const isStaticExp=t=>t.type===4&&t.isStatic,isBuiltInType=(t,e)=>t===e||t===hyphenate(e);function isCoreComponent(t){if(isBuiltInType(t,"Teleport"))return TELEPORT;if(isBuiltInType(t,"Suspense"))return SUSPENSE;if(isBuiltInType(t,"KeepAlive"))return KEEP_ALIVE;if(isBuiltInType(t,"BaseTransition"))return BASE_TRANSITION}const nonIdentifierRE=/^\d|[^\$\w]/,isSimpleIdentifier=t=>!nonIdentifierRE.test(t),validFirstIdentCharRE=/[A-Za-z_$\xA0-\uFFFF]/,validIdentCharRE=/[\.\?\w$\xA0-\uFFFF]/,whitespaceRE=/\s+[.[]\s*|\s*[.[]\s+/g,isMemberExpressionBrowser=t=>{t=t.trim().replace(whitespaceRE,a=>a.trim());let e=0,n=[],r=0,o=0,s=null;for(let a=0;a<t.length;a++){const c=t.charAt(a);switch(e){case 0:if(c==="[")n.push(e),e=1,r++;else if(c==="(")n.push(e),e=2,o++;else if(!(a===0?validFirstIdentCharRE:validIdentCharRE).test(c))return!1;break;case 1:c==="'"||c==='"'||c==="`"?(n.push(e),e=3,s=c):c==="["?r++:c==="]"&&(--r||(e=n.pop()));break;case 2:if(c==="'"||c==='"'||c==="`")n.push(e),e=3,s=c;else if(c==="(")o++;else if(c===")"){if(a===t.length-1)return!1;--o||(e=n.pop())}break;case 3:c===s&&(e=n.pop(),s=null);break}}return!r&&!o},isMemberExpression=isMemberExpressionBrowser;function getInnerRange(t,e,n){const o={source:t.source.slice(e,e+n),start:advancePositionWithClone(t.start,t.source,e),end:t.end};return n!=null&&(o.end=advancePositionWithClone(t.start,t.source,e+n)),o}function advancePositionWithClone(t,e,n=e.length){return advancePositionWithMutation(extend({},t),e,n)}function advancePositionWithMutation(t,e,n=e.length){let r=0,o=-1;for(let s=0;s<n;s++)e.charCodeAt(s)===10&&(r++,o=s);return t.offset+=n,t.line+=r,t.column=o===-1?t.column+n:n-o,t}function findDir(t,e,n=!1){for(let r=0;r<t.props.length;r++){const o=t.props[r];if(o.type===7&&(n||o.exp)&&(isString(e)?o.name===e:e.test(o.name)))return o}}function findProp(t,e,n=!1,r=!1){for(let o=0;o<t.props.length;o++){const s=t.props[o];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&isStaticArgOf(s.arg,e))return s}}function isStaticArgOf(t,e){return!!(t&&isStaticExp(t)&&t.content===e)}function hasDynamicKeyVBind(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function isText$1(t){return t.type===5||t.type===2}function isVSlot(t){return t.type===7&&t.name==="slot"}function isTemplateNode(t){return t.type===1&&t.tagType===3}function isSlotOutlet(t){return t.type===1&&t.tagType===2}function getVNodeHelper(t,e){return t||e?CREATE_VNODE:CREATE_ELEMENT_VNODE}function getVNodeBlockHelper(t,e){return t||e?CREATE_BLOCK:CREATE_ELEMENT_BLOCK}const propsHelperSet=new Set([NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getUnnormalizedProps(t,e=[]){if(t&&!isString(t)&&t.type===14){const n=t.callee;if(!isString(n)&&propsHelperSet.has(n))return getUnnormalizedProps(t.arguments[0],e.concat(t))}return[t,e]}function injectProp(t,e,n){let r,o=t.type===13?t.props:t.arguments[2],s=[],a;if(o&&!isString(o)&&o.type===14){const c=getUnnormalizedProps(o);o=c[0],s=c[1],a=s[s.length-1]}if(o==null||isString(o))r=createObjectExpression([e]);else if(o.type===14){const c=o.arguments[0];!isString(c)&&c.type===15?hasProp(e,c)||c.properties.unshift(e):o.callee===TO_HANDLERS?r=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([e]),o]):o.arguments.unshift(createObjectExpression([e])),!r&&(r=o)}else o.type===15?(hasProp(e,o)||o.properties.unshift(e),r=o):(r=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([e]),o]),a&&a.callee===GUARD_REACTIVE_PROPS&&(a=s[s.length-2]));t.type===13?a?a.arguments[0]=r:t.props=r:a?a.arguments[0]=r:t.arguments[2]=r}function hasProp(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(o=>o.key.type===4&&o.key.content===r)}return n}function toValidAssetId(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function getMemoedVNodeCall(t){return t.type===14&&t.callee===WITH_MEMO?t.arguments[1].returns:t}function makeBlock(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(getVNodeHelper(r,t.isComponent)),e(OPEN_BLOCK),e(getVNodeBlockHelper(r,t.isComponent)))}function getCompatValue(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,r=n&&n[t];return t==="MODE"?r||3:r}function isCompatEnabled(t,e){const n=getCompatValue("MODE",e),r=getCompatValue(t,e);return n===3?r===!0:r!==!1}function checkCompatEnabled(t,e,n,...r){return isCompatEnabled(t,e)}const decodeRE=/&(gt|lt|amp|apos|quot);/g,decodeMap={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},defaultParserOptions={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:NO,isPreTag:NO,isCustomElement:NO,decodeEntities:t=>t.replace(decodeRE,(e,n)=>decodeMap[n]),onError:defaultOnError,onWarn:defaultOnWarn,comments:!1};function baseParse(t,e={}){const n=createParserContext(t,e),r=getCursor(n);return createRoot(parseChildren(n,0,[]),getSelection$1(n,r))}function createParserContext(t,e){const n=extend({},defaultParserOptions);let r;for(r in e)n[r]=e[r]===void 0?defaultParserOptions[r]:e[r];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function parseChildren(t,e,n){const r=last$1(n),o=r?r.ns:0,s=[];for(;!isEnd(t,e,n);){const c=t.source;let l;if(e===0||e===1){if(!t.inVPre&&startsWith(c,t.options.delimiters[0]))l=parseInterpolation(t,e);else if(e===0&&c[0]==="<")if(c.length===1)emitError(t,5,1);else if(c[1]==="!")startsWith(c,"<!--")?l=parseComment(t):startsWith(c,"<!DOCTYPE")?l=parseBogusComment(t):startsWith(c,"<![CDATA[")?o!==0?l=parseCDATA(t,n):(emitError(t,1),l=parseBogusComment(t)):(emitError(t,11),l=parseBogusComment(t));else if(c[1]==="/")if(c.length===2)emitError(t,5,2);else if(c[2]===">"){emitError(t,14,2),advanceBy(t,3);continue}else if(/[a-z]/i.test(c[2])){emitError(t,23),parseTag(t,1,r);continue}else emitError(t,12,2),l=parseBogusComment(t);else/[a-z]/i.test(c[1])?(l=parseElement(t,n),isCompatEnabled("COMPILER_NATIVE_TEMPLATE",t)&&l&&l.tag==="template"&&!l.props.some(u=>u.type===7&&isSpecialTemplateDirective(u.name))&&(l=l.children)):c[1]==="?"?(emitError(t,21,1),l=parseBogusComment(t)):emitError(t,12,1)}if(l||(l=parseText(t,e)),isArray(l))for(let u=0;u<l.length;u++)pushNode(s,l[u]);else pushNode(s,l)}let a=!1;if(e!==2&&e!==1){const c=t.options.whitespace!=="preserve";for(let l=0;l<s.length;l++){const u=s[l];if(u.type===2)if(t.inPre)u.content=u.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(u.content))c&&(u.content=u.content.replace(/[\t\r\n\f ]+/g," "));else{const f=s[l-1],b=s[l+1];!f||!b||c&&(f.type===3&&b.type===3||f.type===3&&b.type===1||f.type===1&&b.type===3||f.type===1&&b.type===1&&/[\r\n]/.test(u.content))?(a=!0,s[l]=null):u.content=" "}else u.type===3&&!t.options.comments&&(a=!0,s[l]=null)}if(t.inPre&&r&&t.options.isPreTag(r.tag)){const l=s[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function pushNode(t,e){if(e.type===2){const n=last$1(t);if(n&&n.type===2&&n.loc.end.offset===e.loc.start.offset){n.content+=e.content,n.loc.end=e.loc.end,n.loc.source+=e.loc.source;return}}t.push(e)}function parseCDATA(t,e){advanceBy(t,9);const n=parseChildren(t,3,e);return t.source.length===0?emitError(t,6):advanceBy(t,3),n}function parseComment(t){const e=getCursor(t);let n;const r=/--(\!)?>/.exec(t.source);if(!r)n=t.source.slice(4),advanceBy(t,t.source.length),emitError(t,7);else{r.index<=3&&emitError(t,0),r[1]&&emitError(t,10),n=t.source.slice(4,r.index);const o=t.source.slice(0,r.index);let s=1,a=0;for(;(a=o.indexOf("<!--",s))!==-1;)advanceBy(t,a-s+1),a+4<o.length&&emitError(t,16),s=a+1;advanceBy(t,r.index+r[0].length-s+1)}return{type:3,content:n,loc:getSelection$1(t,e)}}function parseBogusComment(t){const e=getCursor(t),n=t.source[1]==="?"?1:2;let r;const o=t.source.indexOf(">");return o===-1?(r=t.source.slice(n),advanceBy(t,t.source.length)):(r=t.source.slice(n,o),advanceBy(t,o+1)),{type:3,content:r,loc:getSelection$1(t,e)}}function parseElement(t,e){const n=t.inPre,r=t.inVPre,o=last$1(e),s=parseTag(t,0,o),a=t.inPre&&!n,c=t.inVPre&&!r;if(s.isSelfClosing||t.options.isVoidTag(s.tag))return a&&(t.inPre=!1),c&&(t.inVPre=!1),s;e.push(s);const l=t.options.getTextMode(s,o),u=parseChildren(t,l,e);e.pop();{const f=s.props.find(b=>b.type===6&&b.name==="inline-template");if(f&&checkCompatEnabled("COMPILER_INLINE_TEMPLATE",t,f.loc)){const b=getSelection$1(t,s.loc.end);f.value={type:2,content:b.source,loc:b}}}if(s.children=u,startsWithEndTagOpen(t.source,s.tag))parseTag(t,1,o);else if(emitError(t,24,0,s.loc.start),t.source.length===0&&s.tag.toLowerCase()==="script"){const f=u[0];f&&startsWith(f.loc.source,"<!--")&&emitError(t,8)}return s.loc=getSelection$1(t,s.loc.start),a&&(t.inPre=!1),c&&(t.inVPre=!1),s}const isSpecialTemplateDirective=makeMap("if,else,else-if,for,slot");function parseTag(t,e,n){const r=getCursor(t),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),s=o[1],a=t.options.getNamespace(s,n);advanceBy(t,o[0].length),advanceSpaces(t);const c=getCursor(t),l=t.source;t.options.isPreTag(s)&&(t.inPre=!0);let u=parseAttributes(t,e);e===0&&!t.inVPre&&u.some(S=>S.type===7&&S.name==="pre")&&(t.inVPre=!0,extend(t,c),t.source=l,u=parseAttributes(t,e).filter(S=>S.name!=="v-pre"));let f=!1;if(t.source.length===0?emitError(t,9):(f=startsWith(t.source,"/>"),e===1&&f&&emitError(t,4),advanceBy(t,f?2:1)),e===1)return;let b=0;return t.inVPre||(s==="slot"?b=2:s==="template"?u.some(S=>S.type===7&&isSpecialTemplateDirective(S.name))&&(b=3):isComponent(s,u,t)&&(b=1)),{type:1,ns:a,tag:s,tagType:b,props:u,isSelfClosing:f,children:[],loc:getSelection$1(t,r),codegenNode:void 0}}function isComponent(t,e,n){const r=n.options;if(r.isCustomElement(t))return!1;if(t==="component"||/^[A-Z]/.test(t)||isCoreComponent(t)||r.isBuiltInComponent&&r.isBuiltInComponent(t)||r.isNativeTag&&!r.isNativeTag(t))return!0;for(let o=0;o<e.length;o++){const s=e[o];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&isStaticArgOf(s.arg,"is")&&checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,s.loc))return!0}}}function parseAttributes(t,e){const n=[],r=new Set;for(;t.source.length>0&&!startsWith(t.source,">")&&!startsWith(t.source,"/>");){if(startsWith(t.source,"/")){emitError(t,22),advanceBy(t,1),advanceSpaces(t);continue}e===1&&emitError(t,3);const o=parseAttribute(t,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),e===0&&n.push(o),/^[^\t\r\n\f />]/.test(t.source)&&emitError(t,15),advanceSpaces(t)}return n}function parseAttribute(t,e){const n=getCursor(t),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(o)&&emitError(t,2),e.add(o),o[0]==="="&&emitError(t,19);{const c=/["'<]/g;let l;for(;l=c.exec(o);)emitError(t,17,l.index)}advanceBy(t,o.length);let s;/^[\t\r\n\f ]*=/.test(t.source)&&(advanceSpaces(t),advanceBy(t,1),advanceSpaces(t),s=parseAttributeValue(t),s||emitError(t,13));const a=getSelection$1(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const c=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let l=startsWith(o,"."),u=c[1]||(l||startsWith(o,":")?"bind":startsWith(o,"@")?"on":"slot"),f;if(c[2]){const S=u==="slot",v=o.lastIndexOf(c[2]),g=getSelection$1(t,getNewPosition(t,n,v),getNewPosition(t,n,v+c[2].length+(S&&c[3]||"").length));let w=c[2],A=!0;w.startsWith("[")?(A=!1,w.endsWith("]")?w=w.slice(1,w.length-1):(emitError(t,27),w=w.slice(1))):S&&(w+=c[3]||""),f={type:4,content:w,isStatic:A,constType:A?3:0,loc:g}}if(s&&s.isQuoted){const S=s.loc;S.start.offset++,S.start.column++,S.end=advancePositionWithClone(S.start,s.content),S.source=S.source.slice(1,-1)}const b=c[3]?c[3].slice(1).split("."):[];return l&&b.push("prop"),u==="bind"&&f&&b.includes("sync")&&checkCompatEnabled("COMPILER_V_BIND_SYNC",t,a,f.loc.source)&&(u="model",b.splice(b.indexOf("sync"),1)),{type:7,name:u,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:f,modifiers:b,loc:a}}return!t.inVPre&&startsWith(o,"v-")&&emitError(t,26),{type:6,name:o,value:s&&{type:2,content:s.content,loc:s.loc},loc:a}}function parseAttributeValue(t){const e=getCursor(t);let n;const r=t.source[0],o=r==='"'||r==="'";if(o){advanceBy(t,1);const s=t.source.indexOf(r);s===-1?n=parseTextData(t,t.source.length,4):(n=parseTextData(t,s,4),advanceBy(t,1))}else{const s=/^[^\t\r\n\f >]+/.exec(t.source);if(!s)return;const a=/["'<=`]/g;let c;for(;c=a.exec(s[0]);)emitError(t,18,c.index);n=parseTextData(t,s[0].length,4)}return{content:n,isQuoted:o,loc:getSelection$1(t,e)}}function parseInterpolation(t,e){const[n,r]=t.options.delimiters,o=t.source.indexOf(r,n.length);if(o===-1){emitError(t,25);return}const s=getCursor(t);advanceBy(t,n.length);const a=getCursor(t),c=getCursor(t),l=o-n.length,u=t.source.slice(0,l),f=parseTextData(t,l,e),b=f.trim(),S=f.indexOf(b);S>0&&advancePositionWithMutation(a,u,S);const v=l-(f.length-b.length-S);return advancePositionWithMutation(c,u,v),advanceBy(t,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:b,loc:getSelection$1(t,a,c)},loc:getSelection$1(t,s)}}function parseText(t,e){const n=e===3?["]]>"]:["<",t.options.delimiters[0]];let r=t.source.length;for(let a=0;a<n.length;a++){const c=t.source.indexOf(n[a],1);c!==-1&&r>c&&(r=c)}const o=getCursor(t);return{type:2,content:parseTextData(t,r,e),loc:getSelection$1(t,o)}}function parseTextData(t,e,n){const r=t.source.slice(0,e);return advanceBy(t,e),n===2||n===3||!r.includes("&")?r:t.options.decodeEntities(r,n===4)}function getCursor(t){const{column:e,line:n,offset:r}=t;return{column:e,line:n,offset:r}}function getSelection$1(t,e,n){return n=n||getCursor(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function last$1(t){return t[t.length-1]}function startsWith(t,e){return t.startsWith(e)}function advanceBy(t,e){const{source:n}=t;advancePositionWithMutation(t,n,e),t.source=n.slice(e)}function advanceSpaces(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&advanceBy(t,e[0].length)}function getNewPosition(t,e,n){return advancePositionWithClone(e,t.originalSource.slice(e.offset,n),n)}function emitError(t,e,n,r=getCursor(t)){n&&(r.offset+=n,r.column+=n),t.options.onError(createCompilerError(e,{start:r,end:r,source:""}))}function isEnd(t,e,n){const r=t.source;switch(e){case 0:if(startsWith(r,"</")){for(let o=n.length-1;o>=0;--o)if(startsWithEndTagOpen(r,n[o].tag))return!0}break;case 1:case 2:{const o=last$1(n);if(o&&startsWithEndTagOpen(r,o.tag))return!0;break}case 3:if(startsWith(r,"]]>"))return!0;break}return!r}function startsWithEndTagOpen(t,e){return startsWith(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function hoistStatic(t,e){walk(t,e,isSingleElementRoot(t,t.children[0]))}function isSingleElementRoot(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!isSlotOutlet(e)}function walk(t,e,n=!1){const{children:r}=t,o=r.length;let s=0;for(let a=0;a<r.length;a++){const c=r[a];if(c.type===1&&c.tagType===0){const l=n?0:getConstantType(c,e);if(l>0){if(l>=2){c.codegenNode.patchFlag=-1+"",c.codegenNode=e.hoist(c.codegenNode),s++;continue}}else{const u=c.codegenNode;if(u.type===13){const f=getPatchFlag(u);if((!f||f===512||f===1)&&getGeneratedPropsConstantType(c,e)>=2){const b=getNodeProps(c);b&&(u.props=e.hoist(b))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}if(c.type===1){const l=c.tagType===1;l&&e.scopes.vSlot++,walk(c,e),l&&e.scopes.vSlot--}else if(c.type===11)walk(c,e,c.children.length===1);else if(c.type===9)for(let l=0;l<c.branches.length;l++)walk(c.branches[l],e,c.branches[l].children.length===1)}s&&e.transformHoist&&e.transformHoist(r,e,t),s&&s===o&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&isArray(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(createArrayExpression(t.codegenNode.children)))}function getConstantType(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const o=t.codegenNode;if(o.type!==13||o.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject")return 0;if(getPatchFlag(o))return n.set(t,0),0;{let c=3;const l=getGeneratedPropsConstantType(t,e);if(l===0)return n.set(t,0),0;l<c&&(c=l);for(let u=0;u<t.children.length;u++){const f=getConstantType(t.children[u],e);if(f===0)return n.set(t,0),0;f<c&&(c=f)}if(c>1)for(let u=0;u<t.props.length;u++){const f=t.props[u];if(f.type===7&&f.name==="bind"&&f.exp){const b=getConstantType(f.exp,e);if(b===0)return n.set(t,0),0;b<c&&(c=b)}}if(o.isBlock){for(let u=0;u<t.props.length;u++)if(t.props[u].type===7)return n.set(t,0),0;e.removeHelper(OPEN_BLOCK),e.removeHelper(getVNodeBlockHelper(e.inSSR,o.isComponent)),o.isBlock=!1,e.helper(getVNodeHelper(e.inSSR,o.isComponent))}return n.set(t,c),c}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return getConstantType(t.content,e);case 4:return t.constType;case 8:let a=3;for(let c=0;c<t.children.length;c++){const l=t.children[c];if(isString(l)||isSymbol(l))continue;const u=getConstantType(l,e);if(u===0)return 0;u<a&&(a=u)}return a;default:return 0}}const allowHoistedHelperSet=new Set([NORMALIZE_CLASS,NORMALIZE_STYLE,NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getConstantTypeOfHelperCall(t,e){if(t.type===14&&!isString(t.callee)&&allowHoistedHelperSet.has(t.callee)){const n=t.arguments[0];if(n.type===4)return getConstantType(n,e);if(n.type===14)return getConstantTypeOfHelperCall(n,e)}return 0}function getGeneratedPropsConstantType(t,e){let n=3;const r=getNodeProps(t);if(r&&r.type===15){const{properties:o}=r;for(let s=0;s<o.length;s++){const{key:a,value:c}=o[s],l=getConstantType(a,e);if(l===0)return l;l<n&&(n=l);let u;if(c.type===4?u=getConstantType(c,e):c.type===14?u=getConstantTypeOfHelperCall(c,e):u=0,u===0)return u;u<n&&(n=u)}}return n}function getNodeProps(t){const e=t.codegenNode;if(e.type===13)return e.props}function getPatchFlag(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function createTransformContext(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:s=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:l=NOOP,isCustomElement:u=NOOP,expressionPlugins:f=[],scopeId:b=null,slotted:S=!0,ssr:v=!1,inSSR:g=!1,ssrCssVars:w="",bindingMetadata:A=EMPTY_OBJ,inline:T=!1,isTS:O=!1,onError:R=defaultOnError,onWarn:k=defaultOnWarn,compatConfig:V}){const P=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),B={selfName:P&&capitalize(camelize$1(P[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:o,nodeTransforms:s,directiveTransforms:a,transformHoist:c,isBuiltInComponent:l,isCustomElement:u,expressionPlugins:f,scopeId:b,slotted:S,ssr:v,inSSR:g,ssrCssVars:w,bindingMetadata:A,inline:T,isTS:O,onError:R,onWarn:k,compatConfig:V,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(j){const q=B.helpers.get(j)||0;return B.helpers.set(j,q+1),j},removeHelper(j){const q=B.helpers.get(j);if(q){const Y=q-1;Y?B.helpers.set(j,Y):B.helpers.delete(j)}},helperString(j){return`_${helperNameMap[B.helper(j)]}`},replaceNode(j){B.parent.children[B.childIndex]=B.currentNode=j},removeNode(j){const q=B.parent.children,Y=j?q.indexOf(j):B.currentNode?B.childIndex:-1;!j||j===B.currentNode?(B.currentNode=null,B.onNodeRemoved()):B.childIndex>Y&&(B.childIndex--,B.onNodeRemoved()),B.parent.children.splice(Y,1)},onNodeRemoved:()=>{},addIdentifiers(j){},removeIdentifiers(j){},hoist(j){isString(j)&&(j=createSimpleExpression(j)),B.hoists.push(j);const q=createSimpleExpression(`_hoisted_${B.hoists.length}`,!1,j.loc,2);return q.hoisted=j,q},cache(j,q=!1){return createCacheExpression(B.cached++,j,q)}};return B.filters=new Set,B}function transform(t,e){const n=createTransformContext(t,e);traverseNode(t,n),e.hoistStatic&&hoistStatic(t,n),e.ssr||createRootCodegen(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function createRootCodegen(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const o=r[0];if(isSingleElementRoot(t,o)&&o.codegenNode){const s=o.codegenNode;s.type===13&&makeBlock(s,e),t.codegenNode=s}else t.codegenNode=o}else if(r.length>1){let o=64;t.codegenNode=createVNodeCall(e,n(FRAGMENT),void 0,t.children,o+"",void 0,void 0,!0,void 0,!1)}}function traverseChildren(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const o=t.children[n];isString(o)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=r,traverseNode(o,e))}}function traverseNode(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let s=0;s<n.length;s++){const a=n[s](t,e);if(a&&(isArray(a)?r.push(...a):r.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(CREATE_COMMENT);break;case 5:e.ssr||e.helper(TO_DISPLAY_STRING);break;case 9:for(let s=0;s<t.branches.length;s++)traverseNode(t.branches[s],e);break;case 10:case 11:case 1:case 0:traverseChildren(t,e);break}e.currentNode=t;let o=r.length;for(;o--;)r[o]()}function createStructuralDirectiveTransform(t,e){const n=isString(t)?r=>r===t:r=>t.test(r);return(r,o)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(isVSlot))return;const a=[];for(let c=0;c<s.length;c++){const l=s[c];if(l.type===7&&n(l.name)){s.splice(c,1),c--;const u=e(r,l,o);u&&a.push(u)}}return a}}}const PURE_ANNOTATION="/*#__PURE__*/",aliasHelper=t=>`${helperNameMap[t]}: _${helperNameMap[t]}`;function createCodegenContext(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:c="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:f=!1,isTS:b=!1,inSSR:S=!1}){const v={mode:e,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:s,optimizeImports:a,runtimeGlobalName:c,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:f,isTS:b,inSSR:S,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(w){return`_${helperNameMap[w]}`},push(w,A){v.code+=w},indent(){g(++v.indentLevel)},deindent(w=!1){w?--v.indentLevel:g(--v.indentLevel)},newline(){g(v.indentLevel)}};function g(w){v.push(`
`+"  ".repeat(w))}return v}function generate(t,e={}){const n=createCodegenContext(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:s,indent:a,deindent:c,newline:l,scopeId:u,ssr:f}=n,b=Array.from(t.helpers),S=b.length>0,v=!s&&r!=="module",g=!1,w=g?createCodegenContext(t,e):n;genFunctionPreamble(t,w);const A=f?"ssrRender":"render",O=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${A}(${O}) {`),a(),v&&(o("with (_ctx) {"),a(),S&&(o(`const { ${b.map(aliasHelper).join(", ")} } = _Vue`),o(`
`),l())),t.components.length&&(genAssets(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(genAssets(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),genAssets(t.filters,"filter",n),l()),t.temps>0){o("let ");for(let R=0;R<t.temps;R++)o(`${R>0?", ":""}_temp${R}`)}return(t.components.length||t.directives.length||t.temps)&&(o(`
`),l()),f||o("return "),t.codegenNode?genNode(t.codegenNode,n):o("null"),v&&(c(),o("}")),c(),o("}"),{ast:t,code:n.code,preamble:g?w.code:"",map:n.map?n.map.toJSON():void 0}}function genFunctionPreamble(t,e){const{ssr:n,prefixIdentifiers:r,push:o,newline:s,runtimeModuleName:a,runtimeGlobalName:c,ssrRuntimeModuleName:l}=e,u=c,f=Array.from(t.helpers);if(f.length>0&&(o(`const _Vue = ${u}
`),t.hoists.length)){const b=[CREATE_VNODE,CREATE_ELEMENT_VNODE,CREATE_COMMENT,CREATE_TEXT,CREATE_STATIC].filter(S=>f.includes(S)).map(aliasHelper).join(", ");o(`const { ${b} } = _Vue
`)}genHoists(t.hoists,e),s(),o("return ")}function genAssets(t,e,{helper:n,push:r,newline:o,isTS:s}){const a=n(e==="filter"?RESOLVE_FILTER:e==="component"?RESOLVE_COMPONENT:RESOLVE_DIRECTIVE);for(let c=0;c<t.length;c++){let l=t[c];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),r(`const ${toValidAssetId(l,e)} = ${a}(${JSON.stringify(l)}${u?", true":""})${s?"!":""}`),c<t.length-1&&o()}}function genHoists(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r,helper:o,scopeId:s,mode:a}=e;r();for(let c=0;c<t.length;c++){const l=t[c];l&&(n(`const _hoisted_${c+1} = `),genNode(l,e),r())}e.pure=!1}function genNodeListAsArray(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),genNodeList(t,e,n),n&&e.deindent(),e.push("]")}function genNodeList(t,e,n=!1,r=!0){const{push:o,newline:s}=e;for(let a=0;a<t.length;a++){const c=t[a];isString(c)?o(c):isArray(c)?genNodeListAsArray(c,e):genNode(c,e),a<t.length-1&&(n?(r&&o(","),s()):r&&o(", "))}}function genNode(t,e){if(isString(t)){e.push(t);return}if(isSymbol(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:genNode(t.codegenNode,e);break;case 2:genText(t,e);break;case 4:genExpression(t,e);break;case 5:genInterpolation(t,e);break;case 12:genNode(t.codegenNode,e);break;case 8:genCompoundExpression(t,e);break;case 3:genComment(t,e);break;case 13:genVNodeCall(t,e);break;case 14:genCallExpression(t,e);break;case 15:genObjectExpression(t,e);break;case 17:genArrayExpression(t,e);break;case 18:genFunctionExpression(t,e);break;case 19:genConditionalExpression(t,e);break;case 20:genCacheExpression(t,e);break;case 21:genNodeList(t.body,e,!0,!1);break}}function genText(t,e){e.push(JSON.stringify(t.content),t)}function genExpression(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,t)}function genInterpolation(t,e){const{push:n,helper:r,pure:o}=e;o&&n(PURE_ANNOTATION),n(`${r(TO_DISPLAY_STRING)}(`),genNode(t.content,e),n(")")}function genCompoundExpression(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];isString(r)?e.push(r):genNode(r,e)}}function genExpressionAsPropertyKey(t,e){const{push:n}=e;if(t.type===8)n("["),genCompoundExpression(t,e),n("]");else if(t.isStatic){const r=isSimpleIdentifier(t.content)?t.content:JSON.stringify(t.content);n(r,t)}else n(`[${t.content}]`,t)}function genComment(t,e){const{push:n,helper:r,pure:o}=e;o&&n(PURE_ANNOTATION),n(`${r(CREATE_COMMENT)}(${JSON.stringify(t.content)})`,t)}function genVNodeCall(t,e){const{push:n,helper:r,pure:o}=e,{tag:s,props:a,children:c,patchFlag:l,dynamicProps:u,directives:f,isBlock:b,disableTracking:S,isComponent:v}=t;f&&n(r(WITH_DIRECTIVES)+"("),b&&n(`(${r(OPEN_BLOCK)}(${S?"true":""}), `),o&&n(PURE_ANNOTATION);const g=b?getVNodeBlockHelper(e.inSSR,v):getVNodeHelper(e.inSSR,v);n(r(g)+"(",t),genNodeList(genNullableArgs([s,a,c,l,u]),e),n(")"),b&&n(")"),f&&(n(", "),genNode(f,e),n(")"))}function genNullableArgs(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function genCallExpression(t,e){const{push:n,helper:r,pure:o}=e,s=isString(t.callee)?t.callee:r(t.callee);o&&n(PURE_ANNOTATION),n(s+"(",t),genNodeList(t.arguments,e),n(")")}function genObjectExpression(t,e){const{push:n,indent:r,deindent:o,newline:s}=e,{properties:a}=t;if(!a.length){n("{}",t);return}const c=a.length>1||!1;n(c?"{":"{ "),c&&r();for(let l=0;l<a.length;l++){const{key:u,value:f}=a[l];genExpressionAsPropertyKey(u,e),n(": "),genNode(f,e),l<a.length-1&&(n(","),s())}c&&o(),n(c?"}":" }")}function genArrayExpression(t,e){genNodeListAsArray(t.elements,e)}function genFunctionExpression(t,e){const{push:n,indent:r,deindent:o}=e,{params:s,returns:a,body:c,newline:l,isSlot:u}=t;u&&n(`_${helperNameMap[WITH_CTX]}(`),n("(",t),isArray(s)?genNodeList(s,e):s&&genNode(s,e),n(") => "),(l||c)&&(n("{"),r()),a?(l&&n("return "),isArray(a)?genNodeListAsArray(a,e):genNode(a,e)):c&&genNode(c,e),(l||c)&&(o(),n("}")),u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function genConditionalExpression(t,e){const{test:n,consequent:r,alternate:o,newline:s}=t,{push:a,indent:c,deindent:l,newline:u}=e;if(n.type===4){const b=!isSimpleIdentifier(n.content);b&&a("("),genExpression(n,e),b&&a(")")}else a("("),genNode(n,e),a(")");s&&c(),e.indentLevel++,s||a(" "),a("? "),genNode(r,e),e.indentLevel--,s&&u(),s||a(" "),a(": ");const f=o.type===19;f||e.indentLevel++,genNode(o,e),f||e.indentLevel--,s&&l(!0)}function genCacheExpression(t,e){const{push:n,helper:r,indent:o,deindent:s,newline:a}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(o(),n(`${r(SET_BLOCK_TRACKING)}(-1),`),a()),n(`_cache[${t.index}] = `),genNode(t.value,e),t.isVNode&&(n(","),a(),n(`${r(SET_BLOCK_TRACKING)}(1),`),a(),n(`_cache[${t.index}]`),s()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const transformIf=createStructuralDirectiveTransform(/^(if|else|else-if)$/,(t,e,n)=>processIf(t,e,n,(r,o,s)=>{const a=n.parent.children;let c=a.indexOf(r),l=0;for(;c-->=0;){const u=a[c];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(s)r.codegenNode=createCodegenNodeForBranch(o,l,n);else{const u=getParentCondition(r.codegenNode);u.alternate=createCodegenNodeForBranch(o,l+r.branches.length-1,n)}}}));function processIf(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const o=e.exp?e.exp.loc:t.loc;n.onError(createCompilerError(28,e.loc)),e.exp=createSimpleExpression("true",!1,o)}if(e.name==="if"){const o=createIfBranch(t,e),s={type:9,loc:t.loc,branches:[o]};if(n.replaceNode(s),r)return r(s,o,!0)}else{const o=n.parent.children;let s=o.indexOf(t);for(;s-->=-1;){const a=o[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(createCompilerError(30,t.loc)),n.removeNode();const c=createIfBranch(t,e);a.branches.push(c);const l=r&&r(a,c,!1);traverseNode(c,n),l&&l(),n.currentNode=null}else n.onError(createCompilerError(30,t.loc));break}}}function createIfBranch(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!findDir(t,"for")?t.children:[t],userKey:findProp(t,"key"),isTemplateIf:n}}function createCodegenNodeForBranch(t,e,n){return t.condition?createConditionalExpression(t.condition,createChildrenCodegenNode(t,e,n),createCallExpression(n.helper(CREATE_COMMENT),['""',"true"])):createChildrenCodegenNode(t,e,n)}function createChildrenCodegenNode(t,e,n){const{helper:r}=n,o=createObjectProperty("key",createSimpleExpression(`${e}`,!1,locStub,2)),{children:s}=t,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const l=a.codegenNode;return injectProp(l,o,n),l}else{let l=64;return createVNodeCall(n,r(FRAGMENT),createObjectExpression([o]),s,l+"",void 0,void 0,!0,!1,!1,t.loc)}else{const l=a.codegenNode,u=getMemoedVNodeCall(l);return u.type===13&&makeBlock(u,n),injectProp(u,o,n),l}}function getParentCondition(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const transformFor=createStructuralDirectiveTransform("for",(t,e,n)=>{const{helper:r,removeHelper:o}=n;return processFor(t,e,n,s=>{const a=createCallExpression(r(RENDER_LIST),[s.source]),c=isTemplateNode(t),l=findDir(t,"memo"),u=findProp(t,"key"),f=u&&(u.type===6?createSimpleExpression(u.value.content,!0):u.exp),b=u?createObjectProperty("key",f):null,S=s.source.type===4&&s.source.constType>0,v=S?64:u?128:256;return s.codegenNode=createVNodeCall(n,r(FRAGMENT),void 0,a,v+"",void 0,void 0,!0,!S,!1,t.loc),()=>{let g;const{children:w}=s,A=w.length!==1||w[0].type!==1,T=isSlotOutlet(t)?t:c&&t.children.length===1&&isSlotOutlet(t.children[0])?t.children[0]:null;if(T?(g=T.codegenNode,c&&b&&injectProp(g,b,n)):A?g=createVNodeCall(n,r(FRAGMENT),b?createObjectExpression([b]):void 0,t.children,64+"",void 0,void 0,!0,void 0,!1):(g=w[0].codegenNode,c&&b&&injectProp(g,b,n),g.isBlock!==!S&&(g.isBlock?(o(OPEN_BLOCK),o(getVNodeBlockHelper(n.inSSR,g.isComponent))):o(getVNodeHelper(n.inSSR,g.isComponent))),g.isBlock=!S,g.isBlock?(r(OPEN_BLOCK),r(getVNodeBlockHelper(n.inSSR,g.isComponent))):r(getVNodeHelper(n.inSSR,g.isComponent))),l){const O=createFunctionExpression(createForLoopParams(s.parseResult,[createSimpleExpression("_cached")]));O.body=createBlockStatement([createCompoundExpression(["const _memo = (",l.exp,")"]),createCompoundExpression(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(IS_MEMO_SAME)}(_cached, _memo)) return _cached`]),createCompoundExpression(["const _item = ",g]),createSimpleExpression("_item.memo = _memo"),createSimpleExpression("return _item")]),a.arguments.push(O,createSimpleExpression("_cache"),createSimpleExpression(String(n.cached++)))}else a.arguments.push(createFunctionExpression(createForLoopParams(s.parseResult),g,!0))}})});function processFor(t,e,n,r){if(!e.exp){n.onError(createCompilerError(31,e.loc));return}const o=parseForExpression(e.exp);if(!o){n.onError(createCompilerError(32,e.loc));return}const{addIdentifiers:s,removeIdentifiers:a,scopes:c}=n,{source:l,value:u,key:f,index:b}=o,S={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:f,objectIndexAlias:b,parseResult:o,children:isTemplateNode(t)?t.children:[t]};n.replaceNode(S),c.vFor++;const v=r&&r(S);return()=>{c.vFor--,v&&v()}}const forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g;function parseForExpression(t,e){const n=t.loc,r=t.content,o=r.match(forAliasRE);if(!o)return;const[,s,a]=o,c={source:createAliasExpression(n,a.trim(),r.indexOf(a,s.length)),value:void 0,key:void 0,index:void 0};let l=s.trim().replace(stripParensRE,"").trim();const u=s.indexOf(l),f=l.match(forIteratorRE);if(f){l=l.replace(forIteratorRE,"").trim();const b=f[1].trim();let S;if(b&&(S=r.indexOf(b,u+l.length),c.key=createAliasExpression(n,b,S)),f[2]){const v=f[2].trim();v&&(c.index=createAliasExpression(n,v,r.indexOf(v,c.key?S+b.length:u+l.length)))}}return l&&(c.value=createAliasExpression(n,l,u)),c}function createAliasExpression(t,e,n){return createSimpleExpression(e,!1,getInnerRange(t,n,e.length))}function createForLoopParams({value:t,key:e,index:n},r=[]){return createParamsList([t,e,n,...r])}function createParamsList(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||createSimpleExpression("_".repeat(r+1),!1))}const defaultFallback=createSimpleExpression("undefined",!1),trackSlotScopes=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=findDir(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},buildClientSlotFn=(t,e,n)=>createFunctionExpression(t,e,!1,!0,e.length?e[0].loc:n);function buildSlots(t,e,n=buildClientSlotFn){e.helper(WITH_CTX);const{children:r,loc:o}=t,s=[],a=[];let c=e.scopes.vSlot>0||e.scopes.vFor>0;const l=findDir(t,"slot",!0);if(l){const{arg:A,exp:T}=l;A&&!isStaticExp(A)&&(c=!0),s.push(createObjectProperty(A||createSimpleExpression("default",!0),n(T,r,o)))}let u=!1,f=!1;const b=[],S=new Set;let v=0;for(let A=0;A<r.length;A++){const T=r[A];let O;if(!isTemplateNode(T)||!(O=findDir(T,"slot",!0))){T.type!==3&&b.push(T);continue}if(l){e.onError(createCompilerError(37,O.loc));break}u=!0;const{children:R,loc:k}=T,{arg:V=createSimpleExpression("default",!0),exp:P,loc:B}=O;let j;isStaticExp(V)?j=V?V.content:"default":c=!0;const q=n(P,R,k);let Y,ae,me;if(Y=findDir(T,"if"))c=!0,a.push(createConditionalExpression(Y.exp,buildDynamicSlot(V,q,v++),defaultFallback));else if(ae=findDir(T,/^else(-if)?$/,!0)){let Q=A,le;for(;Q--&&(le=r[Q],le.type===3););if(le&&isTemplateNode(le)&&findDir(le,"if")){r.splice(A,1),A--;let Se=a[a.length-1];for(;Se.alternate.type===19;)Se=Se.alternate;Se.alternate=ae.exp?createConditionalExpression(ae.exp,buildDynamicSlot(V,q,v++),defaultFallback):buildDynamicSlot(V,q,v++)}else e.onError(createCompilerError(30,ae.loc))}else if(me=findDir(T,"for")){c=!0;const Q=me.parseResult||parseForExpression(me.exp);Q?a.push(createCallExpression(e.helper(RENDER_LIST),[Q.source,createFunctionExpression(createForLoopParams(Q),buildDynamicSlot(V,q),!0)])):e.onError(createCompilerError(32,me.loc))}else{if(j){if(S.has(j)){e.onError(createCompilerError(38,B));continue}S.add(j),j==="default"&&(f=!0)}s.push(createObjectProperty(V,q))}}if(!l){const A=(T,O)=>{const R=n(T,O,o);return e.compatConfig&&(R.isNonScopedSlot=!0),createObjectProperty("default",R)};u?b.length&&b.some(T=>isNonWhitespaceContent(T))&&(f?e.onError(createCompilerError(39,b[0].loc)):s.push(A(void 0,b))):s.push(A(void 0,r))}const g=c?2:hasForwardedSlots(t.children)?3:1;let w=createObjectExpression(s.concat(createObjectProperty("_",createSimpleExpression(g+"",!1))),o);return a.length&&(w=createCallExpression(e.helper(CREATE_SLOTS),[w,createArrayExpression(a)])),{slots:w,hasDynamicSlots:c}}function buildDynamicSlot(t,e,n){const r=[createObjectProperty("name",t),createObjectProperty("fn",e)];return n!=null&&r.push(createObjectProperty("key",createSimpleExpression(String(n),!0))),createObjectExpression(r)}function hasForwardedSlots(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||hasForwardedSlots(n.children))return!0;break;case 9:if(hasForwardedSlots(n.branches))return!0;break;case 10:case 11:if(hasForwardedSlots(n.children))return!0;break}}return!1}function isNonWhitespaceContent(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():isNonWhitespaceContent(t.content)}const directiveImportMap=new WeakMap,transformElement=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:o}=t,s=t.tagType===1;let a=s?resolveComponentType(t,e):`"${r}"`;const c=isObject(a)&&a.callee===RESOLVE_DYNAMIC_COMPONENT;let l,u,f,b=0,S,v,g,w=c||a===TELEPORT||a===SUSPENSE||!s&&(r==="svg"||r==="foreignObject");if(o.length>0){const A=buildProps(t,e,void 0,s,c);l=A.props,b=A.patchFlag,v=A.dynamicPropNames;const T=A.directives;g=T&&T.length?createArrayExpression(T.map(O=>buildDirectiveArgs(O,e))):void 0,A.shouldUseBlock&&(w=!0)}if(t.children.length>0)if(a===KEEP_ALIVE&&(w=!0,b|=1024),s&&a!==TELEPORT&&a!==KEEP_ALIVE){const{slots:T,hasDynamicSlots:O}=buildSlots(t,e);u=T,O&&(b|=1024)}else if(t.children.length===1&&a!==TELEPORT){const T=t.children[0],O=T.type,R=O===5||O===8;R&&getConstantType(T,e)===0&&(b|=1),R||O===2?u=T:u=t.children}else u=t.children;b!==0&&(f=String(b),v&&v.length&&(S=stringifyDynamicPropNames(v))),t.codegenNode=createVNodeCall(e,a,l,u,f,S,g,!!w,!1,s,t.loc)};function resolveComponentType(t,e,n=!1){let{tag:r}=t;const o=isComponentTag(r),s=findProp(t,"is");if(s)if(o||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e)){const l=s.type===6?s.value&&createSimpleExpression(s.value.content,!0):s.exp;if(l)return createCallExpression(e.helper(RESOLVE_DYNAMIC_COMPONENT),[l])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const a=!o&&findDir(t,"is");if(a&&a.exp)return createCallExpression(e.helper(RESOLVE_DYNAMIC_COMPONENT),[a.exp]);const c=isCoreComponent(r)||e.isBuiltInComponent(r);return c?(n||e.helper(c),c):(e.helper(RESOLVE_COMPONENT),e.components.add(r),toValidAssetId(r,"component"))}function buildProps(t,e,n=t.props,r,o,s=!1){const{tag:a,loc:c,children:l}=t;let u=[];const f=[],b=[],S=l.length>0;let v=!1,g=0,w=!1,A=!1,T=!1,O=!1,R=!1,k=!1;const V=[],P=q=>{u.length&&(f.push(createObjectExpression(dedupeProperties(u),c)),u=[]),q&&f.push(q)},B=({key:q,value:Y})=>{if(isStaticExp(q)){const ae=q.content,me=isOn(ae);if(me&&(!r||o)&&ae.toLowerCase()!=="onclick"&&ae!=="onUpdate:modelValue"&&!isReservedProp(ae)&&(O=!0),me&&isReservedProp(ae)&&(k=!0),Y.type===20||(Y.type===4||Y.type===8)&&getConstantType(Y,e)>0)return;ae==="ref"?w=!0:ae==="class"?A=!0:ae==="style"?T=!0:ae!=="key"&&!V.includes(ae)&&V.push(ae),r&&(ae==="class"||ae==="style")&&!V.includes(ae)&&V.push(ae)}else R=!0};for(let q=0;q<n.length;q++){const Y=n[q];if(Y.type===6){const{loc:ae,name:me,value:Q}=Y;let le=!0;if(me==="ref"&&(w=!0,e.scopes.vFor>0&&u.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true")))),me==="is"&&(isComponentTag(a)||Q&&Q.content.startsWith("vue:")||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(createObjectProperty(createSimpleExpression(me,!0,getInnerRange(ae,0,me.length)),createSimpleExpression(Q?Q.content:"",le,Q?Q.loc:ae)))}else{const{name:ae,arg:me,exp:Q,loc:le}=Y,Se=ae==="bind",ve=ae==="on";if(ae==="slot"){r||e.onError(createCompilerError(40,le));continue}if(ae==="once"||ae==="memo"||ae==="is"||Se&&isStaticArgOf(me,"is")&&(isComponentTag(a)||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e))||ve&&s)continue;if((Se&&isStaticArgOf(me,"key")||ve&&S&&isStaticArgOf(me,"vue:before-update"))&&(v=!0),Se&&isStaticArgOf(me,"ref")&&e.scopes.vFor>0&&u.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true"))),!me&&(Se||ve)){if(R=!0,Q)if(Se){if(P(),isCompatEnabled("COMPILER_V_BIND_OBJECT_ORDER",e)){f.unshift(Q);continue}f.push(Q)}else P({type:14,loc:le,callee:e.helper(TO_HANDLERS),arguments:r?[Q]:[Q,"true"]});else e.onError(createCompilerError(Se?34:35,le));continue}const fe=e.directiveTransforms[ae];if(fe){const{props:Ne,needRuntime:st}=fe(Y,t,e);!s&&Ne.forEach(B),ve&&me&&!isStaticExp(me)?P(createObjectExpression(Ne,c)):u.push(...Ne),st&&(b.push(Y),isSymbol(st)&&directiveImportMap.set(Y,st))}else isBuiltInDirective(ae)||(b.push(Y),S&&(v=!0))}}let j;if(f.length?(P(),f.length>1?j=createCallExpression(e.helper(MERGE_PROPS),f,c):j=f[0]):u.length&&(j=createObjectExpression(dedupeProperties(u),c)),R?g|=16:(A&&!r&&(g|=2),T&&!r&&(g|=4),V.length&&(g|=8),O&&(g|=32)),!v&&(g===0||g===32)&&(w||k||b.length>0)&&(g|=512),!e.inSSR&&j)switch(j.type){case 15:let q=-1,Y=-1,ae=!1;for(let le=0;le<j.properties.length;le++){const Se=j.properties[le].key;isStaticExp(Se)?Se.content==="class"?q=le:Se.content==="style"&&(Y=le):Se.isHandlerKey||(ae=!0)}const me=j.properties[q],Q=j.properties[Y];ae?j=createCallExpression(e.helper(NORMALIZE_PROPS),[j]):(me&&!isStaticExp(me.value)&&(me.value=createCallExpression(e.helper(NORMALIZE_CLASS),[me.value])),Q&&(T||Q.value.type===4&&Q.value.content.trim()[0]==="["||Q.value.type===17)&&(Q.value=createCallExpression(e.helper(NORMALIZE_STYLE),[Q.value])));break;case 14:break;default:j=createCallExpression(e.helper(NORMALIZE_PROPS),[createCallExpression(e.helper(GUARD_REACTIVE_PROPS),[j])]);break}return{props:j,directives:b,patchFlag:g,dynamicPropNames:V,shouldUseBlock:v}}function dedupeProperties(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const o=t[r];if(o.key.type===8||!o.key.isStatic){n.push(o);continue}const s=o.key.content,a=e.get(s);a?(s==="style"||s==="class"||isOn(s))&&mergeAsArray(a,o):(e.set(s,o),n.push(o))}return n}function mergeAsArray(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=createArrayExpression([t.value,e.value],t.loc)}function buildDirectiveArgs(t,e){const n=[],r=directiveImportMap.get(t);r?n.push(e.helperString(r)):(e.helper(RESOLVE_DIRECTIVE),e.directives.add(t.name),n.push(toValidAssetId(t.name,"directive")));const{loc:o}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=createSimpleExpression("true",!1,o);n.push(createObjectExpression(t.modifiers.map(a=>createObjectProperty(a,s)),o))}return createArrayExpression(n,t.loc)}function stringifyDynamicPropNames(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function isComponentTag(t){return t==="component"||t==="Component"}const cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),transformSlotOutlet=(t,e)=>{if(isSlotOutlet(t)){const{children:n,loc:r}=t,{slotName:o,slotProps:s}=processSlotOutlet(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let c=2;s&&(a[2]=s,c=3),n.length&&(a[3]=createFunctionExpression([],n,!1,!1,r),c=4),e.scopeId&&!e.slotted&&(c=5),a.splice(c),t.codegenNode=createCallExpression(e.helper(RENDER_SLOT),a,r)}};function processSlotOutlet(t,e){let n='"default"',r;const o=[];for(let s=0;s<t.props.length;s++){const a=t.props[s];a.type===6?a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=camelize(a.name),o.push(a))):a.name==="bind"&&isStaticArgOf(a.arg,"name")?a.exp&&(n=a.exp):(a.name==="bind"&&a.arg&&isStaticExp(a.arg)&&(a.arg.content=camelize(a.arg.content)),o.push(a))}if(o.length>0){const{props:s,directives:a}=buildProps(t,e,o,!1,!1);r=s,a.length&&e.onError(createCompilerError(36,a[0].loc))}return{slotName:n,slotProps:r}}const fnExpRE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,transformOn$1=(t,e,n,r)=>{const{loc:o,modifiers:s,arg:a}=t;!t.exp&&!s.length&&n.onError(createCompilerError(35,o));let c;if(a.type===4)if(a.isStatic){let b=a.content;b.startsWith("vue:")&&(b=`vnode-${b.slice(4)}`);const S=e.tagType!==0||b.startsWith("vnode")||!/[A-Z]/.test(b)?toHandlerKey(camelize$1(b)):`on:${b}`;c=createSimpleExpression(S,!0,a.loc)}else c=createCompoundExpression([`${n.helperString(TO_HANDLER_KEY)}(`,a,")"]);else c=a,c.children.unshift(`${n.helperString(TO_HANDLER_KEY)}(`),c.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let u=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const b=isMemberExpression(l.content),S=!(b||fnExpRE.test(l.content)),v=l.content.includes(";");(S||u&&b)&&(l=createCompoundExpression([`${S?"$event":"(...args)"} => ${v?"{":"("}`,l,v?"}":")"]))}let f={props:[createObjectProperty(c,l||createSimpleExpression("() => {}",!1,o))]};return r&&(f=r(f)),u&&(f.props[0].value=n.cache(f.props[0].value)),f.props.forEach(b=>b.key.isHandlerKey=!0),f},transformBind=(t,e,n)=>{const{exp:r,modifiers:o,loc:s}=t,a=t.arg;return a.type!==4?(a.children.unshift("("),a.children.push(') || ""')):a.isStatic||(a.content=`${a.content} || ""`),o.includes("camel")&&(a.type===4?a.isStatic?a.content=camelize$1(a.content):a.content=`${n.helperString(CAMELIZE)}(${a.content})`:(a.children.unshift(`${n.helperString(CAMELIZE)}(`),a.children.push(")"))),n.inSSR||(o.includes("prop")&&injectPrefix(a,"."),o.includes("attr")&&injectPrefix(a,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(createCompilerError(34,s)),{props:[createObjectProperty(a,createSimpleExpression("",!0,s))]}):{props:[createObjectProperty(a,r)]}},injectPrefix=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},transformText=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,o=!1;for(let s=0;s<n.length;s++){const a=n[s];if(isText$1(a)){o=!0;for(let c=s+1;c<n.length;c++){const l=n[c];if(isText$1(l))r||(r=n[s]=createCompoundExpression([a],a.loc)),r.children.push(" + ",l),n.splice(c,1),c--;else{r=void 0;break}}}}if(!(!o||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(isText$1(a)||a.type===8){const c=[];(a.type!==2||a.content!==" ")&&c.push(a),!e.ssr&&getConstantType(a,e)===0&&c.push(1+""),n[s]={type:12,content:a,loc:a.loc,codegenNode:createCallExpression(e.helper(CREATE_TEXT),c)}}}}},seen$1=new WeakSet,transformOnce=(t,e)=>{if(t.type===1&&findDir(t,"once",!0))return seen$1.has(t)||e.inVOnce?void 0:(seen$1.add(t),e.inVOnce=!0,e.helper(SET_BLOCK_TRACKING),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},transformModel$1=(t,e,n)=>{const{exp:r,arg:o}=t;if(!r)return n.onError(createCompilerError(41,t.loc)),createTransformProps();const s=r.loc.source,a=r.type===4?r.content:s,c=n.bindingMetadata[s];if(c==="props"||c==="props-aliased")return n.onError(createCompilerError(44,r.loc)),createTransformProps();const l=!1;if(!a.trim()||!isMemberExpression(a)&&!l)return n.onError(createCompilerError(42,r.loc)),createTransformProps();const u=o||createSimpleExpression("modelValue",!0),f=o?isStaticExp(o)?`onUpdate:${camelize$1(o.content)}`:createCompoundExpression(['"onUpdate:" + ',o]):"onUpdate:modelValue";let b;const S=n.isTS?"($event: any)":"$event";b=createCompoundExpression([`${S} => ((`,r,") = $event)"]);const v=[createObjectProperty(u,t.exp),createObjectProperty(f,b)];if(t.modifiers.length&&e.tagType===1){const g=t.modifiers.map(A=>(isSimpleIdentifier(A)?A:JSON.stringify(A))+": true").join(", "),w=o?isStaticExp(o)?`${o.content}Modifiers`:createCompoundExpression([o,' + "Modifiers"']):"modelModifiers";v.push(createObjectProperty(w,createSimpleExpression(`{ ${g} }`,!1,t.loc,2)))}return createTransformProps(v)};function createTransformProps(t=[]){return{props:t}}const validDivisionCharRE=/[\w).+\-_$\]]/,transformFilter=(t,e)=>{isCompatEnabled("COMPILER_FILTER",e)&&(t.type===5&&rewriteFilter(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&rewriteFilter(n.exp,e)}))};function rewriteFilter(t,e){if(t.type===4)parseFilter(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?parseFilter(r,e):r.type===8?rewriteFilter(t,e):r.type===5&&rewriteFilter(r.content,e))}}function parseFilter(t,e){const n=t.content;let r=!1,o=!1,s=!1,a=!1,c=0,l=0,u=0,f=0,b,S,v,g,w=[];for(v=0;v<n.length;v++)if(S=b,b=n.charCodeAt(v),r)b===39&&S!==92&&(r=!1);else if(o)b===34&&S!==92&&(o=!1);else if(s)b===96&&S!==92&&(s=!1);else if(a)b===47&&S!==92&&(a=!1);else if(b===124&&n.charCodeAt(v+1)!==124&&n.charCodeAt(v-1)!==124&&!c&&!l&&!u)g===void 0?(f=v+1,g=n.slice(0,v).trim()):A();else{switch(b){case 34:o=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:c++;break;case 125:c--;break}if(b===47){let T=v-1,O;for(;T>=0&&(O=n.charAt(T),O===" ");T--);(!O||!validDivisionCharRE.test(O))&&(a=!0)}}g===void 0?g=n.slice(0,v).trim():f!==0&&A();function A(){w.push(n.slice(f,v).trim()),f=v+1}if(w.length){for(v=0;v<w.length;v++)g=wrapFilter(g,w[v],e);t.content=g}}function wrapFilter(t,e,n){n.helper(RESOLVE_FILTER);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${toValidAssetId(e,"filter")}(${t})`;{const o=e.slice(0,r),s=e.slice(r+1);return n.filters.add(o),`${toValidAssetId(o,"filter")}(${t}${s!==")"?","+s:s}`}}const seen=new WeakSet,transformMemo=(t,e)=>{if(t.type===1){const n=findDir(t,"memo");return!n||seen.has(t)?void 0:(seen.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&makeBlock(r,e),t.codegenNode=createCallExpression(e.helper(WITH_MEMO),[n.exp,createFunctionExpression(void 0,r),"_cache",String(e.cached++)]))})}};function getBaseTransformPreset(t){return[[transformOnce,transformIf,transformMemo,transformFor,transformFilter,transformSlotOutlet,transformElement,trackSlotScopes,transformText],{on:transformOn$1,bind:transformBind,model:transformModel$1}]}function baseCompile(t,e={}){const n=e.onError||defaultOnError,r=e.mode==="module";e.prefixIdentifiers===!0?n(createCompilerError(47)):r&&n(createCompilerError(48));const o=!1;e.cacheHandlers&&n(createCompilerError(49)),e.scopeId&&!r&&n(createCompilerError(50));const s=isString(t)?baseParse(t,e):t,[a,c]=getBaseTransformPreset();return transform(s,extend({},e,{prefixIdentifiers:o,nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:extend({},c,e.directiveTransforms||{})})),generate(s,extend({},e,{prefixIdentifiers:o}))}const noopDirectiveTransform=()=>({props:[]}),V_MODEL_RADIO=Symbol(""),V_MODEL_CHECKBOX=Symbol(""),V_MODEL_TEXT=Symbol(""),V_MODEL_SELECT=Symbol(""),V_MODEL_DYNAMIC=Symbol(""),V_ON_WITH_MODIFIERS=Symbol(""),V_ON_WITH_KEYS=Symbol(""),V_SHOW=Symbol(""),TRANSITION=Symbol(""),TRANSITION_GROUP=Symbol("");registerRuntimeHelpers({[V_MODEL_RADIO]:"vModelRadio",[V_MODEL_CHECKBOX]:"vModelCheckbox",[V_MODEL_TEXT]:"vModelText",[V_MODEL_SELECT]:"vModelSelect",[V_MODEL_DYNAMIC]:"vModelDynamic",[V_ON_WITH_MODIFIERS]:"withModifiers",[V_ON_WITH_KEYS]:"withKeys",[V_SHOW]:"vShow",[TRANSITION]:"Transition",[TRANSITION_GROUP]:"TransitionGroup"});let decoder;function decodeHtmlBrowser(t,e=!1){return decoder||(decoder=document.createElement("div")),e?(decoder.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,decoder.children[0].getAttribute("foo")):(decoder.innerHTML=t,decoder.textContent)}const isRawTextContainer=makeMap("style,iframe,script,noscript",!0),parserOptions={isVoidTag,isNativeTag:t=>isHTMLTag(t)||isSVGTag(t),isPreTag:t=>t==="pre",decodeEntities:decodeHtmlBrowser,isBuiltInComponent:t=>{if(isBuiltInType(t,"Transition"))return TRANSITION;if(isBuiltInType(t,"TransitionGroup"))return TRANSITION_GROUP},getNamespace(t,e){let n=e?e.ns:0;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n},getTextMode({tag:t,ns:e}){if(e===0){if(t==="textarea"||t==="title")return 1;if(isRawTextContainer(t))return 2}return 0}},transformStyle=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:createSimpleExpression("style",!0,e.loc),exp:parseInlineCSS(e.value.content,e.loc),modifiers:[],loc:e.loc})})},parseInlineCSS=(t,e)=>{const n=parseStringStyle(t);return createSimpleExpression(JSON.stringify(n),!1,e,3)};function createDOMCompilerError(t,e){return createCompilerError(t,e)}const transformVHtml=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(createDOMCompilerError(51,o)),e.children.length&&(n.onError(createDOMCompilerError(52,o)),e.children.length=0),{props:[createObjectProperty(createSimpleExpression("innerHTML",!0,o),r||createSimpleExpression("",!0))]}},transformVText=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(createDOMCompilerError(53,o)),e.children.length&&(n.onError(createDOMCompilerError(54,o)),e.children.length=0),{props:[createObjectProperty(createSimpleExpression("textContent",!0),r?getConstantType(r,n)>0?r:createCallExpression(n.helperString(TO_DISPLAY_STRING),[r],o):createSimpleExpression("",!0))]}},transformModel=(t,e,n)=>{const r=transformModel$1(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(createDOMCompilerError(56,t.arg.loc));const{tag:o}=e,s=n.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||s){let a=V_MODEL_TEXT,c=!1;if(o==="input"||s){const l=findProp(e,"type");if(l){if(l.type===7)a=V_MODEL_DYNAMIC;else if(l.value)switch(l.value.content){case"radio":a=V_MODEL_RADIO;break;case"checkbox":a=V_MODEL_CHECKBOX;break;case"file":c=!0,n.onError(createDOMCompilerError(57,t.loc));break}}else hasDynamicKeyVBind(e)&&(a=V_MODEL_DYNAMIC)}else o==="select"&&(a=V_MODEL_SELECT);c||(r.needRuntime=n.helper(a))}else n.onError(createDOMCompilerError(55,t.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},isEventOptionModifier=makeMap("passive,once,capture"),isNonKeyModifier=makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),maybeKeyModifier=makeMap("left,right"),isKeyboardEvent=makeMap("onkeyup,onkeydown,onkeypress",!0),resolveModifiers=(t,e,n,r)=>{const o=[],s=[],a=[];for(let c=0;c<e.length;c++){const l=e[c];l==="native"&&checkCompatEnabled("COMPILER_V_ON_NATIVE",n)||isEventOptionModifier(l)?a.push(l):maybeKeyModifier(l)?isStaticExp(t)?isKeyboardEvent(t.content)?o.push(l):s.push(l):(o.push(l),s.push(l)):isNonKeyModifier(l)?s.push(l):o.push(l)}return{keyModifiers:o,nonKeyModifiers:s,eventOptionModifiers:a}},transformClick=(t,e)=>isStaticExp(t)&&t.content.toLowerCase()==="onclick"?createSimpleExpression(e,!0):t.type!==4?createCompoundExpression(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,transformOn=(t,e,n)=>transformOn$1(t,e,n,r=>{const{modifiers:o}=t;if(!o.length)return r;let{key:s,value:a}=r.props[0];const{keyModifiers:c,nonKeyModifiers:l,eventOptionModifiers:u}=resolveModifiers(s,o,n,t.loc);if(l.includes("right")&&(s=transformClick(s,"onContextmenu")),l.includes("middle")&&(s=transformClick(s,"onMouseup")),l.length&&(a=createCallExpression(n.helper(V_ON_WITH_MODIFIERS),[a,JSON.stringify(l)])),c.length&&(!isStaticExp(s)||isKeyboardEvent(s.content))&&(a=createCallExpression(n.helper(V_ON_WITH_KEYS),[a,JSON.stringify(c)])),u.length){const f=u.map(capitalize).join("");s=isStaticExp(s)?createSimpleExpression(`${s.content}${f}`,!0):createCompoundExpression(["(",s,`) + "${f}"`])}return{props:[createObjectProperty(s,a)]}}),transformShow=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(createDOMCompilerError(59,o)),{props:[],needRuntime:n.helper(V_SHOW)}},ignoreSideEffectTags=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&(e.onError(createDOMCompilerError(61,t.loc)),e.removeNode())},DOMNodeTransforms=[transformStyle],DOMDirectiveTransforms={cloak:noopDirectiveTransform,html:transformVHtml,text:transformVText,model:transformModel,on:transformOn,show:transformShow};function compile(t,e={}){return baseCompile(t,extend({},parserOptions,e,{nodeTransforms:[ignoreSideEffectTags,...DOMNodeTransforms,...e.nodeTransforms||[]],directiveTransforms:extend({},DOMDirectiveTransforms,e.directiveTransforms||{}),transformHoist:null}))}const compileCache=Object.create(null);function compileToFunction(t,e){if(!isString(t))if(t.nodeType)t=t.innerHTML;else return NOOP;const n=t,r=compileCache[n];if(r)return r;if(t[0]==="#"){const c=document.querySelector(t);t=c?c.innerHTML:""}const o=extend({hoistStatic:!0,onError:void 0,onWarn:NOOP},e);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=c=>!!customElements.get(c));const{code:s}=compile(t,o),a=new Function("Vue",s)(runtimeDom);return a._rc=!0,compileCache[n]=a}registerRuntimeCompiler(compileToFunction);function isDate(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function toDate(t){return isDate(t)?new Date(t.getTime()):t==null?new Date(NaN):new Date(t)}function isValidDate$1(t){return isDate(t)&&!isNaN(t.getTime())}function startOfWeek(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(e>=0&&e<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var n=toDate(t),r=n.getDay(),o=(r+7-e)%7;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function startOfWeekYear(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.firstDayOfWeek,r=n===void 0?0:n,o=e.firstWeekContainsDate,s=o===void 0?1:o;if(!(s>=1&&s<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7");for(var a=toDate(t),c=a.getFullYear(),l=new Date(0),u=c+1;u>=c-1&&(l.setFullYear(u,0,s),l.setHours(0,0,0,0),l=startOfWeek(l,r),!(a.getTime()>=l.getTime()));u--);return l}function getWeek(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.firstDayOfWeek,r=n===void 0?0:n,o=e.firstWeekContainsDate,s=o===void 0?1:o,a=toDate(t),c=startOfWeek(a,r),l=startOfWeekYear(a,{firstDayOfWeek:r,firstWeekContainsDate:s}),u=c.getTime()-l.getTime();return Math.round(u/(7*24*3600*1e3))+1}var locale$1={months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1},REGEX_FORMAT=/\[([^\]]+)]|YYYY|YY?|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|Z{1,2}|S{1,3}|w{1,2}|x|X|a|A/g;function pad(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n="".concat(Math.abs(t)),r=t<0?"-":"";n.length<e;)n="0".concat(n);return r+n}function getOffset(t){return Math.round(t.getTimezoneOffset()/15)*15}function formatTimezone(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),s=r%60;return n+pad(o,2)+e+pad(s,2)}var meridiem=function(e,n,r){var o=e<12?"AM":"PM";return r?o.toLocaleLowerCase():o},formatFlags={Y:function(e){var n=e.getFullYear();return n<=9999?"".concat(n):"+".concat(n)},YY:function(e){return pad(e.getFullYear(),4).substr(2)},YYYY:function(e){return pad(e.getFullYear(),4)},M:function(e){return e.getMonth()+1},MM:function(e){return pad(e.getMonth()+1,2)},MMM:function(e,n){return n.monthsShort[e.getMonth()]},MMMM:function(e,n){return n.months[e.getMonth()]},D:function(e){return e.getDate()},DD:function(e){return pad(e.getDate(),2)},H:function(e){return e.getHours()},HH:function(e){return pad(e.getHours(),2)},h:function(e){var n=e.getHours();return n===0?12:n>12?n%12:n},hh:function(){var e=formatFlags.h.apply(formatFlags,arguments);return pad(e,2)},m:function(e){return e.getMinutes()},mm:function(e){return pad(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return pad(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return pad(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return pad(e.getMilliseconds(),3)},d:function(e){return e.getDay()},dd:function(e,n){return n.weekdaysMin[e.getDay()]},ddd:function(e,n){return n.weekdaysShort[e.getDay()]},dddd:function(e,n){return n.weekdays[e.getDay()]},A:function(e,n){var r=n.meridiem||meridiem;return r(e.getHours(),e.getMinutes(),!1)},a:function(e,n){var r=n.meridiem||meridiem;return r(e.getHours(),e.getMinutes(),!0)},Z:function(e){return formatTimezone(getOffset(e),":")},ZZ:function(e){return formatTimezone(getOffset(e))},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()},w:function(e,n){return getWeek(e,{firstDayOfWeek:n.firstDayOfWeek,firstWeekContainsDate:n.firstWeekContainsDate})},ww:function(e,n){return pad(formatFlags.w(e,n),2)}};function format(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=toDate(t);if(!isValidDate$1(o))return"Invalid Date";var s=n.locale||locale$1;return r.replace(REGEX_FORMAT,function(a,c){return c||(typeof formatFlags[a]=="function"?"".concat(formatFlags[a](o,s)):a)})}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(r){_defineProperty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var n=[],r=!0,o=!1,s=void 0;try{for(var a=t[Symbol.iterator](),c;!(r=(c=a.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw s}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var formattingTokens=/(\[[^\[]*\])|(MM?M?M?|Do|DD?|ddd?d?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|S{1,3}|x|X|ZZ?|.)/g,match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match1to2=/\d\d?/,matchShortOffset=/[+-]\d\d:?\d\d/,matchSigned=/[+-]?\d+/,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,YEAR="year",MONTH="month",DAY="day",HOUR="hour",MINUTE="minute",SECOND="second",MILLISECOND="millisecond",parseFlags={},addParseFlag=function(e,n,r){var o=Array.isArray(e)?e:[e],s;typeof r=="string"?s=function(c){var l=parseInt(c,10);return _defineProperty({},r,l)}:s=r,o.forEach(function(a){parseFlags[a]=[n,s]})},escapeStringRegExp=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},matchWordRegExp=function(e){return function(n){var r=n[e];if(!Array.isArray(r))throw new Error("Locale[".concat(e,"] need an array"));return new RegExp(r.map(escapeStringRegExp).join("|"))}},matchWordCallback=function(e,n){return function(r,o){var s=o[e];if(!Array.isArray(s))throw new Error("Locale[".concat(e,"] need an array"));var a=s.indexOf(r);if(a<0)throw new Error("Invalid Word");return _defineProperty({},n,a)}};addParseFlag("Y",matchSigned,YEAR);addParseFlag("YY",match2,function(t){var e=new Date().getFullYear(),n=Math.floor(e/100),r=parseInt(t,10);return r=(r>68?n-1:n)*100+r,_defineProperty({},YEAR,r)});addParseFlag("YYYY",match4,YEAR);addParseFlag("M",match1to2,function(t){return _defineProperty({},MONTH,parseInt(t,10)-1)});addParseFlag("MM",match2,function(t){return _defineProperty({},MONTH,parseInt(t,10)-1)});addParseFlag("MMM",matchWordRegExp("monthsShort"),matchWordCallback("monthsShort",MONTH));addParseFlag("MMMM",matchWordRegExp("months"),matchWordCallback("months",MONTH));addParseFlag("D",match1to2,DAY);addParseFlag("DD",match2,DAY);addParseFlag(["H","h"],match1to2,HOUR);addParseFlag(["HH","hh"],match2,HOUR);addParseFlag("m",match1to2,MINUTE);addParseFlag("mm",match2,MINUTE);addParseFlag("s",match1to2,SECOND);addParseFlag("ss",match2,SECOND);addParseFlag("S",match1,function(t){return _defineProperty({},MILLISECOND,parseInt(t,10)*100)});addParseFlag("SS",match2,function(t){return _defineProperty({},MILLISECOND,parseInt(t,10)*10)});addParseFlag("SSS",match3,MILLISECOND);function matchMeridiem(t){return t.meridiemParse||/[ap]\.?m?\.?/i}function defaultIsPM(t){return"".concat(t).toLowerCase().charAt(0)==="p"}addParseFlag(["A","a"],matchMeridiem,function(t,e){var n=typeof e.isPM=="function"?e.isPM(t):defaultIsPM(t);return{isPM:n}});function offsetFromString(t){var e=t.match(/([+-]|\d\d)/g)||["-","0","0"],n=_slicedToArray(e,3),r=n[0],o=n[1],s=n[2],a=parseInt(o,10)*60+parseInt(s,10);return a===0?0:r==="+"?-a:+a}addParseFlag(["Z","ZZ"],matchShortOffset,function(t){return{offset:offsetFromString(t)}});addParseFlag("x",matchSigned,function(t){return{date:new Date(parseInt(t,10))}});addParseFlag("X",matchTimestamp,function(t){return{date:new Date(parseFloat(t)*1e3)}});addParseFlag("d",match1,"weekday");addParseFlag("dd",matchWordRegExp("weekdaysMin"),matchWordCallback("weekdaysMin","weekday"));addParseFlag("ddd",matchWordRegExp("weekdaysShort"),matchWordCallback("weekdaysShort","weekday"));addParseFlag("dddd",matchWordRegExp("weekdays"),matchWordCallback("weekdays","weekday"));addParseFlag("w",match1to2,"week");addParseFlag("ww",match2,"week");function to24hour(t,e){if(t!==void 0&&e!==void 0){if(e){if(t<12)return t+12}else if(t===12)return 0}return t}function getFullInputArray(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Date,n=[0,0,1,0,0,0,0],r=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],o=!0,s=0;s<7;s++)t[s]===void 0?n[s]=o?r[s]:n[s]:(n[s]=t[s],o=!1);return n}function createDate$1(t,e,n,r,o,s,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,o,s,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,o,s,a),c}function createUTCDate(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];return o<100&&o>=0?(n[0]+=400,t=new Date(Date.UTC.apply(Date,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(o)):t=new Date(Date.UTC.apply(Date,n)),t}function makeParser(t,e,n){var r=e.match(formattingTokens);if(!r)throw new Error;for(var o=r.length,s={},a=0;a<o;a+=1){var c=r[a],l=parseFlags[c];if(l){var f=typeof l[0]=="function"?l[0](n):l[0],b=l[1],S=(f.exec(t)||[])[0],v=b(S,n);s=_objectSpread({},s,{},v),t=t.replace(S,"")}else{var u=c.replace(/^\[|\]$/g,"");if(t.indexOf(u)===0)t=t.substr(u.length);else throw new Error("not match")}}return s}function parse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{var r=n.locale,o=r===void 0?locale$1:r,s=n.backupDate,a=s===void 0?new Date:s,c=makeParser(t,e,o),l=c.year,u=c.month,f=c.day,b=c.hour,S=c.minute,v=c.second,g=c.millisecond,w=c.isPM,A=c.date,T=c.offset,O=c.weekday,R=c.week;if(A)return A;var k=[l,u,f,b,S,v,g];if(k[3]=to24hour(k[3],w),R!==void 0&&u===void 0&&f===void 0){var V=startOfWeekYear(l===void 0?a:new Date(l,3),{firstDayOfWeek:o.firstDayOfWeek,firstWeekContainsDate:o.firstWeekContainsDate});return new Date(V.getTime()+(R-1)*7*24*3600*1e3)}var P,B=getFullInputArray(k,a);return T!==void 0?(B[6]+=T*60*1e3,P=createUTCDate.apply(void 0,_toConsumableArray(B))):P=createDate$1.apply(void 0,_toConsumableArray(B)),O!==void 0&&P.getDay()!==O?new Date(NaN):P}catch{return new Date(NaN)}}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__spreadValues=(t,e)=>{for(var n in e||(e={}))__hasOwnProp.call(e,n)&&__defNormalProp(t,n,e[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))__propIsEnum.call(e,n)&&__defNormalProp(t,n,e[n]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__objRest=(t,e)=>{var n={};for(var r in t)__hasOwnProp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))e.indexOf(r)<0&&__propIsEnum.call(t,r)&&(n[r]=t[r]);return n};const lang={formatLocale:locale$1,yearFormat:"YYYY",monthFormat:"MMM",monthBeforeYear:!0};let defaultLocale="en";const locales={};locales[defaultLocale]=lang;function locale(t,e,n=!1){if(typeof t!="string")return locales[defaultLocale];let r=defaultLocale;return locales[t]&&(r=t),e&&(locales[t]=e,r=t),n||(defaultLocale=r),locales[t]||locales[defaultLocale]}function getLocale(t){return locale(t,void 0,!0)}function chunk(t,e){if(!Array.isArray(t))return[];const n=[],r=t.length;let o=0;for(e=e||r;o<r;)n.push(t.slice(o,o+=e));return n}function last(t){return Array.isArray(t)?t[t.length-1]:void 0}function isPlainObject$1(t){return Object.prototype.toString.call(t)==="[object Object]"}function pick(t,e){const n={};return isPlainObject$1(t)&&(Array.isArray(e)||(e=[e]),e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])})),n}function mergeDeep$1(t,e){if(!isPlainObject$1(t))return{};let n=t;return isPlainObject$1(e)&&Object.keys(e).forEach(r=>{let o=e[r];const s=t[r];isPlainObject$1(o)&&isPlainObject$1(s)&&(o=mergeDeep$1(s,o)),n=__spreadProps(__spreadValues({},n),{[r]:o})}),n}function padNumber(t){const e=parseInt(String(t),10);return e<10?`0${e}`:`${e}`}function camelcase(t){const e=/-(\w)/g;return t.replace(e,(n,r)=>r?r.toUpperCase():"")}const localeContextKey="datepicker_locale",prefixClassKey="datepicker_prefixClass",getWeekKey="datepicker_getWeek";function useLocale(){return inject(localeContextKey,shallowRef(getLocale()))}function provideLocale(t){const e=computed(()=>isPlainObject$1(t.value)?mergeDeep$1(getLocale(),t.value):getLocale(t.value));return provide(localeContextKey,e),e}function providePrefixClass(t){provide(prefixClassKey,t)}function usePrefixClass(){return inject(prefixClassKey,"mx")}function provideGetWeek(t){provide(getWeekKey,t)}function useGetWeek(){return inject(getWeekKey,getWeek)}function getPopupElementSize(t){const e=t.style.display,n=t.style.visibility;t.style.display="block",t.style.visibility="hidden";const r=window.getComputedStyle(t),o=t.offsetWidth+parseInt(r.marginLeft,10)+parseInt(r.marginRight,10),s=t.offsetHeight+parseInt(r.marginTop,10)+parseInt(r.marginBottom,10);return t.style.display=e,t.style.visibility=n,{width:o,height:s}}function getRelativePosition(t,e,n,r){let o=0,s=0,a=0,c=0;const l=t.getBoundingClientRect(),u=document.documentElement.clientWidth,f=document.documentElement.clientHeight;return r&&(a=window.pageXOffset+l.left,c=window.pageYOffset+l.top),u-l.left<e&&l.right<e?o=a-l.left+1:l.left+l.width/2<=u/2?o=a:o=a+l.width-e,l.top<=n&&f-l.bottom<=n?s=c+f-l.top-n:l.top+l.height/2<=f/2?s=c+l.height:s=c-n,{left:`${o}px`,top:`${s}px`}}function getScrollParent(t,e=document.body){if(!t||t===e)return null;const n=(s,a)=>getComputedStyle(s,null).getPropertyValue(a);return/(auto|scroll)/.test(n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x"))?t:getScrollParent(t.parentElement,e)}let scrollBarWidth;function getScrollbarWidth(){if(typeof window>"u")return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const e=document.createElement("div");return e.style.width="100%",t.appendChild(e),scrollBarWidth=t.offsetWidth-e.offsetWidth,t.parentNode.removeChild(t),scrollBarWidth}const mousedownEvent="ontouchend"in document?"touchstart":"mousedown";function rafThrottle(t){let e=!1;return function(...r){e||(e=!0,requestAnimationFrame(()=>{e=!1,t.apply(this,r)}))}}function defineVueComponent(t,e){return{setup:t,name:t.name,props:e}}function withDefault(t,e){return new Proxy(t,{get(r,o){const s=r[o];return s!==void 0?s:e[o]}})}const keys$1=()=>t=>t,resolveProps=(t,e)=>{const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=camelcase(r);let s=t[r];e.indexOf(o)!==-1&&s===""&&(s=!0),n[o]=s}return n};function Popup(t,{slots:e}){const n=withDefault(t,{appendToBody:!0}),r=usePrefixClass(),o=ref(null),s=ref({left:"",top:""}),a=()=>{if(!n.visible||!o.value)return;const l=n.getRelativeElement();if(!l)return;const{width:u,height:f}=getPopupElementSize(o.value);s.value=getRelativePosition(l,u,f,n.appendToBody)};watchEffect(a,{flush:"post"}),watchEffect(l=>{const u=n.getRelativeElement();if(!u)return;const f=getScrollParent(u)||window,b=rafThrottle(a);f.addEventListener("scroll",b),window.addEventListener("resize",b),l(()=>{f.removeEventListener("scroll",b),window.removeEventListener("resize",b)})},{flush:"post"});const c=l=>{if(!n.visible)return;const u=l.target,f=o.value,b=n.getRelativeElement();f&&!f.contains(u)&&b&&!b.contains(u)&&n.onClickOutside(l)};return watchEffect(l=>{document.addEventListener(mousedownEvent,c),l(()=>{document.removeEventListener(mousedownEvent,c)})}),()=>createVNode(Teleport,{to:"body",disabled:!n.appendToBody},{default:()=>[createVNode(Transition,{name:`${r}-zoom-in-down`},{default:()=>{var l;return[n.visible&&createVNode("div",{ref:o,class:`${r}-datepicker-main ${r}-datepicker-popup ${n.className}`,style:[__spreadValues({position:"absolute"},s.value),n.style||{}]},[(l=e.default)==null?void 0:l.call(e)])]}})]})}const popupProps=keys$1()(["style","className","visible","appendToBody","onClickOutside","getRelativeElement"]);var Popup$1=defineVueComponent(Popup,popupProps);const _hoisted_1$2$1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},_hoisted_2$2$1=createBaseVNode("path",{d:"M940.218 107.055H730.764v-60.51H665.6v60.51H363.055v-60.51H297.89v60.51H83.78c-18.617 0-32.581 13.963-32.581 32.581v805.237c0 18.618 13.964 32.582 32.582 32.582h861.09c18.619 0 32.583-13.964 32.583-32.582V139.636c-4.655-18.618-18.619-32.581-37.237-32.581zm-642.327 65.163v60.51h65.164v-60.51h307.2v60.51h65.163v-60.51h176.873v204.8H116.364v-204.8H297.89zM116.364 912.291V442.18H912.29v470.11H116.364z"},null,-1),_hoisted_3$2$1=[_hoisted_2$2$1];function render$2(t,e){return openBlock(),createElementBlock("svg",_hoisted_1$2$1,_hoisted_3$2$1)}const _hoisted_1$1$1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},_hoisted_2$1$1=createBaseVNode("path",{d:"M810.005 274.005 572.011 512l237.994 237.995-60.01 60.01L512 572.011 274.005 810.005l-60.01-60.01L451.989 512 213.995 274.005l60.01-60.01L512 451.989l237.995-237.994z"},null,-1),_hoisted_3$1$1=[_hoisted_2$1$1];function render$1(t,e){return openBlock(),createElementBlock("svg",_hoisted_1$1$1,_hoisted_3$1$1)}const _hoisted_1$5={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em"},_hoisted_2$3=createBaseVNode("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_3$3=createBaseVNode("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},null,-1),_hoisted_4$3=createBaseVNode("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},null,-1),_hoisted_5$2=[_hoisted_2$3,_hoisted_3$3,_hoisted_4$3];function render$3(t,e){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_5$2)}function createDate(t,e=0,n=1,r=0,o=0,s=0,a=0){const c=new Date(t,e,n,r,o,s,a);return t<100&&t>=0&&c.setFullYear(t),c}function isValidDate(t){return t instanceof Date&&!isNaN(t.getTime())}function isValidRangeDate(t){return Array.isArray(t)&&t.length===2&&t.every(isValidDate)&&t[0]<=t[1]}function isValidDates(t){return Array.isArray(t)&&t.every(isValidDate)}function getValidDate(...t){if(t[0]!==void 0&&t[0]!==null){const n=new Date(t[0]);if(isValidDate(n))return n}const e=t.slice(1);return e.length?getValidDate(...e):new Date}function startOfYear(t){const e=new Date(t);return e.setMonth(0,1),e.setHours(0,0,0,0),e}function startOfMonth(t){const e=new Date(t);return e.setDate(1),e.setHours(0,0,0,0),e}function startOfDay(t){const e=new Date(t);return e.setHours(0,0,0,0),e}function getCalendar({firstDayOfWeek:t,year:e,month:n}){const r=[],o=createDate(e,n,0),s=o.getDate(),a=s-(o.getDay()+7-t)%7;for(let f=a;f<=s;f++)r.push(createDate(e,n,f-s));o.setMonth(n+1,0);const c=o.getDate();for(let f=1;f<=c;f++)r.push(createDate(e,n,f));const l=s-a+1,u=6*7-l-c;for(let f=1;f<=u;f++)r.push(createDate(e,n,c+f));return r}function setMonth(t,e){const n=new Date(t),r=typeof e=="function"?e(n.getMonth()):Number(e),o=n.getFullYear(),s=createDate(o,r+1,0).getDate(),a=n.getDate();return n.setMonth(r,Math.min(a,s)),n}function setYear(t,e){const n=new Date(t),r=typeof e=="function"?e(n.getFullYear()):e;return n.setFullYear(r),n}function diffCalendarMonths(t,e){const n=new Date(e),r=new Date(t),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function assignTime(t,e){const n=new Date(t),r=new Date(e);return n.setHours(r.getHours(),r.getMinutes(),r.getSeconds()),n}function PickerInput(t,{slots:e}){const n=withDefault(t,{editable:!0,disabled:!1,clearable:!0,range:!1,multiple:!1}),r=usePrefixClass(),o=ref(null),s=computed(()=>n.separator||(n.range?" ~ ":",")),a=S=>n.range?isValidRangeDate(S)&&S.every(v=>!n.disabledDate(v)):n.multiple?isValidDates(S)&&S.every(v=>!n.disabledDate(v)):isValidDate(S)&&!n.disabledDate(S),c=computed(()=>o.value!==null?o.value:typeof n.renderInputText=="function"?n.renderInputText(n.value):a(n.value)?Array.isArray(n.value)?n.value.map(S=>n.formatDate(S)).join(s.value):n.formatDate(n.value):""),l=S=>{var v;S&&S.stopPropagation(),n.onChange(n.range?[null,null]:null),(v=n.onClear)==null||v.call(n)},u=()=>{var S;if(!n.editable||o.value===null)return;const v=o.value.trim();if(o.value=null,v===""){l();return}let g;if(n.range){let w=v.split(s.value);w.length!==2&&(w=v.split(s.value.trim())),g=w.map(A=>n.parseDate(A.trim()))}else n.multiple?g=v.split(s.value).map(w=>n.parseDate(w.trim())):g=n.parseDate(v);a(g)?n.onChange(g):(S=n.onInputError)==null||S.call(n,v)},f=S=>{o.value=typeof S=="string"?S:S.target.value},b=S=>{const{keyCode:v}=S;v===9?n.onBlur():v===13&&u()};return()=>{var S,v,g;const w=!n.disabled&&n.clearable&&c.value,A=__spreadProps(__spreadValues({name:"date",type:"text",autocomplete:"off",value:c.value,class:n.inputClass||`${r}-input`,readonly:!n.editable,disabled:n.disabled,placeholder:n.placeholder},n.inputAttr),{onFocus:n.onFocus,onKeydown:b,onInput:f,onChange:u});return createVNode("div",{class:`${r}-input-wrapper`,onClick:n.onClick},[((S=e.input)==null?void 0:S.call(e,A))||createVNode("input",A,null),w?createVNode("i",{class:`${r}-icon-clear`,onClick:l},[((v=e["icon-clear"])==null?void 0:v.call(e))||createVNode(render$1,null,null)]):null,createVNode("i",{class:`${r}-icon-calendar`},[((g=e["icon-calendar"])==null?void 0:g.call(e))||createVNode(render$2,null,null)])])}}const pickerInputBaseProps=keys$1()(["placeholder","editable","disabled","clearable","inputClass","inputAttr","range","multiple","separator","renderInputText","onInputError","onClear"]),pickerInputProps=keys$1()(["value","formatDate","parseDate","disabledDate","onChange","onFocus","onBlur","onClick",...pickerInputBaseProps]);var PickerInput$1=defineVueComponent(PickerInput,pickerInputProps);function Picker(t,{slots:e}){var n;const r=withDefault(t,{prefixClass:"mx",valueType:"date",format:"YYYY-MM-DD",type:"date",disabledDate:()=>!1,disabledTime:()=>!1,confirmText:"OK"});providePrefixClass(r.prefixClass),provideGetWeek(((n=r.formatter)==null?void 0:n.getWeek)||getWeek);const o=provideLocale(toRef(t,"lang")),s=ref(),a=()=>s.value,c=ref(!1),l=computed(()=>!r.disabled&&(typeof r.open=="boolean"?r.open:c.value)),u=()=>{var P,B;r.disabled||l.value||(c.value=!0,(P=r["onUpdate:open"])==null||P.call(r,!0),(B=r.onOpen)==null||B.call(r))},f=()=>{var P,B;l.value&&(c.value=!1,(P=r["onUpdate:open"])==null||P.call(r,!1),(B=r.onClose)==null||B.call(r))},b=(P,B)=>(B=B||r.format,isPlainObject$1(r.formatter)&&typeof r.formatter.stringify=="function"?r.formatter.stringify(P,B):format(P,B,{locale:o.value.formatLocale})),S=(P,B)=>{if(B=B||r.format,isPlainObject$1(r.formatter)&&typeof r.formatter.parse=="function")return r.formatter.parse(P,B);const j=new Date;return parse(P,B,{locale:o.value.formatLocale,backupDate:j})},v=P=>{switch(r.valueType){case"date":return P instanceof Date?new Date(P.getTime()):new Date(NaN);case"timestamp":return typeof P=="number"?new Date(P):new Date(NaN);case"format":return typeof P=="string"?S(P):new Date(NaN);default:return typeof P=="string"?S(P,r.valueType):new Date(NaN)}},g=P=>{if(!isValidDate(P))return null;switch(r.valueType){case"date":return P;case"timestamp":return P.getTime();case"format":return b(P);default:return b(P,r.valueType)}},w=computed(()=>{const P=r.value;return r.range?(Array.isArray(P)?P.slice(0,2):[null,null]).map(v):r.multiple?(Array.isArray(P)?P:[]).map(v):v(P)}),A=(P,B,j=!0)=>{var q,Y;const ae=Array.isArray(P)?P.map(g):g(P);return(q=r["onUpdate:value"])==null||q.call(r,ae),(Y=r.onChange)==null||Y.call(r,ae,B),j&&f(),ae},T=ref(new Date);watchEffect(()=>{l.value&&(T.value=w.value)});const O=(P,B)=>{r.confirm?T.value=P:A(P,B,!r.multiple&&(B===r.type||B==="time"))},R=()=>{var P;const B=A(T.value);(P=r.onConfirm)==null||P.call(r,B)},k=P=>r.disabledDate(P)||r.disabledTime(P),V=P=>{var B;const{prefixClass:j}=r;return createVNode("div",{class:`${j}-datepicker-sidebar`},[(B=e.sidebar)==null?void 0:B.call(e,P),(r.shortcuts||[]).map((q,Y)=>createVNode("button",{key:Y,"data-index":Y,type:"button",class:`${j}-btn ${j}-btn-text ${j}-btn-shortcut`,onClick:()=>{var ae;const me=(ae=q.onClick)==null?void 0:ae.call(q);me&&A(me)}},[q.text]))])};return()=>{var P,B;const{prefixClass:j,disabled:q,confirm:Y,range:ae,popupClass:me,popupStyle:Q,appendToBody:le}=r,Se={value:T.value,["onUpdate:value"]:O,emit:A},ve=e.header&&createVNode("div",{class:`${j}-datepicker-header`},[e.header(Se)]),fe=(e.footer||Y)&&createVNode("div",{class:`${j}-datepicker-footer`},[(P=e.footer)==null?void 0:P.call(e,Se),Y&&createVNode("button",{type:"button",class:`${j}-btn ${j}-datepicker-btn-confirm`,onClick:R},[r.confirmText])]),Ne=(B=e.content)==null?void 0:B.call(e,Se),st=(e.sidebar||r.shortcuts)&&V(Se);return createVNode("div",{ref:s,class:{[`${j}-datepicker`]:!0,[`${j}-datepicker-range`]:ae,disabled:q}},[createVNode(PickerInput$1,__spreadProps(__spreadValues({},pick(r,pickerInputBaseProps)),{value:w.value,formatDate:b,parseDate:S,disabledDate:k,onChange:A,onClick:u,onFocus:u,onBlur:f}),pick(e,["icon-calendar","icon-clear","input"])),createVNode(Popup$1,{className:me,style:Q,visible:l.value,appendToBody:le,getRelativeElement:a,onClickOutside:f},{default:()=>[st,createVNode("div",{class:`${j}-datepicker-content`},[ve,Ne,fe])]})])}}const pickerbaseProps=keys$1()(["value","valueType","type","format","formatter","lang","prefixClass","appendToBody","open","popupClass","popupStyle","confirm","confirmText","shortcuts","disabledDate","disabledTime","onOpen","onClose","onConfirm","onChange","onUpdate:open","onUpdate:value"]),pickerProps=[...pickerbaseProps,...pickerInputBaseProps];var Picker$1=defineVueComponent(Picker,pickerProps);function ButtonIcon(t){var e=t,{value:n}=e,r=__objRest(e,["value"]);const o=usePrefixClass();return createVNode("button",__spreadProps(__spreadValues({},r),{type:"button",class:`${o}-btn ${o}-btn-text ${o}-btn-icon-${n}`}),[createVNode("i",{class:`${o}-icon-${n}`},null)])}function TableHeader$1({type:t,calendar:e,onUpdateCalendar:n},{slots:r}){var o;const s=usePrefixClass(),a=()=>{n(setMonth(e,S=>S-1))},c=()=>{n(setMonth(e,S=>S+1))},l=()=>{n(setYear(e,S=>S-1))},u=()=>{n(setYear(e,S=>S+1))},f=()=>{n(setYear(e,S=>S-10))},b=()=>{n(setYear(e,S=>S+10))};return createVNode("div",{class:`${s}-calendar-header`},[createVNode(ButtonIcon,{value:"double-left",onClick:t==="year"?f:l},null),t==="date"&&createVNode(ButtonIcon,{value:"left",onClick:a},null),createVNode(ButtonIcon,{value:"double-right",onClick:t==="year"?b:u},null),t==="date"&&createVNode(ButtonIcon,{value:"right",onClick:c},null),createVNode("span",{class:`${s}-calendar-header-label`},[(o=r.default)==null?void 0:o.call(r)])])}function TableDate({calendar:t,isWeekMode:e,showWeekNumber:n,titleFormat:r,getWeekActive:o,getCellClasses:s,onSelect:a,onUpdatePanel:c,onUpdateCalendar:l,onDateMouseEnter:u,onDateMouseLeave:f}){const b=usePrefixClass(),S=useGetWeek(),v=useLocale().value,{yearFormat:g,monthBeforeYear:w,monthFormat:A="MMM",formatLocale:T}=v,O=T.firstDayOfWeek||0;let R=v.days||T.weekdaysMin;R=R.concat(R).slice(O,O+7);const k=t.getFullYear(),V=t.getMonth(),P=chunk(getCalendar({firstDayOfWeek:O,year:k,month:V}),7),B=(Se,ve)=>format(Se,ve,{locale:v.formatLocale}),j=Se=>{c(Se)},q=Se=>{const ve=Se.getAttribute("data-index"),[fe,Ne]=ve.split(",").map(ft=>parseInt(ft,10)),st=P[fe][Ne];return new Date(st)},Y=Se=>{a(q(Se.currentTarget))},ae=Se=>{u&&u(q(Se.currentTarget))},me=Se=>{f&&f(q(Se.currentTarget))},Q=createVNode("button",{type:"button",class:`${b}-btn ${b}-btn-text ${b}-btn-current-year`,onClick:()=>j("year")},[B(t,g)]),le=createVNode("button",{type:"button",class:`${b}-btn ${b}-btn-text ${b}-btn-current-month`,onClick:()=>j("month")},[B(t,A)]);return n=typeof n=="boolean"?n:e,createVNode("div",{class:[`${b}-calendar ${b}-calendar-panel-date`,{[`${b}-calendar-week-mode`]:e}]},[createVNode(TableHeader$1,{type:"date",calendar:t,onUpdateCalendar:l},{default:()=>[w?[le,Q]:[Q,le]]}),createVNode("div",{class:`${b}-calendar-content`},[createVNode("table",{class:`${b}-table ${b}-table-date`},[createVNode("thead",null,[createVNode("tr",null,[n&&createVNode("th",{class:`${b}-week-number-header`},null),R.map(Se=>createVNode("th",{key:Se},[Se]))])]),createVNode("tbody",null,[P.map((Se,ve)=>createVNode("tr",{key:ve,class:[`${b}-date-row`,{[`${b}-active-week`]:o(Se)}]},[n&&createVNode("td",{class:`${b}-week-number`,"data-index":`${ve},0`,onClick:Y},[createVNode("div",null,[S(Se[0])])]),Se.map((fe,Ne)=>createVNode("td",{key:Ne,class:["cell",s(fe)],title:B(fe,r),"data-index":`${ve},${Ne}`,onClick:Y,onMouseenter:ae,onMouseleave:me},[createVNode("div",null,[fe.getDate()])]))]))])])])])}function TableMonth({calendar:t,getCellClasses:e,onSelect:n,onUpdateCalendar:r,onUpdatePanel:o}){const s=usePrefixClass(),a=useLocale().value,c=a.months||a.formatLocale.monthsShort,l=f=>createDate(t.getFullYear(),f),u=f=>{const S=f.currentTarget.getAttribute("data-month");n(l(parseInt(S,10)))};return createVNode("div",{class:`${s}-calendar ${s}-calendar-panel-month`},[createVNode(TableHeader$1,{type:"month",calendar:t,onUpdateCalendar:r},{default:()=>[createVNode("button",{type:"button",class:`${s}-btn ${s}-btn-text ${s}-btn-current-year`,onClick:()=>o("year")},[t.getFullYear()])]}),createVNode("div",{class:`${s}-calendar-content`},[createVNode("table",{class:`${s}-table ${s}-table-month`},[chunk(c,3).map((f,b)=>createVNode("tr",{key:b},[f.map((S,v)=>{const g=b*3+v;return createVNode("td",{key:v,class:["cell",e(l(g))],"data-month":g,onClick:u},[createVNode("div",null,[S])])})]))])])])}const getDefaultYears=t=>{const e=Math.floor(t.getFullYear()/10)*10,n=[];for(let r=0;r<10;r++)n.push(e+r);return chunk(n,2)};function TableYear({calendar:t,getCellClasses:e=()=>[],getYearPanel:n=getDefaultYears,onSelect:r,onUpdateCalendar:o}){const s=usePrefixClass(),a=b=>createDate(b,0),c=b=>{const v=b.currentTarget.getAttribute("data-year");r(a(parseInt(v,10)))},l=n(new Date(t)),u=l[0][0],f=last(last(l));return createVNode("div",{class:`${s}-calendar ${s}-calendar-panel-year`},[createVNode(TableHeader$1,{type:"year",calendar:t,onUpdateCalendar:o},{default:()=>[createVNode("span",null,[u]),createVNode("span",{class:`${s}-calendar-decade-separator`},null),createVNode("span",null,[f])]}),createVNode("div",{class:`${s}-calendar-content`},[createVNode("table",{class:`${s}-table ${s}-table-year`},[l.map((b,S)=>createVNode("tr",{key:S},[b.map((v,g)=>createVNode("td",{key:g,class:["cell",e(a(v))],"data-year":v,onClick:c},[createVNode("div",null,[v])]))]))])])])}function Calendar(t){const e=withDefault(t,{defaultValue:startOfDay(new Date),type:"date",disabledDate:()=>!1,getClasses:()=>[],titleFormat:"YYYY-MM-DD"}),n=computed(()=>(Array.isArray(e.value)?e.value:[e.value]).filter(isValidDate).map(O=>e.type==="year"?startOfYear(O):e.type==="month"?startOfMonth(O):startOfDay(O))),r=ref(new Date);watchEffect(()=>{let T=e.calendar;if(!isValidDate(T)){const{length:O}=n.value;T=getValidDate(O>0?n.value[O-1]:e.defaultValue)}r.value=startOfMonth(T)});const o=T=>{var O;r.value=T,(O=e.onCalendarChange)==null||O.call(e,T)},s=ref("date");watchEffect(()=>{const T=["date","month","year"],O=Math.max(T.indexOf(e.type),T.indexOf(e.defaultPanel));s.value=O!==-1?T[O]:"date"});const a=T=>{var O;const R=s.value;s.value=T,(O=e.onPanelChange)==null||O.call(e,T,R)},c=T=>e.disabledDate(new Date(T),n.value),l=(T,O)=>{var R,k,V;if(!c(T))if((R=e.onPick)==null||R.call(e,T),e.multiple===!0){const P=n.value.filter(B=>B.getTime()!==T.getTime());P.length===n.value.length&&P.push(T),(k=e["onUpdate:value"])==null||k.call(e,P,O)}else(V=e["onUpdate:value"])==null||V.call(e,T,O)},u=T=>{l(T,e.type==="week"?"week":"date")},f=T=>{if(e.type==="year")l(T,"year");else if(o(T),a("month"),e.partialUpdate&&n.value.length===1){const O=setYear(n.value[0],T.getFullYear());l(O,"year")}},b=T=>{if(e.type==="month")l(T,"month");else if(o(T),a("date"),e.partialUpdate&&n.value.length===1){const O=setMonth(setYear(n.value[0],T.getFullYear()),T.getMonth());l(O,"month")}},S=(T,O=[])=>(c(T)?O.push("disabled"):n.value.some(R=>R.getTime()===T.getTime())&&O.push("active"),O.concat(e.getClasses(T,n.value,O.join(" ")))),v=T=>{const O=T.getMonth()!==r.value.getMonth(),R=[];return T.getTime()===new Date().setHours(0,0,0,0)&&R.push("today"),O&&R.push("not-current-month"),S(T,R)},g=T=>e.type!=="month"?r.value.getMonth()===T.getMonth()?"active":"":S(T),w=T=>e.type!=="year"?r.value.getFullYear()===T.getFullYear()?"active":"":S(T),A=T=>{if(e.type!=="week")return!1;const O=T[0].getTime(),R=T[6].getTime();return n.value.some(k=>{const V=k.getTime();return V>=O&&V<=R})};return()=>s.value==="year"?createVNode(TableYear,{calendar:r.value,getCellClasses:w,getYearPanel:e.getYearPanel,onSelect:f,onUpdateCalendar:o},null):s.value==="month"?createVNode(TableMonth,{calendar:r.value,getCellClasses:g,onSelect:b,onUpdatePanel:a,onUpdateCalendar:o},null):createVNode(TableDate,{isWeekMode:e.type==="week",showWeekNumber:e.showWeekNumber,titleFormat:e.titleFormat,calendar:r.value,getCellClasses:v,getWeekActive:A,onSelect:u,onUpdatePanel:a,onUpdateCalendar:o,onDateMouseEnter:e.onDateMouseEnter,onDateMouseLeave:e.onDateMouseLeave},null)}const calendarProps=keys$1()(["type","value","defaultValue","defaultPanel","disabledDate","getClasses","calendar","multiple","partialUpdate","showWeekNumber","titleFormat","getYearPanel","onDateMouseEnter","onDateMouseLeave","onCalendarChange","onPanelChange","onUpdate:value","onPick"]);var Calendar$1=defineVueComponent(Calendar,calendarProps);const inRange=(t,e)=>{const n=t.getTime();let[r,o]=e.map(s=>s.getTime());return r>o&&([r,o]=[o,r]),n>r&&n<o};function CalendarRange(t){const e=withDefault(t,{defaultValue:new Date,type:"date"}),n=usePrefixClass(),r=computed(()=>{let A=Array.isArray(e.defaultValue)?e.defaultValue:[e.defaultValue,e.defaultValue];return A=A.map(T=>startOfDay(T)),isValidRangeDate(A)?A:[new Date,new Date].map(T=>startOfDay(T))}),o=ref([new Date(NaN),new Date(NaN)]);watchEffect(()=>{isValidRangeDate(e.value)&&(o.value=e.value)});const s=(A,T)=>{var O;const[R,k]=o.value;isValidDate(R)&&!isValidDate(k)?(R.getTime()>A.getTime()?o.value=[A,R]:o.value=[R,A],(O=e["onUpdate:value"])==null||O.call(e,o.value,T)):o.value=[A,new Date(NaN)]},a=ref([new Date,new Date]),c=computed(()=>isValidRangeDate(e.calendar)?e.calendar:a.value),l=computed(()=>e.type==="year"?10*12:e.type==="month"?1*12:1),u=(A,T)=>{var O;const R=diffCalendarMonths(A[0],A[1]),k=l.value-R;if(k>0){const V=T===1?0:1;A[V]=setMonth(A[V],P=>P+(V===0?-k:k))}a.value=A,(O=e.onCalendarChange)==null||O.call(e,A,T)},f=A=>{u([A,c.value[1]],0)},b=A=>{u([c.value[0],A],1)};watchEffect(()=>{const A=isValidRangeDate(e.value)?e.value:r.value;u(A.slice(0,2))});const S=ref(null),v=A=>S.value=A,g=()=>S.value=null,w=(A,T,O)=>{const R=e.getClasses?e.getClasses(A,T,O):[],k=Array.isArray(R)?R:[R];return/disabled|active/.test(O)?k:(T.length===2&&inRange(A,T)&&k.push("in-range"),T.length===1&&S.value&&inRange(A,[T[0],S.value])?k.concat("hover-in-range"):k)};return()=>{const A=c.value.map((T,O)=>{const R=__spreadProps(__spreadValues({},e),{calendar:T,value:o.value,defaultValue:r.value[O],getClasses:w,partialUpdate:!1,multiple:!1,["onUpdate:value"]:s,onCalendarChange:O===0?f:b,onDateMouseLeave:g,onDateMouseEnter:v});return createVNode(Calendar$1,R,null)});return createVNode("div",{class:`${n}-calendar-range`},[A])}}const calendarRangeProps=calendarProps;var CalendarRange$1=defineVueComponent(CalendarRange,calendarRangeProps);const ScrollbarVertical=defineComponent({setup(t,{slots:e}){const n=usePrefixClass(),r=ref(),o=ref(""),s=ref("");onMounted(()=>{if(!r.value)return;const g=r.value,w=g.clientHeight*100/g.scrollHeight;o.value=w<100?`${w}%`:""});const c=getScrollbarWidth(),l=g=>{const w=g.currentTarget,{scrollHeight:A,scrollTop:T}=w;s.value=`${T*100/A}%`};let u=!1,f=0;const b=g=>{g.stopImmediatePropagation();const w=g.currentTarget,{offsetTop:A}=w;u=!0,f=g.clientY-A},S=g=>{if(!u||!r.value)return;const{clientY:w}=g,{scrollHeight:A,clientHeight:T}=r.value,R=(w-f)*A/T;r.value.scrollTop=R},v=()=>{u=!1};return onMounted(()=>{document.addEventListener("mousemove",S),document.addEventListener("mouseup",v)}),onUnmounted(()=>{document.addEventListener("mousemove",S),document.addEventListener("mouseup",v)}),()=>{var g;return createVNode("div",{class:`${n}-scrollbar`,style:{position:"relative",overflow:"hidden"}},[createVNode("div",{ref:r,class:`${n}-scrollbar-wrap`,style:{marginRight:`-${c}px`},onScroll:l},[(g=e.default)==null?void 0:g.call(e)]),createVNode("div",{class:`${n}-scrollbar-track`},[createVNode("div",{class:`${n}-scrollbar-thumb`,style:{height:o.value,top:s.value},onMousedown:b},null)])])}}});function Columns({options:t,getClasses:e,onSelect:n}){const r=usePrefixClass(),o=s=>{const a=s.target,c=s.currentTarget;if(a.tagName.toUpperCase()!=="LI")return;const l=c.getAttribute("data-type"),u=parseInt(c.getAttribute("data-index"),10),f=parseInt(a.getAttribute("data-index"),10),b=t[u].list[f].value;n(b,l)};return createVNode("div",{class:`${r}-time-columns`},[t.map((s,a)=>createVNode(ScrollbarVertical,{key:s.type,class:`${r}-time-column`},{default:()=>[createVNode("ul",{class:`${r}-time-list`,"data-index":a,"data-type":s.type,onClick:o},[s.list.map((c,l)=>createVNode("li",{key:c.text,"data-index":l,class:[`${r}-time-item`,e(c.value,s.type)]},[c.text]))])]}))])}function _isSlot(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}function FixedList(t){let e;const n=usePrefixClass();return createVNode(ScrollbarVertical,null,_isSlot(e=t.options.map(r=>createVNode("div",{key:r.text,class:[`${n}-time-option`,t.getClasses(r.value,"time")],onClick:()=>t.onSelect(r.value,"time")},[r.text])))?e:{default:()=>[e]})}function generateList({length:t,step:e=1,options:n}){if(Array.isArray(n))return n.filter(o=>o>=0&&o<t);e<=0&&(e=1);const r=[];for(let o=0;o<t;o+=e)r.push(o);return r}function getColumnOptions(t,e){let{showHour:n,showMinute:r,showSecond:o,use12h:s}=e;const a=e.format||"HH:mm:ss";n=typeof n=="boolean"?n:/[HhKk]/.test(a),r=typeof r=="boolean"?r:/m/.test(a),o=typeof o=="boolean"?o:/s/.test(a),s=typeof s=="boolean"?s:/a/i.test(a);const c=[],l=s&&t.getHours()>=12;return n&&c.push({type:"hour",list:generateList({length:s?12:24,step:e.hourStep,options:e.hourOptions}).map(u=>{const f=u===0&&s?"12":padNumber(u),b=new Date(t);return b.setHours(l?u+12:u),{value:b,text:f}})}),r&&c.push({type:"minute",list:generateList({length:60,step:e.minuteStep,options:e.minuteOptions}).map(u=>{const f=new Date(t);return f.setMinutes(u),{value:f,text:padNumber(u)}})}),o&&c.push({type:"second",list:generateList({length:60,step:e.secondStep,options:e.secondOptions}).map(u=>{const f=new Date(t);return f.setSeconds(u),{value:f,text:padNumber(u)}})}),s&&c.push({type:"ampm",list:["AM","PM"].map((u,f)=>{const b=new Date(t);return b.setHours(b.getHours()%12+f*12),{text:u,value:b}})}),c}function parseOption(t=""){const e=t.split(":");if(e.length>=2){const n=parseInt(e[0],10),r=parseInt(e[1],10);return{hours:n,minutes:r}}return null}function getFixedOptions({date:t,option:e,format:n,formatDate:r}){const o=[];if(typeof e=="function")return e()||[];const s=parseOption(e.start),a=parseOption(e.end),c=parseOption(e.step),l=e.format||n;if(s&&a&&c){const u=s.minutes+s.hours*60,f=a.minutes+a.hours*60,b=c.minutes+c.hours*60,S=Math.floor((f-u)/b);for(let v=0;v<=S;v++){const g=u+v*b,w=Math.floor(g/60),A=g%60,T=new Date(t);T.setHours(w,A,0),o.push({value:T,text:r(T,l)})}}return o}const scrollTo=(t,e,n=0)=>{if(n<=0){requestAnimationFrame(()=>{t.scrollTop=e});return}const o=(e-t.scrollTop)/n*10;requestAnimationFrame(()=>{const s=t.scrollTop+o;if(s>=e){t.scrollTop=e;return}t.scrollTop=s,scrollTo(t,e,n-10)})};function TimePanel(t){const e=withDefault(t,{defaultValue:startOfDay(new Date),format:"HH:mm:ss",timeTitleFormat:"YYYY-MM-DD",disabledTime:()=>!1,scrollDuration:100}),n=usePrefixClass(),r=useLocale(),o=(w,A)=>format(w,A,{locale:r.value.formatLocale}),s=ref(new Date);watchEffect(()=>{s.value=getValidDate(e.value,e.defaultValue)});const a=w=>Array.isArray(w)?w.every(A=>e.disabledTime(new Date(A))):e.disabledTime(new Date(w)),c=w=>{const A=new Date(w);return a([A.getTime(),A.setMinutes(0,0,0),A.setMinutes(59,59,999)])},l=w=>{const A=new Date(w);return a([A.getTime(),A.setSeconds(0,0),A.setSeconds(59,999)])},u=w=>{const A=new Date(w),T=A.getHours()<12?0:12,O=T+11;return a([A.getTime(),A.setHours(T,0,0,0),A.setHours(O,59,59,999)])},f=(w,A)=>A==="hour"?c(w):A==="minute"?l(w):A==="ampm"?u(w):a(w),b=(w,A)=>{var T;if(!f(w,A)){const O=new Date(w);s.value=O,a(O)||(T=e["onUpdate:value"])==null||T.call(e,O,A)}},S=(w,A)=>f(w,A)?"disabled":w.getTime()===s.value.getTime()?"active":"",v=ref(),g=w=>{if(!v.value)return;const A=v.value.querySelectorAll(".active");for(let T=0;T<A.length;T++){const O=A[T],R=getScrollParent(O,v.value);if(R){const k=O.offsetTop;scrollTo(R,k,w)}}};return onMounted(()=>g(0)),watch(s,()=>g(e.scrollDuration),{flush:"post"}),()=>{let w;return e.timePickerOptions?w=createVNode(FixedList,{onSelect:b,getClasses:S,options:getFixedOptions({date:s.value,format:e.format,option:e.timePickerOptions,formatDate:o})},null):w=createVNode(Columns,{options:getColumnOptions(s.value,e),onSelect:b,getClasses:S},null),createVNode("div",{class:`${n}-time`,ref:v},[e.showTimeHeader&&createVNode("div",{class:`${n}-time-header`},[createVNode("button",{type:"button",class:`${n}-btn ${n}-btn-text ${n}-time-header-title`,onClick:e.onClickTitle},[o(s.value,e.timeTitleFormat)])]),createVNode("div",{class:`${n}-time-content`},[w])])}}const timePanelProps=keys$1()(["value","defaultValue","format","timeTitleFormat","showTimeHeader","disabledTime","timePickerOptions","hourOptions","minuteOptions","secondOptions","hourStep","minuteStep","secondStep","showHour","showMinute","showSecond","use12h","scrollDuration","onClickTitle","onUpdate:value"]);var TimePanel$1=defineVueComponent(TimePanel,timePanelProps);function TimeRange(t){const e=withDefault(t,{defaultValue:startOfDay(new Date),disabledTime:()=>!1}),n=usePrefixClass(),r=ref([new Date(NaN),new Date(NaN)]);watchEffect(()=>{isValidRangeDate(e.value)?r.value=e.value:r.value=[new Date(NaN),new Date(NaN)]});const o=(u,f)=>{var b;(b=e["onUpdate:value"])==null||b.call(e,r.value,u==="time"?"time-range":u,f)},s=(u,f)=>{r.value[0]=u,r.value[1].getTime()>=u.getTime()||(r.value[1]=u),o(f,0)},a=(u,f)=>{r.value[1]=u,r.value[0].getTime()<=u.getTime()||(r.value[0]=u),o(f,1)},c=u=>e.disabledTime(u,0),l=u=>u.getTime()<r.value[0].getTime()||e.disabledTime(u,1);return()=>{const u=Array.isArray(e.defaultValue)?e.defaultValue:[e.defaultValue,e.defaultValue];return createVNode("div",{class:`${n}-time-range`},[createVNode(TimePanel$1,__spreadProps(__spreadValues({},e),{["onUpdate:value"]:s,value:r.value[0],defaultValue:u[0],disabledTime:c}),null),createVNode(TimePanel$1,__spreadProps(__spreadValues({},e),{["onUpdate:value"]:a,value:r.value[1],defaultValue:u[1],disabledTime:l}),null)])}}const timeRangeProps=timePanelProps;var TimeRange$1=defineVueComponent(TimeRange,timeRangeProps);function useTimePanelVisible(t){const e=ref(!1),n=()=>{var s;e.value=!1,(s=t.onShowTimePanelChange)==null||s.call(t,!1)},r=()=>{var s;e.value=!0,(s=t.onShowTimePanelChange)==null||s.call(t,!0)};return{timeVisible:computed(()=>typeof t.showTimePanel=="boolean"?t.showTimePanel:e.value),openTimePanel:r,closeTimePanel:n}}function DateTime(t){const e=withDefault(t,{disabledTime:()=>!1,defaultValue:startOfDay(new Date)}),n=ref(e.value);watchEffect(()=>{n.value=e.value});const{openTimePanel:r,closeTimePanel:o,timeVisible:s}=useTimePanelVisible(e),a=(c,l)=>{var u;l==="date"&&r();let f=assignTime(c,getValidDate(e.value,e.defaultValue));if(e.disabledTime(new Date(f))&&(f=assignTime(c,e.defaultValue),e.disabledTime(new Date(f)))){n.value=f;return}(u=e["onUpdate:value"])==null||u.call(e,f,l)};return()=>{const c=usePrefixClass(),l=__spreadProps(__spreadValues({},pick(e,calendarProps)),{multiple:!1,type:"date",value:n.value,["onUpdate:value"]:a}),u=__spreadProps(__spreadValues({},pick(e,timePanelProps)),{showTimeHeader:!0,value:n.value,["onUpdate:value"]:e["onUpdate:value"],onClickTitle:o});return createVNode("div",{class:`${c}-date-time`},[createVNode(Calendar$1,l,null),s.value&&createVNode(TimePanel$1,u,null)])}}const datetimeBaseProps=keys$1()(["showTimePanel","onShowTimePanelChange"]),datetimeProps=[...datetimeBaseProps,...calendarProps,...timePanelProps];var DateTime$1=defineVueComponent(DateTime,datetimeProps);function DateTimeRange(t){const e=withDefault(t,{defaultValue:startOfDay(new Date),disabledTime:()=>!1}),n=ref(e.value);watchEffect(()=>{n.value=e.value});const{openTimePanel:r,closeTimePanel:o,timeVisible:s}=useTimePanelVisible(e),a=(c,l)=>{var u;l==="date"&&r();const f=Array.isArray(e.defaultValue)?e.defaultValue:[e.defaultValue,e.defaultValue];let b=c.map((S,v)=>{const g=isValidRangeDate(e.value)?e.value[v]:f[v];return assignTime(S,g)});if(b[1].getTime()<b[0].getTime()&&(b=[b[0],b[0]]),b.some(e.disabledTime)&&(b=c.map((S,v)=>assignTime(S,f[v])),b.some(e.disabledTime))){n.value=b;return}(u=e["onUpdate:value"])==null||u.call(e,b,l)};return()=>{const c=usePrefixClass(),l=__spreadProps(__spreadValues({},pick(e,calendarRangeProps)),{type:"date",value:n.value,["onUpdate:value"]:a}),u=__spreadProps(__spreadValues({},pick(e,timeRangeProps)),{showTimeHeader:!0,value:n.value,["onUpdate:value"]:e["onUpdate:value"],onClickTitle:o});return createVNode("div",{class:`${c}-date-time-range`},[createVNode(CalendarRange$1,l,null),s.value&&createVNode(TimeRange$1,u,null)])}}const datetimeRangeProps=[...datetimeBaseProps,...timeRangeProps,...calendarRangeProps];var DateTimeRange$1=defineVueComponent(DateTimeRange,datetimeRangeProps);const booleanKeys=keys$1()(["range","open","appendToBody","clearable","confirm","disabled","editable","multiple","partialUpdate","showHour","showMinute","showSecond","showTimeHeader","showTimePanel","showWeekNumber","use12h"]),formatMap={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"YYYY-MM",time:"HH:mm:ss",week:"w"};function DatePicker(t,{slots:e}){const n=t.type||"date",r=t.format||formatMap[n]||formatMap.date,o=__spreadProps(__spreadValues({},resolveProps(t,booleanKeys)),{type:n,format:r});return createVNode(Picker$1,pick(o,Picker$1.props),__spreadValues({content:s=>{if(o.range){const a=n==="time"?TimeRange$1:n==="datetime"?DateTimeRange$1:CalendarRange$1;return h(a,pick(__spreadValues(__spreadValues({},o),s),a.props))}else{const a=n==="time"?TimePanel$1:n==="datetime"?DateTime$1:Calendar$1;return h(a,pick(__spreadValues(__spreadValues({},o),s),a.props))}},["icon-calendar"]:()=>createVNode(n==="time"?render$3:render$2,null,null)},e))}const api={locale,install:t=>{t.component("DatePicker",DatePicker)}};var index$1=Object.assign(DatePicker,api,{Calendar:Calendar$1,CalendarRange:CalendarRange$1,TimePanel:TimePanel$1,TimeRange:TimeRange$1,DateTime:DateTime$1,DateTimeRange:DateTimeRange$1});const index="",_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},_sfc_main$5={components:{DatePicker:index$1},props:["dataVeche","numeCampDb","zileNelucratoare","tip","valueType","format","latime","notBeforeDate","notAfterDate","doarZiuaA","doarZiuaB","minuteStep","hours","range"],computed:{latimePrelucrata(){if(this.tip==="time")return{width:"80px"};if(this.tip==="date")return{width:"150px"};if(this.tip==="datetime")return{width:"180px"}}},name:"ControlOpen",data(){return{time:null,dataNoua:"",langObject:{formatLocale:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],monthsShort:["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],weekdays:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],weekdaysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],weekdaysMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],firstDayOfWeek:1,firstWeekContainsDate:7}}}},methods:{notDates(t){},captureDataExpirare(){this.time&&this.$emit("trimitere_data_expirare",this.time)},sendDataToParent(){this.time&&this.$emit("trimitere_data_catre_parinte",this.time)}},created(){if(this.dataVeche!=null&&this.dataVeche!=="")if(this.dataVeche.includes(",")){var t=[];t[0]=this.dataVeche.substring(0,this.dataVeche.indexOf(",")),t[1]=this.dataVeche.slice(this.dataVeche.indexOf(",")+1),this.time=t}else this.time=this.dataVeche;this.sendDataToParent()},updated(){this.captureDataExpirare(),this.sendDataToParent()}},_hoisted_1$4=["name"];function _sfc_render$5(t,e,n,r,o,s){const a=resolveComponent("date-picker",!0);return openBlock(),createElementBlock("div",null,[withDirectives(createBaseVNode("input",{type:"text",name:n.numeCampDb,"onUpdate:modelValue":e[0]||(e[0]=c=>o.time=c)},null,8,_hoisted_1$4),[[vModelText,o.time],[vShow,!1]]),createVNode(a,{value:o.time,"onUpdate:value":e[1]||(e[1]=c=>o.time=c),type:n.tip,"value-type":n.valueType,format:n.format,"minute-step":n.minuteStep,"hour-options":n.hours,editable:!0,"disabled-date":s.notDates,style:normalizeStyle(n.latime),lang:o.langObject,range:n.range},null,8,["value","type","value-type","format","minute-step","hour-options","disabled-date","style","lang","range"])])}const VueDatepickerNext=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]);function OrderedMap(t){this.content=t}OrderedMap.prototype={constructor:OrderedMap,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),s=r.content.slice();return o==-1?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new OrderedMap(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new OrderedMap(n)},addToStart:function(t,e){return new OrderedMap([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new OrderedMap(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),s=r.find(t);return o.splice(s==-1?o.length:s,0,e,n),new OrderedMap(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=OrderedMap.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new OrderedMap(e)};function findDiffStart(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let a=0;o.text[a]==s.text[a];a++)n++;return n}if(o.content.size||s.content.size){let a=findDiffStart(o.content,s.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function findDiffEnd(t,e,n,r){for(let o=t.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let a=t.child(--o),c=e.child(--s),l=a.nodeSize;if(a==c){n-=l,r-=l;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let u=0,f=Math.min(a.text.length,c.text.length);for(;u<f&&a.text[a.text.length-u-1]==c.text[c.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let u=findDiffEnd(a.content,c.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Fragment{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,s){for(let a=0,c=0;c<n;a++){let l=this.content[a],u=c+l.nodeSize;if(u>e&&r(l,o+c,s||null,a)!==!1&&l.content.size){let f=c+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,o+f)}c=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let s="",a=!0;return this.nodesBetween(e,n,(c,l)=>{let u=c.isText?c.text.slice(Math.max(e,l)-l,n-l):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&u||c.isTextblock)&&r&&(a?a=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new Fragment(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let s=0,a=0;a<n;s++){let c=this.content[s],l=a+c.nodeSize;l>e&&((a<e||l>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),o+=c.nodeSize),a=l}return new Fragment(r,o)}cutByIndex(e,n){return e==n?Fragment.empty:e==0&&n==this.content.length?this:new Fragment(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new Fragment(o,s)}addToStart(e){return new Fragment([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fragment(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return findDiffStart(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return findDiffEnd(this,e,n,r)}findIndex(e,n=-1){if(e==0)return retIndex(0,e);if(e==this.size)return retIndex(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),a=o+s.nodeSize;if(a>=e)return a==e||n>0?retIndex(r+1,a):retIndex(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Fragment.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fragment.empty;let n,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(n||(n=e.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Fragment(n||e,r)}static from(e){if(!e)return Fragment.empty;if(e instanceof Fragment)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fragment([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(t,e){return found.index=t,found.offset=e,found}function compareDeep(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!compareDeep(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!compareDeep(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Mark$1=class Ea{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ea.none;if(e instanceof Ea)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=insertInto(this.content,e+this.openStart,n);return r&&new Slice(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Slice(removeRange(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Slice.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new Slice(e,r,o)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(t,e,n){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(o==e||s.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(removeRange(s.content,e-o-1,n-o-1)))}function insertInto(t,e,n,r){let{index:o,offset:s}=t.findIndex(e),a=t.maybeChild(o);if(s==e||a.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=insertInto(a.content,e-s-1,n);return c&&t.replaceChild(o,a.copy(c))}function replace(t,e,n){if(n.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,e,n,0)}function replaceOuter(t,e,n,r){let o=t.index(r),s=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let a=replaceOuter(t,e,n,r+1);return s.copy(s.content.replaceChild(o,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return close(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=prepareSliceForReplace(n,t);return close(s,replaceThreeWay(t,a,c,e,r))}else return close(s,replaceTwoWay(t,e,r))}function checkJoin(t,e){if(!e.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+e.type.name+" onto "+t.type.name)}function joinable$1(t,e,n){let r=t.node(n);return checkJoin(r,e.node(n)),r}function addNode(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function addRange(t,e,n,r){let o=(e||t).node(n),s=0,a=e?e.index(n):o.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(addNode(t.nodeAfter,r),s++));for(let c=s;c<a;c++)addNode(o.child(c),r);e&&e.depth==n&&e.textOffset&&addNode(e.nodeBefore,r)}function close(t,e){return t.type.checkContent(e),t.copy(e)}function replaceThreeWay(t,e,n,r,o){let s=t.depth>o&&joinable$1(t,e,o+1),a=r.depth>o&&joinable$1(n,r,o+1),c=[];return addRange(null,t,o,c),s&&a&&e.index(o)==n.index(o)?(checkJoin(s,a),addNode(close(s,replaceThreeWay(t,e,n,r,o+1)),c)):(s&&addNode(close(s,replaceTwoWay(t,e,o+1)),c),addRange(e,n,o,c),a&&addNode(close(a,replaceTwoWay(n,r,o+1)),c)),addRange(r,null,o,c),new Fragment(c)}function replaceTwoWay(t,e,n){let r=[];if(addRange(null,t,n,r),t.depth>n){let o=joinable$1(t,e,n+1);addNode(close(o,replaceTwoWay(t,e,n+1)),r)}return addRange(e,null,n,r),new Fragment(r)}function prepareSliceForReplace(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)o=e.node(s).copy(Fragment.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class ResolvedPos{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Mark$1.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let c=r;r=o,o=c}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new NodeRange(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let a=e;;){let{index:c,offset:l}=a.content.findIndex(s),u=s-l;if(r.push(a,c,o+l),!u||(a=a.child(c),a.isText))break;s=u-1,o+=l+1}return new ResolvedPos(n,r,s)}static resolveCached(e,n){let r=resolveCache.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else resolveCache.set(e,r=new ResolveCache);let o=r.elts[r.i]=ResolvedPos.resolve(e,n);return r.i=(r.i+1)%resolveCacheSize,o}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$2=class ba{constructor(e,n,r,o=Mark$1.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&compareDeep(this.attrs,n||e.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,r||Mark$1.none)}copy(e=null){return e==this.content?this:new ba(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ba(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Slice.empty;let o=this.resolve(e),s=this.resolve(n),a=r?0:o.sharedDepth(n),c=o.start(a),u=o.node(a).content.cut(o.pos-c,s.pos-c);return new Slice(u,o.depth-a,s.depth-a)}replace(e,n,r){return replace(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return ResolvedPos.resolveCached(this,e)}resolveNoCache(e){return ResolvedPos.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Fragment.empty,o=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,s),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mark$1.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Mark$1.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=Fragment.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};Node$2.prototype.text=void 0;class TextNode extends Node$2{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new TextNode(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new TextNode(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wrapMarks(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ContentMatch{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new TokenStream(e,n);if(r.next==null)return ContentMatch.empty;let o=parseExpr(r);r.next&&r.err("Unexpected trailing text");let s=dfa(nfa(o));return checkForDeadEnds(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function s(a,c){let l=a.matchFragment(e,r);if(l&&(!n||l.validEnd))return Fragment.from(c.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:f,next:b}=a.next[u];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(b)==-1){o.push(b);let S=s(b,c.concat(f));if(S)return S}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let a=[];for(let c=o;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:c,next:l}=s.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!o.type||l.validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(t){let e=[];do e.push(parseExprSeq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function parseExprSeq(t){let e=[];do e.push(parseExprSubscript(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function parseExprSubscript(t){let e=parseExprAtom(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=parseExprRange(t,e);else break;return e}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function parseExprRange(t,e){let n=parseNum(t),r=n;return t.eat(",")&&(t.next!="}"?r=parseNum(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function resolveName(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let s in n){let a=n[s];a.isInGroup(e)&&o.push(a)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function parseExprAtom(t){if(t.eat("(")){let e=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=resolveName(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nfa(t){let e=[[]];return o(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,l){let u={term:l,to:c};return e[a].push(u),u}function o(a,c){a.forEach(l=>l.to=c)}function s(a,c){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(s(u,c)),[]);if(a.type=="seq")for(let l=0;;l++){let u=s(a.exprs[l],c);if(l==a.exprs.length-1)return u;o(u,c=n())}else if(a.type=="star"){let l=n();return r(c,l),o(s(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return o(s(a.expr,c),l),o(s(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(c)].concat(s(a.expr,c));if(a.type=="range"){let l=c;for(let u=0;u<a.min;u++){let f=n();o(s(a.expr,l),f),l=f}if(a.max==-1)o(s(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let f=n();r(l,f),o(s(a.expr,l),f),l=f}return[r(l)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function cmp(t,e){return e-t}function nullFrom(t,e){let n=[];return r(e),n.sort(cmp);function r(o){let s=t[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let a=0;a<s.length;a++){let{term:c,to:l}=s[a];!c&&n.indexOf(l)==-1&&r(l)}}}function dfa(t){let e=Object.create(null);return n(nullFrom(t,0));function n(r){let o=[];r.forEach(a=>{t[a].forEach(({term:c,to:l})=>{if(!c)return;let u;for(let f=0;f<o.length;f++)o[f][0]==c&&(u=o[f][1]);nullFrom(t,l).forEach(f=>{u||o.push([c,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[r.join(",")]=new ContentMatch(r.indexOf(t.length-1)>-1);for(let a=0;a<o.length;a++){let c=o[a][1].sort(cmp);s.next.push({type:o[a][0],next:e[c.join(",")]||n(c)})}return s}}function checkForDeadEnds(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],s=!o.validEnd,a=[];for(let c=0;c<o.next.length;c++){let{type:l,next:u}=o.next[c];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function computeAttrs(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let s=t[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function checkAttrs(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let s=t[o];s.validate&&s.validate(e[o])}}function initAttrs(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Attribute(t,r,e[r]);return n}let NodeType$1=class pc{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=initAttrs(e,r.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(e),Fragment.from(n),Mark$1.setFrom(r))}createChecked(e=null,n,r){return n=Fragment.from(n),this.checkContent(n),new Node$2(this,this.computeAttrs(e),n,Mark$1.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Fragment.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(Fragment.empty,!0);return s?new Node$2(this,e,n.append(s),Mark$1.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){checkAttrs(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Mark$1.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new pc(s,n,a));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function validateType(t,e,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Attribute{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?validateType(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=initAttrs(e,o.attrs),this.excluded=null;let s=defaultAttrs(this.attrs);this.instance=s?new Mark$1(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((s,a)=>r[s]=new MarkType(s,o++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){checkAttrs(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Schema{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=OrderedMap.from(e.nodes),n.marks=OrderedMap.from(e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],a=s.spec.content||"",c=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=ContentMatch.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=c=="_"?null:c?gatherMarks(this,c.split(" ")):c==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:gatherMarks(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof NodeType$1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new TextNode(r,r.defaultAttrs,e,Mark$1.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Node$2.fromJSON(this,e)}markFromJSON(e){return Mark$1.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function gatherMarks(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t.marks[o],a=s;if(s)n.push(s);else for(let c in t.marks){let l=t.marks[c];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function isTagRule(t){return t.tag!=null}function isStyleRule(t){return t.style!=null}let DOMParser$1=class Ca{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(isTagRule(o))this.tags.push(o);else if(isStyleRule(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new ParseContext(this,n,!1);return r.addAll(e,Mark$1.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new ParseContext(this,n,!0);return r.addAll(e,Mark$1.none,n.from,n.to),Slice.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(matches(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let a=this.styles[s],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let n=[];function r(o){let s=o.priority==null?50:o.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<s)break}n.splice(a,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(a=>{r(a=copy(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(a=>{r(a=copy(a)),a.node||a.ignore||a.mark||(a.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ca(e,Ca.schemaRules(e)))}};const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(t,e,n){return e!=null?(e?OPT_PRESERVE_WS:0)|(e==="full"?OPT_PRESERVE_WS_FULL:0):t&&t.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:n&~OPT_OPEN_LEFT}class NodeContext{constructor(e,n,r,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Mark$1.none,this.match=s||(a&OPT_OPEN_LEFT?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fragment.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&OPT_PRESERVE_WS)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=Fragment.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!blockTags.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,s,a=wsOptionsFor(null,n.preserveWhitespace,0)|(r?OPT_OPEN_LEFT:0);o?s=new NodeContext(o.type,o.attrs,Mark$1.none,!0,n.topMatch||o.type.contentMatch,a):r?s=new NodeContext(null,null,Mark$1.none,!0,null,a):s=new NodeContext(e.schema.topNodeType,null,Mark$1.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,s=o.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(o.options&OPT_PRESERVE_WS)>0;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;listTags.hasOwnProperty(a)&&this.parser.normalizeLists&&normalizeList(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(l?l.ignore:ignoreTags.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,f=this.needsBlock;if(blockTags.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let b=l&&l.skip?n:this.readStyles(e,n);b&&this.addAll(e,b),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?c:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],a=r.getPropertyValue(s);if(a)for(let c=void 0;;){let l=this.parser.matchStyle(s,a,this,c);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)c=l;else break}}return n}addElementByRule(e,n,r,o){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(c)&&this.open--}addAll(e,n,r,o){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=o==null?null:e.childNodes[o];a!=c;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n){let r,o;for(let s=this.open;s>=0;s--){let a=this.nodes[s],c=a.findWrapping(e);if(c&&(!r||r.length>c.length)&&(r=c,o=a,!c.length)||a.solid)break}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=Mark$1.none;for(let a of r.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):markMayApply(a.type,e.type))&&(s=a.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,n,r,o){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,o)),s}enterInner(e,n,r,o=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=wsOptionsFor(e,s,a.options);a.options&OPT_OPEN_LEFT&&a.content.length==0&&(c|=OPT_OPEN_LEFT);let l=Mark$1.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):markMayApply(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new NodeContext(e,n,l,o,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),a=(c,l)=>{for(;c>=0;c--){let u=n[c];if(u==""){if(c==n.length-1||c==0)continue;for(;l>=s;l--)if(a(c-1,l))return!0;return!1}else{let f=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function normalizeList(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&listTags.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function matches(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function copy(t){let e={};for(let n in t)e[n]=t[n];return e}function markMayApply(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let s=[],a=c=>{s.push(c);for(let l=0;l<c.edgeCount;l++){let{type:u,next:f}=c.edge(l);if(u==e||s.indexOf(f)<0&&a(f))return!0}};if(a(o.contentMatch))return!0}}class DOMSerializer{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=doc$1(n).createDocumentFragment());let o=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let c=0,l=0;for(;c<s.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[c][0])||u.type.spec.spanning===!1)break;c++,l++}for(;c<s.length;)o=s.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],f=this.serializeMark(u,a.isInline,n);f&&(s.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=renderSpec(doc$1(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&renderSpec(doc$1(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return renderSpec(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=gatherToDOM(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function doc$1(t){return t.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(t){let e=suspiciousAttributeCache.get(t);return e===void 0&&suspiciousAttributeCache.set(t,e=suspiciousAttributesInner(t)),e}function suspiciousAttributesInner(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function renderSpec(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=suspiciousAttributes(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(n=o.slice(0,a),o=o.slice(a+1));let c,l=n?t.createElementNS(n,o):t.createElement(o),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let b in u)if(u[b]!=null){let S=b.indexOf(" ");S>0?l.setAttributeNS(b.slice(0,S),b.slice(S+1),u[b]):l.setAttribute(b,u[b])}}for(let b=f;b<e.length;b++){let S=e[b];if(S===0){if(b<e.length-1||b>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:g}=renderSpec(t,S,n,r);if(l.appendChild(v),g){if(c)throw new RangeError("Multiple content holes");c=g}}}return{dom:l,contentDOM:c}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(t,e){return t+e*factor16}function recoverIndex(t){return t&lower16}function recoverOffset(t){return(t-(t&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&StepMap.empty)return StepMap.empty}recover(e){let n=0,r=recoverIndex(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+recoverOffset(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let l=this.ranges[c]-(this.inverted?o:0);if(l>e)break;let u=this.ranges[c+s],f=this.ranges[c+a],b=l+u;if(e<=b){let S=u?e==l?-1:e==b?1:n:n,v=l+o+(S<0?0:f);if(r)return v;let g=e==(n<0?l:b)?null:makeRecover(c/3,e-l),w=e==l?DEL_AFTER:e==b?DEL_BEFORE:DEL_ACROSS;return(n<0?e!=l:e!=b)&&(w|=DEL_SIDE),new MapResult(v,w,g)}o+=f-u}return r?e+o:new MapResult(e+o,0,null)}touches(e,n){let r=0,o=recoverIndex(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let l=this.ranges[c]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[c+s],f=l+u;if(e<=f&&c==o*3)return!0;r+=this.ranges[c+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?s:0),l=a+(this.inverted?0:s),u=this.ranges[o+n],f=this.ranges[o+r];e(c,c+u,l,l+f),s+=f-u}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?StepMap.empty:new StepMap(e<0?[0,-e,0]:[0,0,e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(e=[],n,r=0,o=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=o}slice(e=0,n=this.maps.length){return new Mapping(this.maps,this.mirror,e,n)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new Mapping;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],c=a.mapResult(e,n);if(c.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(c.recover);continue}}o|=c.delInfo,e=c.pos}return r?e:new MapResult(e,o,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=stepsByID[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+e);return stepsByID[e]=n,n.prototype.jsonID=e,n}}class StepResult{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new StepResult(e,null)}static fail(e){return new StepResult(null,e)}static fromReplace(e,n,r,o){try{return StepResult.ok(e.replace(n,r,o))}catch(s){if(s instanceof ReplaceError)return StepResult.fail(s.message);throw s}}}function mapFragment(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let s=t.child(o);s.content.size&&(s=s.copy(mapFragment(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return Fragment.fromArray(r)}class AddMarkStep extends Step{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new Slice(mapFragment(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),n.openStart,n.openEnd);return StepResult.fromReplace(e,this.from,this.to,s)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new AddMarkStep(n.pos,r.pos,this.mark)}merge(e){return e instanceof AddMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AddMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(n.from,n.to,e.markFromJSON(n.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Slice(mapFragment(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return StepResult.fromReplace(e,this.from,this.to,r)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new RemoveMarkStep(n.pos,r.pos,this.mark)}merge(e){return e instanceof RemoveMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RemoveMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(n.from,n.to,e.markFromJSON(n.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return StepResult.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new AddNodeMarkStep(this.pos,n.marks[o]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new AddNodeMarkStep(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(n.pos,e.markFromJSON(n.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return StepResult.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new RemoveNodeMarkStep(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(n.pos,e.markFromJSON(n.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(e){return new ReplaceStep(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ReplaceStep(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ReplaceStep)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ReplaceStep(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Slice.empty:new Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ReplaceStep(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(n.from,n.to,Slice.fromJSON(e,n.slice),!!n.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(e,n,r,o,s,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=a,this.structure=c}apply(e){if(this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return StepResult.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?StepResult.fromReplace(e,this.from,this.to,r):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new ReplaceAroundStep(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(n.from,n.to,n.gapFrom,n.gapTo,Slice.fromJSON(e,n.slice),n.insert,!!n.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(t,e,n){let r=t.resolve(e),o=n-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function addMark(t,e,n,r){let o=[],s=[],a,c;t.doc.nodesBetween(e,n,(l,u,f)=>{if(!l.isInline)return;let b=l.marks;if(!r.isInSet(b)&&f.type.allowsMarkType(r.type)){let S=Math.max(u,e),v=Math.min(u+l.nodeSize,n),g=r.addToSet(b);for(let w=0;w<b.length;w++)b[w].isInSet(g)||(a&&a.to==S&&a.mark.eq(b[w])?a.to=v:o.push(a=new RemoveMarkStep(S,v,b[w])));c&&c.to==S?c.to=v:s.push(c=new AddMarkStep(S,v,r))}}),o.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function removeMark(t,e,n,r){let o=[],s=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;s++;let l=null;if(r instanceof MarkType){let u=a.marks,f;for(;f=r.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(c+a.nodeSize,n);for(let f=0;f<l.length;f++){let b=l[f],S;for(let v=0;v<o.length;v++){let g=o[v];g.step==s-1&&b.eq(o[v].style)&&(S=g)}S?(S.to=u,S.step=s):o.push({style:b,from:Math.max(c,e),to:u,step:s})}}}),o.forEach(a=>t.step(new RemoveMarkStep(a.from,a.to,a.style)))}function clearIncompatible(t,e,n,r=n.contentMatch,o=!0){let s=t.doc.nodeAt(e),a=[],c=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),f=c+u.nodeSize,b=r.matchType(u.type);if(!b)a.push(new ReplaceStep(c,f,Slice.empty));else{r=b;for(let S=0;S<u.marks.length;S++)n.allowsMarkType(u.marks[S].type)||t.step(new RemoveMarkStep(c,f,u.marks[S]));if(o&&u.isText&&n.whitespace!="pre"){let S,v=/\r?\n|\r/g,g;for(;S=v.exec(u.text);)g||(g=new Slice(Fragment.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new ReplaceStep(c+S.index,c+S.index+S[0].length,g))}}c=f}if(!r.validEnd){let l=r.fillBefore(Fragment.empty,!0);t.replace(c,c,new Slice(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function canCut(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function liftTarget(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(s,a,n))return r;if(r==0||o.type.spec.isolating||!canCut(o,s,a))break}return null}function lift$2(t,e,n){let{$from:r,$to:o,depth:s}=e,a=r.before(s+1),c=o.after(s+1),l=a,u=c,f=Fragment.empty,b=0;for(let g=s,w=!1;g>n;g--)w||r.index(g)>0?(w=!0,f=Fragment.from(r.node(g).copy(f)),b++):l--;let S=Fragment.empty,v=0;for(let g=s,w=!1;g>n;g--)w||o.after(g+1)<o.end(g)?(w=!0,S=Fragment.from(o.node(g).copy(S)),v++):u++;t.step(new ReplaceAroundStep(l,u,a,c,new Slice(f.append(S),b,v),f.size-b,!0))}function findWrapping(t,e,n=null,r=t){let o=findWrappingOutside(t,e),s=o&&findWrappingInside(r,e);return s?o.map(withAttrs).concat({type:e,attrs:n}).concat(s.map(withAttrs)):null}function withAttrs(t){return{type:t,attrs:null}}function findWrappingOutside(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,o,a)?s:null}function findWrappingInside(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;l&&u<o;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:a}function wrap(t,e,n){let r=Fragment.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fragment.from(n[a].type.create(n[a].attrs,r))}let o=e.start,s=e.end;t.step(new ReplaceAroundStep(o,s,o,s,new Slice(r,0,0),n.length,!0))}function setBlockType$1(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let l=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,l)&&canChangeType(t.doc,t.mapping.slice(s).map(c),r)){let u=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!g?u=!1:!v&&g&&(u=!0)}u===!1&&replaceLinebreaks(t,a,c,s),clearIncompatible(t,t.mapping.slice(s).map(c,1),r,void 0,u===null);let f=t.mapping.slice(s),b=f.map(c,1),S=f.map(c+a.nodeSize,1);return t.step(new ReplaceAroundStep(b,S,b+1,S-1,new Slice(Fragment.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&replaceNewlines(t,a,c,s),!1}})}function replaceNewlines(t,e,n,r){e.forEach((o,s)=>{if(o.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(o.text);){let l=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(t,e,n,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function canChangeType(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function setNodeMarkup(t,e,n,r,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ReplaceAroundStep(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Slice(Fragment.from(a),0,0),1,!0))}function canSplit(t,e,n=1,r){let o=t.resolve(e),s=o.depth-n,a=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,f=n-2;u>s;u--,f--){let b=o.node(u),S=o.index(u);if(b.type.spec.isolating)return!1;let v=b.content.cutByIndex(S,b.childCount),g=r&&r[f+1];g&&(v=v.replaceChild(0,g.type.create(g.attrs)));let w=r&&r[f]||b;if(!b.canReplace(S+1,b.childCount)||!w.type.validContent(v))return!1}let c=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(c,c,l?l.type:o.node(s+1).type)}function split(t,e,n=1,r){let o=t.doc.resolve(e),s=Fragment.empty,a=Fragment.empty;for(let c=o.depth,l=o.depth-n,u=n-1;c>l;c--,u--){s=Fragment.from(o.node(c).copy(s));let f=r&&r[u];a=Fragment.from(f?f.type.create(f.attrs,a):o.node(c).copy(a))}t.step(new ReplaceStep(e,e,new Slice(s.append(a),n,n),!0))}function canJoin(t,e){let n=t.resolve(e),r=n.index();return joinable(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function canAppendWithSubstitutedLinebreaks(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function joinable(t,e){return!!(t&&e&&!t.isLeaf&&canAppendWithSubstitutedLinebreaks(t,e))}function joinPoint(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let s,a,c=r.index(o);if(o==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(s=r.node(o).maybeChild(c-1),a=r.node(o+1)),s&&!s.isTextblock&&joinable(s,a)&&r.node(o).canReplace(c,c+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function join(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(o&&a.inlineContent){let f=a.whitespace=="pre",b=!!a.contentMatch.matchType(o);f&&!b?r=!1:!f&&b&&(r=!0)}let c=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);replaceLinebreaks(t,f.node(),f.before(),c)}a.inlineContent&&clearIncompatible(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(c),u=l.map(e-n);if(t.step(new ReplaceStep(u,l.map(e+n,-1),Slice.empty,!0)),r===!0){let f=t.doc.resolve(u);replaceNewlines(t,f.node(),f.before(),t.steps.length)}return t}function insertPoint(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function dropPoint(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(c>0?1:0),u=r.node(a),f=!1;if(s==1)f=u.canReplace(l,l,o);else{let b=u.contentMatchAt(l).findWrapping(o.firstChild.type);f=b&&u.canReplaceWith(l,l,b[0])}if(f)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function replaceStep(t,e,n=e,r=Slice.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),s=t.resolve(n);return fitsTrivially(o,s,r)?new ReplaceStep(e,n,r):new Fitter(o,s,r).fit()}function fitsTrivially(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Fitter{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fragment.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=Fragment.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,a=r.depth,c=o.depth;for(;a&&c&&s.childCount==1;)s=s.firstChild.content,a--,c--;let l=new Slice(s,a,c);return e>-1?new ReplaceAroundStep(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ReplaceStep(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=contentAt(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let a=o.firstChild;for(let c=this.depth;c>=0;c--){let{type:l,match:u}=this.frontier[c],f,b=null;if(n==1&&(a?u.matchType(a.type)||(b=u.fillBefore(Fragment.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:c,parent:s,inject:b};if(n==2&&a&&(f=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=contentAt(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Slice(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=contentAt(e,n);if(o.childCount<=1&&n>0){let s=e.size-n<=n+o.size;this.unplaced=new Slice(dropFromFragment(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Slice(dropFromFragment(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let a=this.unplaced,c=r?r.content:a.content,l=a.openStart-e,u=0,f=[],{match:b,type:S}=this.frontier[n];if(o){for(let w=0;w<o.childCount;w++)f.push(o.child(w));b=b.matchFragment(o)}let v=c.size+e-(a.content.size-a.openEnd);for(;u<c.childCount;){let w=c.child(u),A=b.matchType(w.type);if(!A)break;u++,(u>1||l==0||w.content.size)&&(b=A,f.push(closeNodeStart(w.mark(S.allowedMarks(w.marks)),u==1?l:0,u==c.childCount?v:-1)))}let g=u==c.childCount;g||(v=-1),this.placed=addToFragment(this.placed,n,Fragment.from(f)),this.frontier[n].match=b,g&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,A=c;w<v;w++){let T=A.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),A=T.content}this.unplaced=g?e==0?Slice.empty:new Slice(dropFromFragment(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Slice(dropFromFragment(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=contentAfterFits(e,n,o,r,s);if(a){for(let c=n-1;c>=0;c--){let{match:l,type:u}=this.frontier[c],f=contentAfterFits(e,c,u,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=addToFragment(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fragment.empty,!0);n.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,n))}}function dropFromFragment(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,e-1,n)))}function addToFragment(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,e-1,n)))}function contentAt(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function closeNodeStart(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,closeNodeStart(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Fragment.empty,!0)))),t.copy(r)}function contentAfterFits(t,e,n,r,o){let s=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,a);return c&&!invalidMarks(n,s.content,a)?c:null}function invalidMarks(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function definesContent(t){return t.spec.defining||t.spec.definingForContent}function replaceRange(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(fitsTrivially(o,s,r))return t.step(new ReplaceStep(e,n,r));let a=coveredDepths(o,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let S=o.depth,v=o.pos-1;S>0;S--,v--){let g=o.node(S).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;a.indexOf(S)>-1?c=S:o.before(S)==v&&a.splice(1,0,-S)}let l=a.indexOf(c),u=[],f=r.openStart;for(let S=r.content,v=0;;v++){let g=S.firstChild;if(u.push(g),v==r.openStart)break;S=g.content}for(let S=f-1;S>=0;S--){let v=u[S],g=definesContent(v.type);if(g&&!v.sameMarkup(o.node(Math.abs(c)-1)))f=S;else if(g||!v.type.isTextblock)break}for(let S=r.openStart;S>=0;S--){let v=(S+f+1)%(r.openStart+1),g=u[v];if(g)for(let w=0;w<a.length;w++){let A=a[(w+l)%a.length],T=!0;A<0&&(T=!1,A=-A);let O=o.node(A-1),R=o.index(A-1);if(O.canReplaceWith(R,R,g.type,g.marks))return t.replace(o.before(A),T?s.after(A):n,new Slice(closeFragment(r.content,0,r.openStart,v),v,r.openEnd))}}let b=t.steps.length;for(let S=a.length-1;S>=0&&(t.replace(e,n,r),!(t.steps.length>b));S--){let v=a[S];v<0||(e=o.before(v),n=s.after(v))}}function closeFragment(t,e,n,r,o){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(closeFragment(s.content,e+1,n,r,s)))}if(e>r){let s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(Fragment.empty,!0))}return t}function replaceRangeWith(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=insertPoint(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new Slice(Fragment.from(r),0,0))}function deleteRange$1(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),s=coveredDepths(r,o);for(let a=0;a<s.length;a++){let c=s[a],l=a==s.length-1;if(l&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),o.end(c));if(c>0&&(l||r.node(c-1).canReplace(r.index(c-1),o.indexAfter(c-1))))return t.delete(r.before(c),o.after(c))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&o.end(a)-n!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function coveredDepths(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let s=t.start(o);if(s<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&n.push(o)}return n}class AttrStep extends Step{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return StepResult.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(o),0,n.isLeaf?0:1))}getMap(){return StepMap.empty}invert(e){return new AttrStep(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new AttrStep(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(n.pos,n.attr,n.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return StepResult.ok(r)}getMap(){return StepMap.empty}invert(e){return new DocAttrStep(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(n.attr,n.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new TransformError(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Slice.empty){let o=replaceStep(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new Slice(Fragment.from(r),0,0))}delete(e,n){return this.replace(e,n,Slice.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return replaceRange(this,e,n,r),this}replaceRangeWith(e,n,r){return replaceRangeWith(this,e,n,r),this}deleteRange(e,n){return deleteRange$1(this,e,n),this}lift(e,n){return lift$2(this,e,n),this}join(e,n=1){return join(this,e,n),this}wrap(e,n){return wrap(this,e,n),this}setBlockType(e,n=e,r,o=null){return setBlockType$1(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return setNodeMarkup(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new AttrStep(e,n,r)),this}setDocAttribute(e,n){return this.step(new DocAttrStep(e,n)),this}addNodeMark(e,n){return this.step(new AddNodeMarkStep(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Mark$1)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new RemoveNodeMarkStep(e,n)),this}split(e,n=1,r){return split(this,e,n,r),this}addMark(e,n,r){return addMark(this,e,n,r),this}removeMark(e,n,r){return removeMark(this,e,n,r),this}clearIncompatible(e,n,r){return clearIncompatible(this,e,n,r),this}}const classesById=Object.create(null);class Selection{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new SelectionRange(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Slice.empty){let r=n.content.lastChild,o=null;for(let c=0;c<n.openEnd;c++)o=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:l,$to:u}=a[c],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(u.pos),c?Slice.empty:n),c==0&&selectionToInsertionEnd$1(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:c}=o[s],l=e.mapping.slice(r),u=l.map(a.pos),f=l.map(c.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,n),selectionToInsertionEnd$1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new TextSelection(e):findSelectionIn(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let a=n<0?findSelectionIn(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):findSelectionIn(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new AllSelection(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new AllSelection(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new AllSelection(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=classesById[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+e);return classesById[e]=n,n.prototype.jsonID=e,n}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(e,n){this.$from=e,this.$to=n}}let warnedAboutTextSelection=!1;function checkTextSelection(t){!warnedAboutTextSelection&&!t.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class TextSelection extends Selection{constructor(e,n=e){checkTextSelection(e),checkTextSelection(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Selection.near(r);let o=e.resolve(n.map(this.anchor));return new TextSelection(o.parent.inlineContent?o:r,r)}replace(e,n=Slice.empty){if(super.replace(e,n),n==Slice.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof TextSelection&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=Selection.findFrom(n,r,!0)||Selection.findFrom(n,-r,!0);if(s)n=s.$head;else return Selection.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(Selection.findFrom(e,-r,!0)||Selection.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new TextSelection(e,n)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(e,n){this.anchor=e,this.head=n}map(e){return new TextBookmark(e.map(this.anchor),e.map(this.head))}resolve(e){return TextSelection.between(e.resolve(this.anchor),e.resolve(this.head))}}class NodeSelection extends Selection{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=e.resolve(o);return r?Selection.near(s):new NodeSelection(s)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(e){return e instanceof NodeSelection&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(e.resolve(n.anchor))}static create(e,n){return new NodeSelection(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new TextBookmark(r,r):new NodeBookmark(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&NodeSelection.isSelectable(r)?new NodeSelection(n):Selection.near(n)}}class AllSelection extends Selection{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Slice.empty){if(n==Slice.empty){e.delete(0,e.doc.content.size);let r=Selection.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new AllSelection(e)}map(e){return new AllSelection(e)}eq(e){return e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(t){return new AllSelection(t)}};function findSelectionIn(t,e,n,r,o,s=!1){if(e.inlineContent)return TextSelection.create(t,n);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let c=e.child(a);if(c.isAtom){if(!s&&NodeSelection.isSelectable(c))return NodeSelection.create(t,n-(o<0?c.nodeSize:0))}else{let l=findSelectionIn(t,c,n+o,o<0?c.childCount:0,o,s);if(l)return l}n+=c.nodeSize*o}return null}function selectionToInsertionEnd$1(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;let s=t.mapping.maps[r],a;s.forEach((c,l,u,f)=>{a==null&&(a=f)}),t.setSelection(Selection.near(t.doc.resolve(a),n))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=UPDATED_MARKS,this}ensureMarks(e){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Mark$1.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,s)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(t,e){return!e||!t?t:t.bind(e)}class FieldDesc{constructor(e,n,r){this.name=e,this.init=bind(n.init,r),this.apply=bind(n.apply,r)}}const baseFields=[new FieldDesc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new FieldDesc("selection",{init(t,e){return t.selection||Selection.atStart(e.doc)},apply(t){return t.selection}}),new FieldDesc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Configuration{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new FieldDesc(r.key,r.spec.state,r))})}}class EditorState{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let l=o?o[a].n:0,u=o?o[a].state:this,f=l<n.length&&c.spec.appendTransaction.call(c,l?n.slice(l):n,u,r);if(f&&r.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(let b=0;b<this.config.plugins.length;b++)o.push(b<a?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}o&&(o[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new EditorState(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Transaction(this)}static create(e){let n=new Configuration(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new EditorState(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new Configuration(this.schema,e.plugins),r=n.fields,o=new EditorState(n);for(let s=0;s<r.length;s++){let a=r[s].name;o[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Configuration(e.schema,e.plugins),s=new EditorState(o);return o.fields.forEach(a=>{if(a.name=="doc")s.doc=Node$2.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Selection.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let l=r[c],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){s[a.name]=u.fromJSON.call(l,e,n[c],s);return}}s[a.name]=a.init(e,s)}}),s}}function bindProps(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=bindProps(o,e,{})),n[r]=o}return n}class Plugin{constructor(e){this.spec=e,this.props={},e.props&&bindProps(e.props,this,this.props),this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}const keys=Object.create(null);function createKey(t){return t in keys?t+"$"+ ++keys[t]:(keys[t]=0,t+"$")}class PluginKey{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const domIndex=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},parentNode=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let reusedRange=null;const textRange=function(t,e,n){let r=reusedRange||(reusedRange=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(t,e,n,r){return n&&(scanFor(t,e,n,r,-1)||scanFor(t,e,n,r,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:nodeSize(t))){let s=t.parentNode;if(!s||s.nodeType!=1||hasBlockDesc(t)||atomElements.test(t.nodeName)||t.contentEditable=="false")return!1;e=domIndex(t)+(o<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?nodeSize(t):0}else return!1}}function nodeSize(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function textNodeBefore$1(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=nodeSize(t)}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t),t=t.parentNode;else return null}}function textNodeAfter$1(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t)+1,t=t.parentNode;else return null}}function isOnEdge(t,e,n){for(let r=e==0,o=e==nodeSize(t);r||o;){if(t==n)return!0;let s=domIndex(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,o=o&&s==nodeSize(t)}}function hasBlockDesc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const selectionCollapsed=function(t){return t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function keyEvent(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function deepActiveElement(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function caretFromPoint(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(nodeSize(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(nodeSize(r.startContainer),r.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function getSide(t,e){return typeof t=="number"?t:t[e]}function clientRect(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function scrollRectIntoView(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;a=parentNode(a)){if(a.nodeType!=1)continue;let c=a,l=c==s.body,u=l?windowRect(s):clientRect(c),f=0,b=0;if(e.top<u.top+getSide(r,"top")?b=-(u.top-e.top+getSide(o,"top")):e.bottom>u.bottom-getSide(r,"bottom")&&(b=e.bottom-e.top>u.bottom-u.top?e.top+getSide(o,"top")-u.top:e.bottom-u.bottom+getSide(o,"bottom")),e.left<u.left+getSide(r,"left")?f=-(u.left-e.left+getSide(o,"left")):e.right>u.right-getSide(r,"right")&&(f=e.right-u.right+getSide(o,"right")),f||b)if(l)s.defaultView.scrollBy(f,b);else{let S=c.scrollLeft,v=c.scrollTop;b&&(c.scrollTop+=b),f&&(c.scrollLeft+=f);let g=c.scrollLeft-S,w=c.scrollTop-v;e={left:e.left-g,top:e.top-w,right:e.right-g,bottom:e.bottom-w}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function storeScrollPos(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(s,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let l=c.getBoundingClientRect();if(l.top>=n-20){r=c,o=l.top;break}}return{refDOM:r,refTop:o,stack:scrollStack(t.dom)}}function scrollStack(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=parentNode(r));return e}function resetScrollPos({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;restoreScrollStack(n,r==0?0:r-e)}function restoreScrollStack(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:s}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let preventScrollSupported=null;function focusPreventScroll(t){if(t.setActive)return t.setActive();if(preventScrollSupported)return t.focus(preventScrollSupported);let e=scrollStack(t);t.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(e,0))}function findOffsetInNode(t,e){let n,r=2e8,o,s=0,a=e.top,c=e.top,l,u;for(let f=t.firstChild,b=0;f;f=f.nextSibling,b++){let S;if(f.nodeType==1)S=f.getClientRects();else if(f.nodeType==3)S=textRange(f).getClientRects();else continue;for(let v=0;v<S.length;v++){let g=S[v];if(g.top<=a&&g.bottom>=c){a=Math.max(g.bottom,a),c=Math.min(g.top,c);let w=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(w<r){n=f,r=w,o=w&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,f.nodeType==1&&w&&(s=b+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=f,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=b+1)}}return!n&&l&&(n=l,o=u,r=0),n&&n.nodeType==3?findOffsetInText(n,o):!n||r&&n.nodeType==1?{node:t,offset:s}:findOffsetInNode(n,o)}function findOffsetInText(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=singleRect(r,1);if(s.top!=s.bottom&&inRect(e,s))return{node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function inRect(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function targetKludge(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function posFromElement(t,e,n){let{node:r,offset:o}=findOffsetInNode(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,o,s)}function posFromCaret(t,e,n,r){let o=-1;for(let s=e,a=!1;s!=t.dom;){let c=t.docView.nearestDesc(s,!0),l;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((l=c.dom.getBoundingClientRect()).width||l.height)&&(c.node.isBlock&&c.parent&&(!a&&l.left>r.left||l.top>r.top?o=c.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(o=c.posAfter),a=!0),!c.contentDOM&&o<0&&!c.node.isText))return(c.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?c.posBefore:c.posAfter;s=c.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function elementFromPoint(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let a=t.childNodes[s];if(a.nodeType==1){let c=a.getClientRects();for(let l=0;l<c.length;l++){let u=c[l];if(inRect(e,u))return elementFromPoint(a,e,u)}}if((s=(s+1)%r)==o)break}return t}function posAtCoords(t,e){let n=t.dom.ownerDocument,r,o=0,s=caretFromPoint(n,e.left,e.top);s&&({node:r,offset:o}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!inRect(e,u)||(a=elementFromPoint(t.dom,e,u),!a))return null}if(safari)for(let u=a;r&&u;u=parentNode(u))u.draggable&&(r=void 0);if(a=targetKludge(a,e),r){if(gecko&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let f=r.childNodes[o],b;f.nodeName=="IMG"&&(b=f.getBoundingClientRect()).right<=e.left&&b.bottom>e.top&&o++}let u;webkit&&o&&r.nodeType==1&&(u=r.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(c=posFromCaret(t,r,o,e))}c==null&&(c=posFromElement(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:c,inside:l?l.posAtStart-l.border:-1}}function nonZero(t){return t.top<t.bottom||t.left<t.right}function singleRect(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(nonZero(r))return r}return Array.prototype.find.call(n,nonZero)||t.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,e,n){let{node:r,offset:o,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=webkit||gecko;if(r.nodeType==3)if(a&&(BIDI.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=singleRect(textRange(r,o,o),n);if(gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=singleRect(textRange(r,o-1,o-1),-1);if(u.top==l.top){let f=singleRect(textRange(r,o,o+1),-1);if(f.top!=l.top)return flattenV(f,f.left<u.left)}}return l}else{let l=o,u=o,f=n<0?1:-1;return n<0&&!o?(u++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:u++,flattenV(singleRect(textRange(r,l,u),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==nodeSize(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return flattenH(l.getBoundingClientRect(),!1)}if(s==null&&o<nodeSize(r)){let l=r.childNodes[o];if(l.nodeType==1)return flattenH(l.getBoundingClientRect(),!0)}return flattenH(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==nodeSize(r))){let l=r.childNodes[o-1],u=l.nodeType==3?textRange(l,nodeSize(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return flattenV(singleRect(u,1),!1)}if(s==null&&o<nodeSize(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?textRange(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return flattenV(singleRect(u,-1),!0)}return flattenV(singleRect(r.nodeType==3?textRange(r):r,-n),n>=0)}function flattenV(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function flattenH(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function withFlushedState(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function endOfTextblockVertical(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return withFlushedState(t,e,()=>{let{node:s}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.contentDOM||c.dom;break}s=c.dom.parentNode}let a=coordsAtPos(t,o.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let l;if(c.nodeType==1)l=c.getClientRects();else if(c.nodeType==3)l=textRange(c,0,c.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(n=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,a=o==r.parent.content.size,c=t.domSelection();return c?!maybeRTL.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?s:a:withFlushedState(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:b}=t.domSelectionRange(),S=c.caretBidiLevel;c.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:w}=t.domSelectionRange(),A=g&&!v.contains(g.nodeType==1?g:g.parentNode)||l==g&&u==w;try{c.collapse(f,b),l&&(l!=f||u!=b)&&c.extend&&c.extend(l,u)}catch{}return S!=null&&(c.caretBidiLevel=S),A}):r.pos==r.start()||r.pos==r.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(t,e,n){return cachedState==e&&cachedDir==n?cachedResult:(cachedState=e,cachedDir=n,cachedResult=n=="up"||n=="down"?endOfTextblockVertical(t,e,n):endOfTextblockHorizontal(t,e,n))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=NOT_DIRTY,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],c=s+a.size;if(c>e||a instanceof TrailingHackViewDesc){o=e-s;break}s=c}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof WidgetViewDesc&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?domIndex(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?domIndex(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let a=r,c=0;;c++){let l=this.children[c],u=a+l.size;if(o==-1&&e<=u){let f=a+l.border;if(e>=f&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=a;for(let b=c;b>0;b--){let S=this.children[b-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){o=domIndex(S.dom)+1;break}e-=S.size}o==-1&&(o=0)}if(o>-1&&(u>n||c==this.children.length-1)){n=u;for(let f=c+1;f<this.children.length;f++){let b=this.children[f];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(-1)){s=domIndex(b.dom);break}n+=b.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,g=0;v<this.children.length;v++){let w=this.children[v],A=g+w.size;if(s>g&&a<A)return w.setSelection(e-g-w.border,n-g-w.border,r,o);g=A}let c=this.domFromPos(e,e?-1:1),l=n==e?c:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),b=!1;if((gecko||safari)&&e==n){let{node:v,offset:g}=c;if(v.nodeType==3){if(b=!!(g&&v.nodeValue[g-1]==`
`),b&&g==v.nodeValue.length)for(let w=v,A;w;w=w.parentNode){if(A=w.nextSibling){A.nodeName=="BR"&&(c=l={node:A.parentNode,offset:domIndex(A)+1});break}let T=w.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let w=v.childNodes[g-1];b=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(gecko&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||b&&safari)&&isEquivalentPosition(c.node,c.offset,f.anchorNode,f.anchorOffset)&&isEquivalentPosition(l.node,l.offset,f.focusNode,f.focusOffset))return;let S=!1;if((u.extend||e==n)&&!b){u.collapse(c.node,c.offset);try{e!=n&&u.extend(l.node,l.offset),S=!0}catch{}}if(!S){if(e>n){let g=c;c=l,l=g}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(c.node,c.offset),u.removeAllRanges(),u.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+s.border,l=a-s.border;if(e>=c&&n<=l){this.dirty=e==r||n==a?CONTENT_DIRTY:CHILD_DIRTY,e==c&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=NODE_DIRTY:s.markDirty(e-c,n-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?CONTENT_DIRTY:NODE_DIRTY}r=a}this.dirty=CONTENT_DIRTY}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?CONTENT_DIRTY:CHILD_DIRTY;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class WidgetViewDesc extends ViewDesc{constructor(e,n,r,o){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==NOT_DIRTY&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(e,n,r,o,s){super(e,[],r,o),this.mark=n,this.spec=s}static create(e,n,r,o){let s=o.nodeViews[n.type.name],a=s&&s(n,o,r);return(!a||!a.dom)&&(a=DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new MarkViewDesc(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=NODE_DIRTY&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=NOT_DIRTY){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(e,n,r){let o=MarkViewDesc.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=replaceNodes(s,n,a,r)),e>0&&(s=replaceNodes(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(e,n,r,o,s,a,c,l,u){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=c}static create(e,n,r,o,s,a){let c=s.nodeViews[n.type.name],l,u=c&&c(n,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,o),f=u&&u.dom,b=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:b}=DOMSerializer.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!b&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let S=f;return f=applyOuterDeco(f,r,n),u?l=new CustomNodeViewDesc(e,n,r,o,f,b||null,S,u,s,a+1):n.isText?new TextViewDesc(e,n,r,o,f,S,s):new NodeViewDesc(e,n,r,o,f,b||null,S,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fragment.empty)}return e}matchesNode(e,n,r){return this.dirty==NOT_DIRTY&&e.eq(this.node)&&sameOuterDeco(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,c=s&&s.pos<0,l=new ViewTreeUpdater(this,a&&a.node,e);iterDeco(this.node,this.innerDeco,(u,f,b)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!b&&l.syncToMarks(f==this.node.childCount?Mark$1.none:this.node.child(f).marks,r,e),l.placeWidget(u,e,o)},(u,f,b,S)=>{l.syncToMarks(u.marks,r,e);let v;l.findNodeMatch(u,f,b,S)||c&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(v=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,f,b,v,e)||l.updateNextNode(u,f,b,e,S,o)||l.addNode(u,f,b,e,o),o+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==CONTENT_DIRTY)&&(a&&this.protectLocalComposition(e,a),renderDescs(this.contentDOM,this.children,e),ios&&iosHacks(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof TextSelection)||r<n||o>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,c=findTextInFragment(this.node.content,a,r-n,o-n);return c<0?null:{node:s,pos:c,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new CompositionViewDesc(this,s,n,o);e.input.compositionNodes.push(a),this.children=replaceNodes(this.children,r,r+o.length,e,a)}update(e,n,r,o){return this.dirty==NODE_DIRTY||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(e){if(sameOuterDeco(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,n),computeOuterDeco(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(t,e,n,r,o){applyOuterDeco(r,e,t);let s=new NodeViewDesc(void 0,t,e,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class TextViewDesc extends NodeViewDesc{constructor(e,n,r,o,s,a,c){super(e,n,r,o,s,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=NOT_DIRTY||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=NOT_DIRTY,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),s=document.createTextNode(o.text);return new TextViewDesc(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(e,n,r,o,s,a,c,l,u,f){super(e,n,r,o,s,a,c,u,f),this.spec=l}update(e,n,r,o){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(t,e,n){let r=t.firstChild,o=!1;for(let s=0;s<e.length;s++){let a=e[s],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=rm(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(c,r);if(a instanceof MarkViewDesc){let l=r?r.previousSibling:t.lastChild;renderDescs(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=rm(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const OuterDecoLevel=function(t){t&&(this.nodeName=t)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(t,e,n){if(t.length==0)return noDeco;let r=n?noDeco[0]:new OuterDecoLevel,o=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&o.push(r=new OuterDecoLevel(a.nodeName));for(let c in a){let l=a[c];l!=null&&(n&&o.length==1&&o.push(r=new OuterDecoLevel(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+l:c=="style"?r.style=(r.style?r.style+";":"")+l:c!="nodeName"&&(r[c]=l))}}}return o}function patchOuterDeco(t,e,n,r){if(n==noDeco&&r==noDeco)return e;let o=e;for(let s=0;s<r.length;s++){let a=r[s],c=n[s];if(s){let l;c&&c.nodeName==a.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(o),c=noDeco[0]),o=l}patchAttributes(o,c||noDeco[0],a)}return o}function patchAttributes(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.add(o[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function applyOuterDeco(t,e,n){return patchOuterDeco(t,t,noDeco,computeOuterDeco(e,n,t.nodeType!=1))}function sameOuterDeco(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function rm(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ViewTreeUpdater{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=preMatch(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){c=l;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let l=MarkViewDesc.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,o){let s=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let c=this.index,l=Math.min(this.top.children.length,c+5);c<l;c++){let u=this.top.children[c];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,o,s){let a=this.top.children[o];return a.dirty==NODE_DIRTY&&a.dom==a.contentDOM&&(a.dirty=CONTENT_DIRTY),a.update(e,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,s,a){for(let c=this.index;c<this.top.children.length;c++){let l=this.top.children[c];if(l instanceof NodeViewDesc){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let f=l.dom,b,S=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=NODE_DIRTY&&sameOuterDeco(n,l.outerDeco));if(!S&&l.update(e,n,r,o))return this.destroyBetween(this.index,c),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!S&&(b=this.recreateWrapper(l,e,n,r,o,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=b,b.contentDOM&&(b.dirty=CONTENT_DIRTY,b.updateChildren(o,a+1),b.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!sameOuterDeco(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let c=NodeViewDesc.create(this.top,n,r,o,s,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let l of c.children)l.parent=c}return e.destroy(),c}addNode(e,n,r,o,s){let a=NodeViewDesc.create(this.top,e,n,r,o,s);a.contentDOM&&a.updateChildren(o,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new WidgetViewDesc(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof MarkViewDesc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof TextViewDesc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((safari||chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new TrailingHackViewDesc(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function preMatch(t,e){let n=e,r=n.children.length,o=t.childCount,s=new Map,a=[];e:for(;o>0;){let c;for(;;)if(r){let u=n.children[r-1];if(u instanceof MarkViewDesc)n=u,r=u.children.length;else{c=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=c.node;if(l){if(l!=t.child(o-1))break;--o,s.set(c,o),a.push(c)}}return{index:o,matched:s,matches:a.reverse()}}function compareSide(t,e){return t.type.side-e.type.side}function iterDeco(t,e,n,r){let o=e.locals(t),s=0;if(o.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);r(f,o,e.forChild(s,f),u),s+=f.nodeSize}return}let a=0,c=[],l=null;for(let u=0;;){let f,b;for(;a<o.length&&o[a].to==s;){let A=o[a++];A.widget&&(f?(b||(b=[f])).push(A):f=A)}if(f)if(b){b.sort(compareSide);for(let A=0;A<b.length;A++)n(b[A],u,!!l)}else n(f,u,!!l);let S,v;if(l)v=-1,S=l,l=null;else if(u<t.childCount)v=u,S=t.child(u++);else break;for(let A=0;A<c.length;A++)c[A].to<=s&&c.splice(A--,1);for(;a<o.length&&o[a].from<=s&&o[a].to>s;)c.push(o[a++]);let g=s+S.nodeSize;if(S.isText){let A=g;a<o.length&&o[a].from<A&&(A=o[a].from);for(let T=0;T<c.length;T++)c[T].to<A&&(A=c[T].to);A<g&&(l=S.cut(A-s),S=S.cut(0,A-s),g=A,v=-1)}else for(;a<o.length&&o[a].to<g;)a++;let w=S.isInline&&!S.isLeaf?c.filter(A=>!A.inline):c.slice();r(S,w,e.forChild(s,S),v),s=g}}function iosHacks(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function findTextInFragment(t,e,n,r){for(let o=0,s=0;o<t.childCount&&s<=r;){let a=t.child(o++),c=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<t.childCount;){let u=t.child(o++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-e.length-c,r-c)==e)return r-e.length;let u=c<r?l.lastIndexOf(e,r-c-1):-1;if(u>=0&&u+e.length+c>=n)return c+u;if(n==r&&l.length>=r+e.length-c&&l.slice(r-c,r-c+e.length)==e)return r}}return-1}function replaceNodes(t,e,n,r,o){let s=[];for(let a=0,c=0;a<t.length;a++){let l=t[a],u=c,f=c+=l.size;u>=n||f<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),o&&(s.push(o),o=void 0),f>n&&s.push(l.slice(n-u,l.size,r)))}return s}function selectionFromDOM(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&o.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),l,u;if(selectionCollapsed(n)){for(l=a;o&&!o.node;)o=o.parent;let b=o.node;if(o&&b.isAtom&&NodeSelection.isSelectable(b)&&o.parent&&!(b.isInline&&isOnEdge(n.focusNode,n.focusOffset,o.dom))){let S=o.posBefore;u=new NodeSelection(a==S?c:r.resolve(S))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let b=a,S=a;for(let v=0;v<n.rangeCount;v++){let g=n.getRangeAt(v);b=Math.min(b,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),S=Math.max(S,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(b<0)return null;[l,a]=S==t.state.selection.anchor?[S,b]:[b,S],c=r.resolve(a)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!u){let b=e=="pointer"||t.state.selection.head<c.pos&&!s?1:-1;u=selectionBetween(t,f,c,b)}return u}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function selectionToDOM(t,e=!1){let n=t.state.selection;if(syncNodeSelection(t,n),!!editorOwnsSelection(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&chrome){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&isEquivalentPosition(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)selectCursorWrapper(t);else{let{anchor:r,head:o}=n,s,a;brokenSelectBetweenUneditable&&!(n instanceof TextSelection)&&(n.$from.parent.inlineContent||(s=temporarilyEditableNear(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=temporarilyEditableNear(t,n.to))),t.docView.setSelection(r,o,t,e),brokenSelectBetweenUneditable&&(s&&resetEditable(s),a&&resetEditable(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(safari&&o&&o.contentEditable=="false")return setEditable(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return setEditable(o);if(s)return setEditable(s)}}function setEditable(t){return t.contentEditable="true",safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function removeClassOnSelectionChange(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,domIndex(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&ie$1&&ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(t,e){if(e instanceof NodeSelection){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(clearNodeSelection(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else clearNodeSelection(t)}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function selectionBetween(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||TextSelection.between(e,n,r)}function hasFocusAndSelection(t){return t.editable&&!t.hasFocus()?!1:hasSelection(t)}function hasSelection(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function anchorInRightPlace(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return isEquivalentPosition(e.node,e.offset,n.anchorNode,n.anchorOffset)}function moveSelectionBlock(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&Selection.findFrom(s,e)}function apply(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function selectHorizontally(t,e,n){let r=t.state.selection;if(r instanceof TextSelection)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return apply(t,new TextSelection(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=moveSelectionBlock(t.state,e);return o&&o instanceof NodeSelection?apply(t,o):!1}else if(!(mac$2&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!s||s.isText)return!1;let c=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?NodeSelection.isSelectable(s)?apply(t,new NodeSelection(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):webkit?apply(t,new TextSelection(t.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof NodeSelection&&r.node.isInline)return apply(t,new TextSelection(e>0?r.$to:r.$from));{let o=moveSelectionBlock(t.state,e);return o?apply(t,o):!1}}}function nodeLen(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function isIgnorable(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function skipIgnoredNodes(t,e){return e<0?skipIgnoredNodesBefore(t):skipIgnoredNodesAfter(t)}function skipIgnoredNodesBefore(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,a=!1;for(gecko&&n.nodeType==1&&r<nodeLen(n)&&isIgnorable(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(isIgnorable(c,-1))o=n,s=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(isBlockNode(n))break;{let c=n.previousSibling;for(;c&&isIgnorable(c,-1);)o=n.parentNode,s=domIndex(c),c=c.previousSibling;if(c)n=c,r=nodeLen(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?setSelFocus(t,n,r):o&&setSelFocus(t,o,s)}function skipIgnoredNodesAfter(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=nodeLen(n),s,a;for(;;)if(r<o){if(n.nodeType!=1)break;let c=n.childNodes[r];if(isIgnorable(c,1))s=n,a=++r;else break}else{if(isBlockNode(n))break;{let c=n.nextSibling;for(;c&&isIgnorable(c,1);)s=c.parentNode,a=domIndex(c)+1,c=c.nextSibling;if(c)n=c,r=0,o=nodeLen(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}s&&setSelFocus(t,s,a)}function isBlockNode(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function textNodeAfter(t,e){for(;t&&e==t.childNodes.length&&!hasBlockDesc(t);)e=domIndex(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function textNodeBefore(t,e){for(;t&&!e&&!hasBlockDesc(t);)e=domIndex(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function setSelFocus(t,e,n){if(e.nodeType!=3){let s,a;(a=textNodeAfter(e,n))?(e=a,n=0):(s=textNodeBefore(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(selectionCollapsed(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&selectionToDOM(t)},50)}function findDirection(t,e){let n=t.state.doc.resolve(e);if(!(chrome||windows)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(t,e,n){let r=t.state.selection;if(r instanceof TextSelection&&!r.empty||n.indexOf("s")>-1||mac$2&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=moveSelectionBlock(t.state,e);if(a&&a instanceof NodeSelection)return apply(t,a)}if(!o.parent.inlineContent){let a=e<0?o:s,c=r instanceof AllSelection?Selection.near(a,e):Selection.findFrom(a,e);return c?apply(t,c):!1}return!1}function stopNativeHorizontalDelete(t,e){if(!(t.state.selection instanceof TextSelection))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function switchEditable(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function safariDownArrowBug(t){if(!safari||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;switchEditable(t,r,"true"),setTimeout(()=>switchEditable(t,r,"false"),20)}return!1}function getMods(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function captureKeyDown(t,e){let n=e.keyCode,r=getMods(e);if(n==8||mac$2&&n==72&&r=="c")return stopNativeHorizontalDelete(t,-1)||skipIgnoredNodes(t,-1);if(n==46&&!e.shiftKey||mac$2&&n==68&&r=="c")return stopNativeHorizontalDelete(t,1)||skipIgnoredNodes(t,1);if(n==13||n==27)return!0;if(n==37||mac$2&&n==66&&r=="c"){let o=n==37?findDirection(t,t.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(t,o,r)||skipIgnoredNodes(t,o)}else if(n==39||mac$2&&n==70&&r=="c"){let o=n==39?findDirection(t,t.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(t,o,r)||skipIgnoredNodes(t,o)}else{if(n==38||mac$2&&n==80&&r=="c")return selectVertically(t,-1,r)||skipIgnoredNodes(t,-1);if(n==40||mac$2&&n==78&&r=="c")return safariDownArrowBug(t)||selectVertically(t,1,r)||skipIgnoredNodes(t,1);if(r==(mac$2?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function serializeForClipboard(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),c=detachedDoc(),l=c.createElement("div");l.appendChild(a.serializeFragment(r,{document:c}));let u=l.firstChild,f,b=0;for(;u&&u.nodeType==1&&(f=wrapMap[u.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let g=c.createElement(f[v]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),b++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${s}${b?` -${b}`:""} ${JSON.stringify(n)}`);let S=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:S,slice:e}}function parseFromClipboard(t,e,n,r,o){let s=o.parent.type.spec.code,a,c;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",S=>{e=S(e,s||r,t)}),s)return e?new Slice(Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let b=t.someProp("clipboardTextParser",S=>S(e,o,r,t));if(b)c=b;else{let S=o.marks(),{schema:v}=t.state,g=DOMSerializer.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let A=a.appendChild(document.createElement("p"));w&&A.appendChild(g.serializeNode(v.text(w,S)))})}}else t.someProp("transformPastedHTML",b=>{n=b(n,t)}),a=readHTML(n),webkit&&restoreReplacedSpaces(a);let u=a&&a.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let b=+f[3];b>0;b--){let S=a.firstChild;for(;S&&S.nodeType!=1;)S=S.nextSibling;if(!S)break;a=S}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser$1.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||f),context:o,ruleFromNode(S){return S.nodeName=="BR"&&!S.nextSibling&&S.parentNode&&!inlineParents.test(S.parentNode.nodeName)?{ignore:!0}:null}})),f)c=addContext(closeSlice(c,+f[1],+f[2]),f[4]);else if(c=Slice.maxOpen(normalizeSiblings(c.content,o),!0),c.openStart||c.openEnd){let b=0,S=0;for(let v=c.content.firstChild;b<c.openStart&&!v.type.spec.isolating;b++,v=v.firstChild);for(let v=c.content.lastChild;S<c.openEnd&&!v.type.spec.isolating;S++,v=v.lastChild);c=closeSlice(c,b,S)}return t.someProp("transformPasted",b=>{c=b(c,t)}),c}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(c=>{if(!a)return;let l=o.findWrapping(c.type),u;if(!l)return a=null;if(u=a.length&&s.length&&addToSibling(l,s,c,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=closeRight(a[a.length-1],s.length));let f=withWrappers(c,l);a.push(f),o=o.matchType(f.type),s=l}}),a)return Fragment.from(a)}return t}function withWrappers(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Fragment.from(t));return t}function addToSibling(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=addToSibling(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(Fragment.from(withWrappers(n,t,o+1))))}}function closeRight(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Fragment.empty,!0);return t.copy(n.append(r))}function closeRange(t,e,n,r,o,s){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(s=0),o<r-1&&(c=closeRange(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function closeSlice(t,e,n){return e<t.openStart&&(t=new Slice(closeRange(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Slice(closeRange(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(t){let e=window.trustedTypes;return e?(_policy||(_policy=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),_policy.createHTML(t)):t}function readHTML(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=detachedDoc().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&wrapMap[r[1].toLowerCase()])&&(t=o.map(s=>"<"+s+">").join("")+t+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=maybeWrapTrusted(t),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function restoreReplacedSpaces(t){let e=t.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function addContext(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:s,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let l=n.nodes[r[c]];if(!l||l.hasRequiredAttrs())break;o=Fragment.from(l.create(r[c+1],o)),s++,a++}return new Slice(o,s,a)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(t){for(let e in handlers){let n=handlers[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{eventBelongsToView(t,r)&&!runCustomHandler(t,r)&&(t.editable||!(r.type in editHandlers))&&n(t,r)},passiveHandlers[e]?{passive:!0}:void 0)}safari&&t.dom.addEventListener("input",()=>null),ensureListeners(t)}function setSelectionOrigin(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function destroyInput(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ensureListeners(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>runCustomHandler(t,r))})}function runCustomHandler(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function eventBelongsToView(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function dispatchEvent(t,e){!runCustomHandler(t,e)&&handlers[e.type]&&(t.editable||!(e.type in editHandlers))&&handlers[e.type](t,e)}editHandlers.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!inOrNearComposition(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ios&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||captureKeyDown(t,n)?n.preventDefault():setSelectionOrigin(t,"key")};editHandlers.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};editHandlers.keypress=(t,e)=>{let n=e;if(inOrNearComposition(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||mac$2&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof TextSelection)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function eventCoords(t){return{left:t.clientX,top:t.clientY}}function isNear(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function runHandlerOnContext(t,e,n,r,o){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,c=>a>s.depth?c(t,n,s.nodeAfter,s.before(a),o,!0):c(t,n,s.node(a),s.before(a),o,!1)))return!0;return!1}function updateSelection(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function selectClickedLeaf(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&NodeSelection.isSelectable(r)?(updateSelection(t,new NodeSelection(n),"pointer"),!0):!1}function selectClickedNode(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof NodeSelection&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a);if(NodeSelection.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(a);break}}return o!=null?(updateSelection(t,NodeSelection.create(t.state.doc,o),"pointer"),!0):!1}function handleSingleClick(t,e,n,r,o){return runHandlerOnContext(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(o?selectClickedNode(t,n):selectClickedLeaf(t,n))}function handleDoubleClick(t,e,n,r){return runHandlerOnContext(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function handleTripleClick$1(t,e,n,r){return runHandlerOnContext(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||defaultTripleClick(t,n,r)}function defaultTripleClick(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(updateSelection(t,TextSelection.create(r,0,r.content.size),"pointer"),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s),c=o.before(s);if(a.inlineContent)updateSelection(t,TextSelection.create(r,c+1,c+1+a.content.size),"pointer");else if(NodeSelection.isSelectable(a))updateSelection(t,NodeSelection.create(r,c),"pointer");else continue;return!0}}function forceDOMFlush(t){return endComposition(t)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=forceDOMFlush(t),o=Date.now(),s="singleClick";o-t.input.lastClick.time<500&&isNear(n,t.input.lastClick)&&!n[selectNodeModifier]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s};let a=t.posAtCoords(eventCoords(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MouseDown(t,a,n,!!r)):(s=="doubleClick"?handleDoubleClick:handleTripleClick$1)(t,a.pos,a.inside,n)?n.preventDefault():setSelectionOrigin(t,"pointer"))};class MouseDown{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[selectNodeModifier],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,a=f.depth?f.before():0}const c=o?null:r.target,l=c?e.docView.nearestDesc(c,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof NodeSelection&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(eventCoords(e))),this.updateAllowDefault(e),this.allowDefault||!n?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(e){this.updateAllowDefault(e),setSelectionOrigin(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=t=>{t.input.lastTouch=Date.now(),forceDOMFlush(t),setSelectionOrigin(t,"pointer")};handlers.touchmove=t=>{t.input.lastTouch=Date.now(),setSelectionOrigin(t,"pointer")};handlers.contextmenu=t=>forceDOMFlush(t);function inOrNearComposition(t,e){return t.composing?!0:safari&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof TextSelection&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t,!e.selection.empty),gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else o=a,s=-1}}t.input.composing=!0}scheduleComposeEnd(t,timeoutComposition)};editHandlers.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,scheduleComposeEnd(t,20))};function scheduleComposeEnd(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>endComposition(t),e))}function clearComposition(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=timestampFromCustomEvent());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=textNodeBefore$1(e.focusNode,e.focusOffset),r=textNodeAfter$1(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function timestampFromCustomEvent(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function endComposition(t,e=!1){if(!(android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),e||t.docView&&t.docView.dirty){let n=selectionFromDOM(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function captureCopy(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let s=brokenClipboardAPI?null:n.clipboardData,a=r.content(),{dom:c,text:l}=serializeForClipboard(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",l)):captureCopy(t,c),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function capturePaste(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?doPaste(t,r.value,null,o,e):doPaste(t,r.textContent,r.innerHTML,o,e)},50)}function doPaste(t,e,n,r,o){let s=parseFromClipboard(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,s||Slice.empty)))return!0;if(!s)return!1;let a=sliceSingleNode(s),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}editHandlers.paste=(t,e)=>{let n=e;if(t.composing&&!android)return;let r=brokenClipboardAPI?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&doPaste(t,getText$1(r),r.getData("text/html"),o,n)?n.preventDefault():capturePaste(t,n)};class Dragging{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";handlers.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(eventCoords(n)),a;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof NodeSelection?o.to-1:o.to))){if(r&&r.mightDrag)a=NodeSelection.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let b=t.docView.nearestDesc(n.target,!0);b&&b.node.type.spec.draggable&&b!=t.docView&&(a=NodeSelection.create(t.state.doc,b.posBefore))}}let c=(a||t.state.selection).content(),{dom:l,text:u,slice:f}=serializeForClipboard(t,c);(!n.dataTransfer.files.length||!chrome||chrome_version>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||n.dataTransfer.setData("text/plain",u),t.dragging=new Dragging(f,!n[dragCopyModifier],a)};handlers.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(t,e)=>e.preventDefault();editHandlers.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(eventCoords(n));if(!o)return;let s=t.state.doc.resolve(o.pos),a=r&&r.slice;a?t.someProp("transformPasted",g=>{a=g(a,t)}):a=parseFromClipboard(t,getText$1(n.dataTransfer),brokenClipboardAPI?null:n.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&!n[dragCopyModifier]);if(t.someProp("handleDrop",g=>g(t,n,a||Slice.empty,c))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?dropPoint(t.state.doc,s.pos,a):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(c){let{node:g}=r;g?g.replace(u):u.deleteSelection()}let f=u.mapping.map(l),b=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,S=u.doc;if(b?u.replaceRangeWith(f,f,a.content.firstChild):u.replaceRange(f,f,a),u.doc.eq(S))return;let v=u.doc.resolve(f);if(b&&NodeSelection.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new NodeSelection(v));else{let g=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((w,A,T,O)=>g=O),u.setSelection(selectionBetween(t,v,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};handlers.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&selectionToDOM(t)},20))};handlers.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};handlers.beforeinput=(t,e)=>{if(chrome&&android&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,keyEvent(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in editHandlers)handlers[t]=editHandlers[t];function compareObjs(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class WidgetType{constructor(e,n){this.toDOM=e,this.spec=n||noSpec,this.side=this.spec.side||0}map(e,n,r,o){let{pos:s,deleted:a}=e.mapResult(n.from+o,this.side<0?-1:1);return a?null:new Decoration(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof WidgetType&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class InlineType{constructor(e,n){this.attrs=e,this.spec=n||noSpec}map(e,n,r,o){let s=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Decoration(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof InlineType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof InlineType}destroy(){}}class NodeType{constructor(e,n){this.attrs=e,this.spec=n||noSpec}map(e,n,r,o){let s=e.mapResult(n.from+o,1);if(s.deleted)return null;let a=e.mapResult(n.to+o,-1);return a.deleted||a.pos<=s.pos?null:new Decoration(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),s;return o==n.from&&!(s=e.child(r)).isText&&o+s.nodeSize==n.to}eq(e){return this==e||e instanceof NodeType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class Decoration{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Decoration(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Decoration(e,e,new WidgetType(n,r))}static inline(e,n,r,o){return new Decoration(e,n,new InlineType(r,o))}static node(e,n,r,o){return new Decoration(e,n,new NodeType(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(e,n){this.local=e.length?e:none,this.children=n.length?n:none}static create(e,n){return n.length?buildTree(n,e,0,noSpec):empty}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,s){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+o,c.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,o+c,s)}}map(e,n,r){return this==empty||e.maps.length==0?this:this.mapInner(e,n,0,0,r||noSpec)}mapInner(e,n,r,o,s){let a;for(let c=0;c<this.local.length;c++){let l=this.local[c].map(e,r,o);l&&l.type.valid(n,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?mapChildren(this.children,a||[],e,n,r,o,s):a?new DecorationSet(a.sort(byPos),none):empty}add(e,n){return n.length?this==empty?DecorationSet.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,s=0;e.forEach((c,l)=>{let u=l+r,f;if(f=takeSpansForNode(n,c,u)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(c,f,u+1):o.splice(s,0,l,l+c.nodeSize,buildTree(f,c,u+1,noSpec)),s+=3}});let a=moveSpans(s?withoutNulls(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new DecorationSet(a.length?this.local.concat(a).sort(byPos):this.local,o||this.children)}remove(e){return e.length==0||this==empty?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let a,c=r[s]+n,l=r[s+1]+n;for(let f=0,b;f<e.length;f++)(b=e[f])&&b.from>c&&b.to<l&&(e[f]=null,(a||(a=[])).push(b));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(a,c+1);u!=empty?r[s+2]=u:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let c=0;c<o.length;c++)o[c].eq(a,n)&&(o==this.local&&(o=this.local.slice()),o.splice(c--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new DecorationSet(o,r):empty}forChild(e,n){if(this==empty)return this;if(n.isLeaf)return DecorationSet.empty;let r,o;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,a=s+n.content.size;for(let c=0;c<this.local.length;c++){let l=this.local[c];if(l.from<a&&l.to>s&&l.type instanceof InlineType){let u=Math.max(s,l.from)-s,f=Math.min(a,l.to)-s;u<f&&(o||(o=[])).push(l.copy(u,f))}}if(o){let c=new DecorationSet(o.sort(byPos),none);return r?new DecorationGroup([c,r]):c}return r||empty}eq(e){if(this==e)return!0;if(!(e instanceof DecorationSet)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==empty)return none;if(e.inlineContent||!this.local.some(InlineType.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof InlineType||n.push(this.local[r]);return n}forEachSet(e){e(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,noSpec));return DecorationGroup.from(r)}forChild(e,n){if(n.isLeaf)return DecorationSet.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,n);s!=empty&&(s instanceof DecorationGroup?r=r.concat(s.members):r.push(s))}return DecorationGroup.from(r)}eq(e){if(!(e instanceof DecorationGroup)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?removeOverlap(r?n:n.sort(byPos)):none}static from(e){switch(e.length){case 0:return empty;case 1:return e[0];default:return new DecorationGroup(e.every(n=>n instanceof DecorationSet)?e:e.reduce((n,r)=>n.concat(r instanceof DecorationSet?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function mapChildren(t,e,n,r,o,s,a){let c=t.slice();for(let u=0,f=s;u<n.maps.length;u++){let b=0;n.maps[u].forEach((S,v,g,w)=>{let A=w-g-(v-S);for(let T=0;T<c.length;T+=3){let O=c[T+1];if(O<0||S>O+f-b)continue;let R=c[T]+f-b;v>=R?c[T+1]=S<=R?-2:-1:S>=f&&A&&(c[T]+=A,c[T+1]+=A)}b+=A}),f=n.maps[u].map(f,-1)}let l=!1;for(let u=0;u<c.length;u+=3)if(c[u+1]<0){if(c[u+1]==-2){l=!0,c[u+1]=-1;continue}let f=n.map(t[u]+s),b=f-o;if(b<0||b>=r.content.size){l=!0;continue}let S=n.map(t[u+1]+s,-1),v=S-o,{index:g,offset:w}=r.content.findIndex(b),A=r.maybeChild(g);if(A&&w==b&&w+A.nodeSize==v){let T=c[u+2].mapInner(n,A,f+1,t[u]+s+1,a);T!=empty?(c[u]=b,c[u+1]=v,c[u+2]=T):(c[u+1]=-2,l=!0)}else l=!0}if(l){let u=mapAndGatherRemainingDecorations(c,t,e,n,o,s,a),f=buildTree(u,r,0,a);e=f.local;for(let b=0;b<c.length;b+=3)c[b+1]<0&&(c.splice(b,3),b-=3);for(let b=0,S=0;b<f.children.length;b+=3){let v=f.children[b];for(;S<c.length&&c[S]<v;)S+=3;c.splice(S,0,f.children[b],f.children[b+1],f.children[b+2])}}return new DecorationSet(e.sort(byPos),c)}function moveSpans(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new Decoration(o.from+e,o.to+e,o.type))}return n}function mapAndGatherRemainingDecorations(t,e,n,r,o,s,a){function c(l,u){for(let f=0;f<l.local.length;f++){let b=l.local[f].map(r,o,u);b?n.push(b):a.onRemove&&a.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)c(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&c(t[l+2],e[l]+s+1);return n}function takeSpansForNode(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),t[s]=null);return o}function withoutNulls(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function buildTree(t,e,n,r){let o=[],s=!1;e.forEach((c,l)=>{let u=takeSpansForNode(t,c,l+n);if(u){s=!0;let f=buildTree(u,c,n+l+1,r);f!=empty&&o.push(l,l+c.nodeSize,f)}});let a=moveSpans(s?withoutNulls(t):t,-n).sort(byPos);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new DecorationSet(a,o):empty}function byPos(t,e){return t.from-e.from||t.to-e.to}function removeOverlap(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[o]=s.copy(s.from,r.to),insertAhead(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),insertAhead(e,o,r.copy(s.from,r.to)));break}}}return e}function insertAhead(t,e,n){for(;e<t.length&&byPos(n,t[e])>0;)e++;t.splice(e,0,n)}function viewDecorations(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=empty&&e.push(r)}),t.cursorWrapper&&e.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(e)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DOMObserver{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);ie$1&&ie_version<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=parentNode(s))n.add(s);for(let s=e.anchorNode;s;s=parentNode(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&hasFocusAndSelection(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,c=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let b=this.registerMutation(n[f],l);b&&(s=s<0?b.from:Math.min(b.from,s),a=a<0?b.to:Math.max(b.to,a),b.typeOver&&(c=!0))}if(gecko&&l.length){let f=l.filter(b=>b.nodeName=="BR");if(f.length==2){let[b,S]=f;b.parentNode&&b.parentNode.parentNode==S.parentNode?S.remove():b.remove()}else{let{focusNode:b}=this.currentSelection;for(let S of f){let v=S.parentNode;v&&v.nodeName=="LI"&&(!b||blockParent(e,b)!=v)&&S.remove()}}}let u=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(r)&&(u=selectionFromDOM(e))&&u.eq(Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,selectionToDOM(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,a),checkCSS(e)),this.handleDOMChange(s,a,c,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||selectionToDOM(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let b=e.addedNodes[f];n.push(b),b.nodeType==3&&(this.lastChangedTextNode=b)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(ie$1&&ie_version<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:b,nextSibling:S}=e.addedNodes[f];(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b),(!S||Array.prototype.indexOf.call(e.addedNodes,S)<0)&&(s=S)}let a=o&&o.parentNode==e.target?domIndex(o)+1:0,c=r.localPosFromDOM(e.target,a,-1),l=s&&s.parentNode==e.target?domIndex(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:c,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(t){if(!cssChecked.has(t)&&(cssChecked.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return isEquivalentPosition(a.node,a.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function safariShadowSelectionRange(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return rangeToSelectionRange(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?rangeToSelectionRange(t,n):null}function blockParent(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function parseBetween(t,e,n){let{node:r,fromOffset:o,toOffset:s,from:a,to:c}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],selectionCollapsed(l)||u.push({node:l.focusNode,offset:l.focusOffset})),chrome&&t.input.lastKeyCode===8)for(let A=s;A>o;A--){let T=r.childNodes[A-1],O=T.pmViewDesc;if(T.nodeName=="BR"&&!O){s=A;break}if(!O||O.size)break}let b=t.state.doc,S=t.someProp("domParser")||DOMParser$1.fromSchema(t.state.schema),v=b.resolve(a),g=null,w=S.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode,context:v});if(u&&u[0].pos!=null){let A=u[0].pos,T=u[1]&&u[1].pos;T==null&&(T=A),g={anchor:A+a,head:T+a}}return{doc:w,sel:g,from:a,to:c}}function ruleFromNode(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(t,e,n,r,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Y=selectionFromDOM(t,q);if(Y&&!t.state.selection.eq(Y)){if(chrome&&android&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",me=>me(t,keyEvent(13,"Enter"))))return;let ae=t.state.tr.setSelection(Y);q=="pointer"?ae.setMeta("pointer",!0):q=="key"&&ae.scrollIntoView(),s&&ae.setMeta("composition",s),t.dispatch(ae)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let l=t.state.selection,u=parseBetween(t,e,n),f=t.state.doc,b=f.slice(u.from,u.to),S,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(S=t.state.selection.to,v="end"):(S=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let g=findDiff(b.content,u.doc.content,u.from,S,v);if(g&&t.input.domChangeCount++,(ios&&t.input.lastIOSEnter>Date.now()-225||android)&&o.some(q=>q.nodeType==1&&!isInline.test(q.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",q=>q(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof TextSelection&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let q=resolveSelection(t,t.state.doc,u.sel);if(q&&!q.eq(t.state.selection)){let Y=t.state.tr.setSelection(q);s&&Y.setMeta("composition",s),t.dispatch(Y)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof TextSelection&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),ie$1&&ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let w=u.doc.resolveNoCache(g.start-u.from),A=u.doc.resolveNoCache(g.endB-u.from),T=f.resolve(g.start),O=w.sameParent(A)&&w.parent.inlineContent&&T.end()>=g.endA,R;if((ios&&t.input.lastIOSEnter>Date.now()-225&&(!O||o.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!O&&w.pos<u.doc.content.size&&!w.sameParent(A)&&(R=Selection.findFrom(u.doc.resolve(w.pos+1),1,!0))&&R.head==A.pos)&&t.someProp("handleKeyDown",q=>q(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&looksLikeBackspace(f,g.start,g.endA,w,A)&&t.someProp("handleKeyDown",q=>q(t,keyEvent(8,"Backspace")))){android&&chrome&&t.domObserver.suppressSelectionUpdates();return}chrome&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),android&&!O&&w.start()!=A.start()&&A.parentOffset==0&&w.depth==A.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,A=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(q){return q(t,keyEvent(13,"Enter"))})},20));let k=g.start,V=g.endA,P,B,j;if(O){if(w.pos==A.pos)ie$1&&ie_version<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(t),20)),P=t.state.tr.delete(k,V),B=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(j=isMarkChange(w.parent.content.cut(w.parentOffset,A.parentOffset),T.parent.content.cut(T.parentOffset,g.endA-T.start()))))P=t.state.tr,j.type=="add"?P.addMark(k,V,j.mark):P.removeMark(k,V,j.mark);else if(w.parent.child(w.index()).isText&&w.index()==A.index()-(A.textOffset?0:1)){let q=w.parent.textBetween(w.parentOffset,A.parentOffset);if(t.someProp("handleTextInput",Y=>Y(t,k,V,q)))return;P=t.state.tr.insertText(q,k,V)}}if(P||(P=t.state.tr.replace(k,V,u.doc.slice(g.start-u.from,g.endB-u.from))),u.sel){let q=resolveSelection(t,P.doc,u.sel);q&&!(chrome&&t.composing&&q.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(q.head==k||q.head==P.mapping.map(V)-1)||ie$1&&q.empty&&q.head==k)&&P.setSelection(q)}B&&P.ensureMarks(B),s&&P.setMeta("composition",s),t.dispatch(P.scrollIntoView())}function resolveSelection(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:selectionBetween(t,e.resolve(n.anchor),e.resolve(n.head))}function isMarkChange(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,s=r,a,c,l;for(let f=0;f<r.length;f++)o=r[f].removeFromSet(o);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(o.length==1&&s.length==0)c=o[0],a="add",l=f=>f.mark(c.addToSet(f.marks));else if(o.length==0&&s.length==1)c=s[0],a="remove",l=f=>f.mark(c.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(l(e.child(f)));if(Fragment.from(u).eq(t))return{mark:c,type:a}}function looksLikeBackspace(t,e,n,r,o){if(n-e<=o.pos-r.pos||skipClosingAndOpening(r,!0,!1)<o.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let c=s.nodeAfter;return c!=null&&n==e+c.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(skipClosingAndOpening(s,!0,!0));return!a.parent.isTextblock||a.pos>n||skipClosingAndOpening(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function skipClosingAndOpening(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function findDiff(t,e,n,r,o){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,s-Math.min(a,c));r-=a+l-s}if(a<s&&t.size<e.size){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&isSurrogatePair(e.textBetween(s-1,s+1))&&(s+=l?1:-1),c=s+(c-a),a=s}else if(c<s){let l=r<=s&&r>=c?s-r:0;s-=l,s&&s<t.size&&isSurrogatePair(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-c),c=s}return{start:s,endA:a,endB:c}}function isSurrogatePair(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class EditorView{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(r,o,s,a)=>readDOMChange(this,r,o,s,a)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(checkStateComponent),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(clearComposition(this),a=!0),this.state=e;let c=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=buildNodeViews(this);changedNodeViews(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let l=viewDecorations(this),u=computeDocDeco(this),f=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",b=s||!this.docView.matchesNode(e.doc,u,l);(b||!e.selection.eq(o.selection))&&(a=!0);let S=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(a){this.domObserver.stop();let v=b&&(ie$1||chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&selectionContextChanged(o.selection,e.selection);if(b){let g=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=docViewDesc(e.doc,u,l,this.dom,this)),g&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,v):(syncNodeSelection(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():S&&resetScrollPos(S)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof NodeSelection){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&scrollRectIntoView(this,n.getBoundingClientRect(),e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new Dragging(e.slice,e.move,o<0?void 0:NodeSelection.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(o=n?n(c):c))return o}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let c=s[a].props[e];if(c!=null&&(o=n?n(c):c))return o}}hasFocus(){if(ie$1){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,n=1){return coordsAtPos(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return endOfTextblock(this,n||this.state,e)}pasteHTML(e,n){return doPaste(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return doPaste(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Decoration.node(0,t.state.doc.content.size,e)]}function updateCursorWrapper(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Decoration.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",e=>e(t.state)===!1)}function selectionContextChanged(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function buildNodeViews(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function changedNodeViews(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(t){var e=mac$1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?shift:base)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const mac=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function normalizeKeyName$1(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,s,a;for(let c=0;c<e.length-1;c++){let l=e[c];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))mac?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function normalize(t){let e=Object.create(null);for(let n in t)e[normalizeKeyName$1(n)]=t[n];return e}function modifiers(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function keymap(t){return new Plugin({props:{handleKeyDown:keydownHandler(t)}})}function keydownHandler(t){let e=normalize(t);return function(n,r){let o=keyName(r),s,a=e[modifiers(o,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let c=e[modifiers(o,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=base[r.keyCode])&&s!=o){let c=e[modifiers(s,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const deleteSelection$1=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const joinBackward$1=(t,e,n)=>{let r=atBlockStart(t,n);if(!r)return!1;let o=findCutBefore(r);if(!o){let a=r.blockRange(),c=a&&liftTarget(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let s=o.nodeBefore;if(deleteBarrier(t,o,e,-1))return!0;if(r.parent.content.size==0&&(textblockAt(s,"end")||NodeSelection.isSelectable(s)))for(let a=r.depth;;a--){let c=replaceStep(t.doc,r.before(a),r.after(a),Slice.empty);if(c&&c.slice.size<c.to-c.from){if(e){let l=t.tr.step(c);l.setSelection(textblockAt(s,"end")?Selection.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):NodeSelection.create(l.doc,o.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(t,e,n)=>{let r=atBlockStart(t,n);if(!r)return!1;let o=findCutBefore(r);return o?joinTextblocksAround(t,o,e):!1},joinTextblockForward$1=(t,e,n)=>{let r=atBlockEnd(t,n);if(!r)return!1;let o=findCutAfter(r);return o?joinTextblocksAround(t,o,e):!1};function joinTextblocksAround(t,e,n){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let f=o.lastChild;if(!f)return!1;o=f}let a=e.nodeAfter,c=a,l=e.pos+1;for(;!c.isTextblock;l++){if(c.type.spec.isolating)return!1;let f=c.firstChild;if(!f)return!1;c=f}let u=replaceStep(t.doc,s,l,Slice.empty);if(!u||u.from!=s||u instanceof ReplaceStep&&u.slice.size>=l-s)return!1;if(n){let f=t.tr.step(u);f.setSelection(TextSelection.create(f.doc,s)),n(f.scrollIntoView())}return!0}function textblockAt(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const selectNodeBackward$1=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=findCutBefore(r)}let a=s&&s.nodeBefore;return!a||!NodeSelection.isSelectable(a)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function atBlockEnd(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const joinForward$1=(t,e,n)=>{let r=atBlockEnd(t,n);if(!r)return!1;let o=findCutAfter(r);if(!o)return!1;let s=o.nodeAfter;if(deleteBarrier(t,o,e,1))return!0;if(r.parent.content.size==0&&(textblockAt(s,"start")||NodeSelection.isSelectable(s))){let a=replaceStep(t.doc,r.before(),r.after(),Slice.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(textblockAt(s,"start")?Selection.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):NodeSelection.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=findCutAfter(r)}let a=s&&s.nodeAfter;return!a||!NodeSelection.isSelectable(a)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const joinUp$1=(t,e)=>{let n=t.selection,r=n instanceof NodeSelection,o;if(r){if(n.node.isTextblock||!canJoin(t.doc,n.from))return!1;o=n.from}else if(o=joinPoint(t.doc,n.from,-1),o==null)return!1;if(e){let s=t.tr.join(o);r&&s.setSelection(NodeSelection.create(s.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},joinDown$1=(t,e)=>{let n=t.selection,r;if(n instanceof NodeSelection){if(n.node.isTextblock||!canJoin(t.doc,n.to))return!1;r=n.to}else if(r=joinPoint(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},lift$1=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),s=o&&liftTarget(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)},newlineInCode$1=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const exitCode$1=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),a=defaultBlockAt$1(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(e){let c=n.after(),l=t.tr.replaceWith(c,c,a.createAndFill());l.setSelection(Selection.near(l.doc.resolve(c),1)),e(l.scrollIntoView())}return!0},createParagraphNear$1=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=defaultBlockAt$1(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=t.tr.insert(a,s.createAndFill());c.setSelection(TextSelection.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},liftEmptyBlock$1=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(canSplit(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&liftTarget(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)},selectParentNode$1=(t,e)=>{let{$from:n,to:r}=t.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),e&&e(t.tr.setSelection(NodeSelection.create(t.doc,o))),!0)};function joinMaybeClear(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||canJoin(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function deleteBarrier(t,e,n,r){let o=e.nodeBefore,s=e.nodeAfter,a,c,l=o.type.spec.isolating||s.type.spec.isolating;if(!l&&joinMaybeClear(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(c=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&c.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,g=Fragment.empty;for(let T=a.length-1;T>=0;T--)g=Fragment.from(a[T].create(null,g));g=Fragment.from(o.copy(g));let w=t.tr.step(new ReplaceAroundStep(e.pos-1,v,e.pos,v,new Slice(g,1,0),a.length,!0)),A=w.doc.resolve(v+2*a.length);A.nodeAfter&&A.nodeAfter.type==o.type&&canJoin(w.doc,A.pos)&&w.join(A.pos),n(w.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&l?null:Selection.findFrom(e,1),b=f&&f.$from.blockRange(f.$to),S=b&&liftTarget(b);if(S!=null&&S>=e.depth)return n&&n(t.tr.lift(b,S).scrollIntoView()),!0;if(u&&textblockAt(s,"start",!0)&&textblockAt(o,"end")){let v=o,g=[];for(;g.push(v),!v.isTextblock;)v=v.lastChild;let w=s,A=1;for(;!w.isTextblock;w=w.firstChild)A++;if(v.canReplace(v.childCount,v.childCount,w.content)){if(n){let T=Fragment.empty;for(let R=g.length-1;R>=0;R--)T=Fragment.from(g[R].copy(T));let O=t.tr.step(new ReplaceAroundStep(e.pos-g.length,e.pos+s.nodeSize,e.pos+A,e.pos+s.nodeSize-A,new Slice(T,g.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function selectTextblockSide(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(e.tr.setSelection(TextSelection.create(e.doc,t<0?o.start(s):o.end(s)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,a=o.blockRange(s),c=a&&findWrapping(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function setBlockType(t,e=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[s];n.doc.nodesBetween(a,c,(l,u)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let f=n.doc.resolve(u),b=f.index();o=f.parent.canReplaceWith(b,b+1,t)}})}if(!o)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:l}}=n.selection.ranges[a];s.setBlockType(c,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,a=o.blockRange(s);if(!a)return!1;let c=r?n.tr:null;return wrapRangeInList(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function wrapRangeInList(t,e,n,r=null){let o=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);s=new NodeRange(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new NodeRange(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=findWrapping(s,n,r,e);return c?(t&&doWrapInList(t,e,c,o,n),!0):!1}function doWrapInList(t,e,n,r,o){let s=Fragment.empty;for(let f=n.length-1;f>=0;f--)s=Fragment.from(n[f].type.create(n[f].attrs,s));t.step(new ReplaceAroundStep(e.start-(r?2:0),e.end,e.start,e.end,new Slice(s,0,0),n.length,!0));let a=0;for(let f=0;f<n.length;f++)n[f].type==o&&(a=f+1);let c=n.length-a,l=e.start+n.length-(r?2:0),u=e.parent;for(let f=e.startIndex,b=e.endIndex,S=!0;f<b;f++,S=!1)!S&&canSplit(t.doc,l,c)&&(t.split(l,c),l+=2*c),l+=u.child(f).nodeSize;return t}function liftListItem$1(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?liftToOuterList(e,n,t,s):liftOutOfList(e,n,s):!0:!1}}function liftToOuterList(t,e,n,r){let o=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new ReplaceAroundStep(s-1,a,s,a,new Slice(Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const c=liftTarget(r);if(c==null)return!1;o.lift(r,c);let l=o.mapping.map(s,-1)-1;return canJoin(o.doc,l)&&o.join(l),e(o.scrollIntoView()),!0}function liftOutOfList(t,e,n){let r=t.tr,o=n.parent;for(let v=n.end,g=n.endIndex-1,w=n.startIndex;g>w;g--)v-=o.child(g).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,l=n.endIndex==o.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(c?0:1),f+1,a.content.append(l?Fragment.empty:Fragment.from(o))))return!1;let b=s.pos,S=b+a.nodeSize;return r.step(new ReplaceAroundStep(b-(c?1:0),S+(l?1:0),b+1,S-1,new Slice((c?Fragment.empty:Fragment.from(o.copy(Fragment.empty))).append(l?Fragment.empty:Fragment.from(o.copy(Fragment.empty))),c?0:1,l?0:1),c?0:1)),e(r.scrollIntoView()),!0}function sinkListItem$1(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let c=s.parent,l=c.child(a-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==c.type,f=Fragment.from(u?t.create():null),b=new Slice(Fragment.from(t.create(null,Fragment.from(c.type.create(null,f)))),u?3:1,0),S=s.start,v=s.end;n(e.tr.step(new ReplaceAroundStep(S-(u?3:1),v,S,v,b,1,!0)).scrollIntoView())}return!0}}function createChainableState(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}class CommandManager{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([c,l])=>[c,(...f)=>{const b=l(...f)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,c=[],l=!!e,u=e||s.tr,f=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),c.every(S=>S===!0)),b={...Object.fromEntries(Object.entries(r).map(([S,v])=>[S,(...w)=>{const A=this.buildProps(u,n),T=v(...w)(A);return c.push(T),b}])),run:f};return b}createCan(e){const{rawCommands:n,state:r}=this,o=!1,s=e||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,c={tr:e,editor:o,view:a,state:createChainableState({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...f)=>u(...f)(c)]))}};return c}}class EventEmitter{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}once(e,n){const r=(...o)=>{this.off(e,r),n.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function getExtensionField(t,e,n){return t.config[e]===void 0&&t.parent?getExtensionField(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?getExtensionField(t.parent,e,n):null}):t.config[e]}function splitExtensions(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function getAttributesFromExtensions(t){const e=[],{nodeExtensions:n,markExtensions:r}=splitExtensions(t),o=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:o},l=getExtensionField(a,"addGlobalAttributes",c);if(!l)return;l().forEach(f=>{f.types.forEach(b=>{Object.entries(f.attributes).forEach(([S,v])=>{e.push({type:b,name:S,attribute:{...s,...v}})})})})}),o.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},l=getExtensionField(a,"addAttributes",c);if(!l)return;const u=l();Object.entries(u).forEach(([f,b])=>{const S={...s,...b};typeof(S==null?void 0:S.default)=="function"&&(S.default=S.default()),S!=null&&S.isRequired&&(S==null?void 0:S.default)===void 0&&delete S.default,e.push({type:a.name,name:f,attribute:S})})}),e}function getNodeType(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function mergeAttributes(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const c=s?s.split(" "):[],l=r[o]?r[o].split(" "):[],u=c.filter(f=>!l.includes(f));r[o]=[...l,...u].join(" ")}else if(o==="style"){const c=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;l.forEach(f=>{const[b,S]=f.split(":").map(v=>v.trim());u.set(b,S)}),c.forEach(f=>{const[b,S]=f.split(":").map(v=>v.trim());u.set(b,S)}),r[o]=Array.from(u.entries()).map(([f,b])=>`${f}: ${b}`).join("; ")}else r[o]=s}),r},{})}function getRenderedAttributes(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>mergeAttributes(n,r),{})}function isFunction(t){return typeof t=="function"}function callOrReturn(t,e=void 0,...n){return isFunction(t)?e?t.bind(e)(...n):t(...n):t}function isEmptyObject(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fromString(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function injectExtensionAttributesToParseRule(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((s,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):fromString(n.getAttribute(a.name));return c==null?s:{...s,[a.name]:c}},{});return{...r,...o}}}}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&isEmptyObject(n)?!1:n!=null))}function getSchemaByResolvedExtensions(t,e){var n;const r=getAttributesFromExtensions(t),{nodeExtensions:o,markExtensions:s}=splitExtensions(t),a=(n=o.find(u=>getExtensionField(u,"topNode")))===null||n===void 0?void 0:n.name,c=Object.fromEntries(o.map(u=>{const f=r.filter(T=>T.type===u.name),b={name:u.name,options:u.options,storage:u.storage,editor:e},S=t.reduce((T,O)=>{const R=getExtensionField(O,"extendNodeSchema",b);return{...T,...R?R(u):{}}},{}),v=cleanUpSchemaItem({...S,content:callOrReturn(getExtensionField(u,"content",b)),marks:callOrReturn(getExtensionField(u,"marks",b)),group:callOrReturn(getExtensionField(u,"group",b)),inline:callOrReturn(getExtensionField(u,"inline",b)),atom:callOrReturn(getExtensionField(u,"atom",b)),selectable:callOrReturn(getExtensionField(u,"selectable",b)),draggable:callOrReturn(getExtensionField(u,"draggable",b)),code:callOrReturn(getExtensionField(u,"code",b)),whitespace:callOrReturn(getExtensionField(u,"whitespace",b)),linebreakReplacement:callOrReturn(getExtensionField(u,"linebreakReplacement",b)),defining:callOrReturn(getExtensionField(u,"defining",b)),isolating:callOrReturn(getExtensionField(u,"isolating",b)),attrs:Object.fromEntries(f.map(T=>{var O;return[T.name,{default:(O=T==null?void 0:T.attribute)===null||O===void 0?void 0:O.default}]}))}),g=callOrReturn(getExtensionField(u,"parseHTML",b));g&&(v.parseDOM=g.map(T=>injectExtensionAttributesToParseRule(T,f)));const w=getExtensionField(u,"renderHTML",b);w&&(v.toDOM=T=>w({node:T,HTMLAttributes:getRenderedAttributes(T,f)}));const A=getExtensionField(u,"renderText",b);return A&&(v.toText=A),[u.name,v]})),l=Object.fromEntries(s.map(u=>{const f=r.filter(A=>A.type===u.name),b={name:u.name,options:u.options,storage:u.storage,editor:e},S=t.reduce((A,T)=>{const O=getExtensionField(T,"extendMarkSchema",b);return{...A,...O?O(u):{}}},{}),v=cleanUpSchemaItem({...S,inclusive:callOrReturn(getExtensionField(u,"inclusive",b)),excludes:callOrReturn(getExtensionField(u,"excludes",b)),group:callOrReturn(getExtensionField(u,"group",b)),spanning:callOrReturn(getExtensionField(u,"spanning",b)),code:callOrReturn(getExtensionField(u,"code",b)),attrs:Object.fromEntries(f.map(A=>{var T;return[A.name,{default:(T=A==null?void 0:A.attribute)===null||T===void 0?void 0:T.default}]}))}),g=callOrReturn(getExtensionField(u,"parseHTML",b));g&&(v.parseDOM=g.map(A=>injectExtensionAttributesToParseRule(A,f)));const w=getExtensionField(u,"renderHTML",b);return w&&(v.toDOM=A=>w({mark:A,HTMLAttributes:getRenderedAttributes(A,f)})),[u.name,v]}));return new Schema({topNode:a,nodes:c,marks:l})}function getSchemaTypeByName(t,e){return e.nodes[t]||e.marks[t]||null}function isExtensionRulesEnabled(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function getHTMLFromFragment(t,e){const n=DOMSerializer.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}const getTextContentFromNodes=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,s,a,c)=>{var l,u;const f=((u=(l=o.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:o,pos:s,parent:a,index:c}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?f:f.slice(0,Math.max(0,r-s))}),n};function isRegExp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class InputRule{constructor(e){this.find=e.find,this.handler=e.handler}}const inputRuleMatcherHandler=(t,e)=>{if(isRegExp(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function run$1$1(t){var e;const{editor:n,from:r,to:o,text:s,rules:a,plugin:c}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(S=>S.type.spec.code))return!1;let f=!1;const b=getTextContentFromNodes(u)+s;return a.forEach(S=>{if(f)return;const v=inputRuleMatcherHandler(b,S.find);if(!v)return;const g=l.state.tr,w=createChainableState({state:l.state,transaction:g}),A={from:r-(v[0].length-s.length),to:o},{commands:T,chain:O,can:R}=new CommandManager({editor:n,state:w});S.handler({state:w,range:A,match:v,commands:T,chain:O,can:R})===null||!g.steps.length||(g.setMeta(c,{transform:g,from:r,to:o,text:s}),l.dispatch(g),f=!0)}),f}function inputRulesPlugin(t){const{editor:e,rules:n}=t,r=new Plugin({state:{init(){return null},apply(o,s,a){const c=o.getMeta(r);if(c)return c;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=getHTMLFromFragment(Fragment.from(f),a.schema);const{from:b}=l,S=b+f.length;run$1$1({editor:e,from:b,to:S,text:f,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,a,c){return run$1$1({editor:e,from:s,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&run$1$1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?run$1$1({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function getType(t){return Object.prototype.toString.call(t).slice(8,-1)}function isPlainObject(t){return getType(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mergeDeep(t,e){const n={...t};return isPlainObject(t)&&isPlainObject(e)&&Object.keys(e).forEach(r=>{isPlainObject(e[r])&&isPlainObject(t[r])?n[r]=mergeDeep(t[r],e[r]):n[r]=e[r]}),n}class Mark{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mark(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Mark(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=callOrReturn(getExtensionField(n,"addOptions",{name:n.name})),n.storage=callOrReturn(getExtensionField(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=a.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function isNumber(t){return typeof t=="number"}class PasteRule{constructor(e){this.find=e.find,this.handler=e.handler}}const pasteRuleMatcherHandler=(t,e,n)=>{if(isRegExp(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=t,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function run$2(t){const{editor:e,state:n,from:r,to:o,rule:s,pasteEvent:a,dropEvent:c}=t,{commands:l,chain:u,can:f}=new CommandManager({editor:e,state:n}),b=[];return n.doc.nodesBetween(r,o,(v,g)=>{if(!v.isTextblock||v.type.spec.code)return;const w=Math.max(r,g),A=Math.min(o,g+v.content.size),T=v.textBetween(w-g,A-g,void 0,"￼");pasteRuleMatcherHandler(T,s.find,a).forEach(R=>{if(R.index===void 0)return;const k=w+R.index+1,V=k+R[0].length,P={from:n.tr.mapping.map(k),to:n.tr.mapping.map(V)},B=s.handler({state:n,range:P,match:R,commands:l,chain:u,can:f,pasteEvent:a,dropEvent:c});b.push(B)})}),b.every(v=>v!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function pasteRulesPlugin(t){const{editor:e,rules:n}=t;let r=null,o=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const l=({state:f,from:b,to:S,rule:v,pasteEvt:g})=>{const w=f.tr,A=createChainableState({state:f,transaction:w});if(!(!run$2({editor:e,state:A,from:Math.max(b-1,0),to:S.b-1,rule:v,pasteEvent:g,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new Plugin({view(b){const S=g=>{var w;r=!((w=b.dom.parentElement)===null||w===void 0)&&w.contains(g.target)?b.dom.parentElement:null,r&&(tiptapDragFromOtherEditor=e)},v=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",S),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",S),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(b,S)=>{if(s=r===b.dom.parentElement,c=S,!s){const v=tiptapDragFromOtherEditor;v&&setTimeout(()=>{const g=v.state.selection;g&&v.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(b,S)=>{var v;const g=(v=S.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=S,o=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(b,S,v)=>{const g=b[0],w=g.getMeta("uiEvent")==="paste"&&!o,A=g.getMeta("uiEvent")==="drop"&&!s,T=g.getMeta("applyPasteRules"),O=!!T;if(!w&&!A&&!O)return;if(O){let{text:V}=T;typeof V=="string"?V=V:V=getHTMLFromFragment(Fragment.from(V),v.schema);const{from:P}=T,B=P+V.length,j=createClipboardPasteEvent(V);return l({rule:f,state:v,from:P,to:{b:B},pasteEvt:j})}const R=S.doc.content.findDiffStart(v.doc.content),k=S.doc.content.findDiffEnd(v.doc.content);if(!(!isNumber(R)||!k||R===k.b))return l({rule:f,state:v,from:R,to:k,pasteEvt:a})}}))}function findDuplicates(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class ExtensionManager{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ExtensionManager.resolve(e),this.schema=getSchemaByResolvedExtensions(this.extensions,n),this.setupExtensions()}static resolve(e){const n=ExtensionManager.sort(ExtensionManager.flatten(e)),r=findDuplicates(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=getExtensionField(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const s=getExtensionField(r,"priority")||100,a=getExtensionField(o,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:getSchemaTypeByName(n.name,this.schema)},o=getExtensionField(n,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=ExtensionManager.sort([...this.extensions].reverse()),r=[],o=[],s=n.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:getSchemaTypeByName(a.name,this.schema)},l=[],u=getExtensionField(a,"addKeyboardShortcuts",c);let f={};if(a.type==="mark"&&getExtensionField(a,"exitable",c)&&(f.ArrowRight=()=>Mark.handleExit({editor:e,mark:a})),u){const w=Object.fromEntries(Object.entries(u()).map(([A,T])=>[A,()=>T({editor:e})]));f={...f,...w}}const b=keymap(f);l.push(b);const S=getExtensionField(a,"addInputRules",c);isExtensionRulesEnabled(a,e.options.enableInputRules)&&S&&r.push(...S());const v=getExtensionField(a,"addPasteRules",c);isExtensionRulesEnabled(a,e.options.enablePasteRules)&&v&&o.push(...v());const g=getExtensionField(a,"addProseMirrorPlugins",c);if(g){const w=g();l.push(...w)}return l}).flat();return[inputRulesPlugin({editor:e,rules:r}),...pasteRulesPlugin({editor:e,rules:o}),...s]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=splitExtensions(this.extensions);return Object.fromEntries(n.filter(r=>!!getExtensionField(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:getNodeType(r.name,this.schema)},a=getExtensionField(r,"addNodeView",s);if(!a)return[];const c=(l,u,f,b,S)=>{const v=getRenderedAttributes(l,o);return a()({node:l,view:u,getPos:f,decorations:b,innerDecorations:S,editor:e,extension:r,HTMLAttributes:v})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:getSchemaTypeByName(e.name,this.schema)};e.type==="mark"&&(!((n=callOrReturn(getExtensionField(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=getExtensionField(e,"onBeforeCreate",r),s=getExtensionField(e,"onCreate",r),a=getExtensionField(e,"onUpdate",r),c=getExtensionField(e,"onSelectionUpdate",r),l=getExtensionField(e,"onTransaction",r),u=getExtensionField(e,"onFocus",r),f=getExtensionField(e,"onBlur",r),b=getExtensionField(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),b&&this.editor.on("destroy",b)})}}class Extension{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Extension(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Extension({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=callOrReturn(getExtensionField(n,"addOptions",{name:n.name})),n.storage=callOrReturn(getExtensionField(n,"addStorage",{name:n.name,options:n.options})),n}}function getTextBetween(t,e,n){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,o,(l,u,f,b)=>{var S;l.isBlock&&u>r&&(c+=s);const v=a==null?void 0:a[l.type.name];if(v)return f&&(c+=v({node:l,pos:u,parent:f,index:b,range:e})),!1;l.isText&&(c+=(S=l==null?void 0:l.text)===null||S===void 0?void 0:S.slice(Math.max(r,u)-u,o-u))}),c}function getTextSerializersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:s}=o,a=Math.min(...s.map(f=>f.$from.pos)),c=Math.max(...s.map(f=>f.$to.pos)),l=getTextSerializersFromSchema(n);return getTextBetween(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),blur=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),clearContent=(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(c,l)=>{if(c.type.isText)return;const{doc:u,mapping:f}=e,b=u.resolve(f.map(l)),S=u.resolve(f.map(l+c.nodeSize)),v=b.blockRange(S);if(!v)return;const g=liftTarget(v);if(c.type.isTextblock){const{defaultType:w}=b.parent.contentMatchAt(b.index());e.setNodeMarkup(v.start,w)}(g||g===0)&&e.lift(v,g)})}),!0},command=t=>e=>t(e),createParagraphNear=()=>({state:t,dispatch:e})=>createParagraphNear$1(t,e),cut=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new TextSelection(r.doc.resolve(a-1))),!0},deleteCurrentNode=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const c=o.before(s),l=o.after(s);t.delete(c,l).scrollIntoView()}return!0}return!1},deleteNode=t=>({tr:e,state:n,dispatch:r})=>{const o=getNodeType(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),u=s.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},deleteRange=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},deleteSelection=()=>({state:t,dispatch:e})=>deleteSelection$1(t,e),enter=()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode=()=>({state:t,dispatch:e})=>exitCode$1(t,e);function objectIncludes(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:isRegExp(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function findMarkInSet(t,e,n={}){return t.find(r=>r.type===e&&objectIncludes(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function isMarkInSet(t,e,n={}){return!!findMarkInSet(t,e,n)}function getMarkRange(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(f=>f.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(f=>f.type===e)||(n=n||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!findMarkInSet([...o.node.marks],e,n)))return;let a=o.index,c=t.start()+o.offset,l=a+1,u=c+o.node.nodeSize;for(;a>0&&isMarkInSet([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&isMarkInSet([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:c,to:u}}function getMarkType(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const extendMarkRange=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const s=getMarkType(t,r.schema),{doc:a,selection:c}=n,{$from:l,from:u,to:f}=c;if(o){const b=getMarkRange(l,s,e);if(b&&b.from<=u&&b.to>=f){const S=TextSelection.create(a,b.from,b.to);n.setSelection(S)}}return!0},first=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function isTextSelection(t){return t instanceof TextSelection}function minMax(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function resolveFocusPosition(t,e=null){if(!e)return null;const n=Selection.atStart(t),r=Selection.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,s=r.to;return e==="all"?TextSelection.create(t,minMax(0,o,s),minMax(t.content.size,o,s)):TextSelection.create(t,minMax(e,o,s),minMax(e,o,s))}const focus=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!isTextSelection(n.state.selection))return a(),!0;const c=resolveFocusPosition(o.doc,t)||n.state.selection,l=n.state.selection.eq(c);return s&&(l||o.setSelection(c),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},forEach=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),insertContent=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),removeWhitespaces=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&removeWhitespaces(r)}return t};function elementFromString(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return removeWhitespaces(n)}function createNodeFromContent(t,e,n){if(t instanceof Node$2||t instanceof Fragment)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Fragment.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),createNodeFromContent("",e,n)}if(o){if(n.errorOnInvalidContent){let a=!1,c="";const l=new Schema({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,c=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?DOMParser$1.fromSchema(l).parseSlice(elementFromString(t),n.parseOptions):DOMParser$1.fromSchema(l).parse(elementFromString(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const s=DOMParser$1.fromSchema(e);return n.slice?s.parseSlice(elementFromString(t),n.parseOptions).content:s.parse(elementFromString(t),n.parseOptions)}return createNodeFromContent("",e,n)}function selectionToInsertionEnd(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;const s=t.mapping.maps[r];let a=0;s.forEach((c,l,u,f)=>{a===0&&(a=f)}),t.setSelection(Selection.near(t.doc.resolve(a),n))}const isFragment=t=>!("type"in t),insertContentAt=(t,e,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;try{c=createNodeFromContent(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(g){return s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,b=!0;if((isFragment(c)?c:[c]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,b=b?g.isBlock:!1}),l===u&&b){const{parent:g}=r.doc.resolve(l);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(l-=1,u+=1)}let v;if(f){if(Array.isArray(e))v=e.map(g=>g.text||"").join("");else if(e instanceof Fragment){let g="";e.forEach(w=>{w.text&&(g+=w.text)}),v=g}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,l,u)}else v=c,r.replaceWith(l,u,v);n.updateSelection&&selectionToInsertionEnd(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:v})}return!0},joinUp=()=>({state:t,dispatch:e})=>joinUp$1(t,e),joinDown=()=>({state:t,dispatch:e})=>joinDown$1(t,e),joinBackward=()=>({state:t,dispatch:e})=>joinBackward$1(t,e),joinForward=()=>({state:t,dispatch:e})=>joinForward$1(t,e),joinItemBackward=()=>({state:t,dispatch:e,tr:n})=>{try{const r=joinPoint(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},joinItemForward=()=>({state:t,dispatch:e,tr:n})=>{try{const r=joinPoint(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},joinTextblockBackward=()=>({state:t,dispatch:e})=>joinTextblockBackward$1(t,e),joinTextblockForward=()=>({state:t,dispatch:e})=>joinTextblockForward$1(t,e);function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let c=0;c<e.length-1;c+=1){const l=e[c];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))isiOS()||isMacOS()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const keyboardShortcut=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const s=normalizeKeyName(t).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,c))});return l==null||l.steps.forEach(u=>{const f=u.map(r.mapping);f&&o&&r.maybeStep(f)}),!0};function isNodeActive(t,e,n={}){const{from:r,to:o,empty:s}=t.selection,a=e?getNodeType(e,t.schema):null,c=[];t.doc.nodesBetween(r,o,(b,S)=>{if(b.isText)return;const v=Math.max(r,S),g=Math.min(o,S+b.nodeSize);c.push({node:b,from:v,to:g})});const l=o-r,u=c.filter(b=>a?a.name===b.node.type.name:!0).filter(b=>objectIncludes(b.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((b,S)=>b+S.to-S.from,0)>=l}const lift=(t,e={})=>({state:n,dispatch:r})=>{const o=getNodeType(t,n.schema);return isNodeActive(n,o,e)?lift$1(n,r):!1},liftEmptyBlock=()=>({state:t,dispatch:e})=>liftEmptyBlock$1(t,e),liftListItem=t=>({state:e,dispatch:n})=>{const r=getNodeType(t,e.schema);return liftListItem$1(r)(e,n)},newlineInCode=()=>({state:t,dispatch:e})=>newlineInCode$1(t,e);function getSchemaTypeNameByName(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function deleteProps(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const resetAttributes=(t,e)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const c=getSchemaTypeNameByName(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=getNodeType(t,r.schema)),c==="mark"&&(a=getMarkType(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,f)=>{s&&s===u.type&&n.setNodeMarkup(f,void 0,deleteProps(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(b=>{a===b.type&&n.addMark(f,f+u.nodeSize,a.create(deleteProps(b.attrs,e)))})})}),!0):!1},scrollIntoView=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),selectAll=()=>({tr:t,dispatch:e})=>{if(e){const n=new AllSelection(t.doc);t.setSelection(n)}return!0},selectNodeBackward=()=>({state:t,dispatch:e})=>selectNodeBackward$1(t,e),selectNodeForward=()=>({state:t,dispatch:e})=>selectNodeForward$1(t,e),selectParentNode=()=>({state:t,dispatch:e})=>selectParentNode$1(t,e),selectTextblockEnd=()=>({state:t,dispatch:e})=>selectTextblockEnd$1(t,e),selectTextblockStart=()=>({state:t,dispatch:e})=>selectTextblockStart$1(t,e);function createDocument(t,e,n={},r={}){return createNodeFromContent(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const setContent$1=(t,e=!1,n={},r={})=>({editor:o,tr:s,dispatch:a,commands:c})=>{var l,u;const{doc:f}=s;if(n.preserveWhitespace!=="full"){const b=createDocument(t,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return a&&s.replaceWith(0,f.content.size,b).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function getMarkAttributes(t,e){const n=getMarkType(e,t.schema),{from:r,to:o,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const c=a.find(l=>l.type.name===n.name);return c?{...c.attrs}:{}}function combineTransactionSteps(t,e){const n=new Transform(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function defaultBlockAt(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function findChildrenInRange(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,s)=>{n(o)&&r.push({node:o,pos:s})}),r}function findParentNodeClosestToPos(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function findParentNode(t){return e=>findParentNodeClosestToPos(e.$from,t)}function getText(t,e){const n={from:0,to:t.content.size};return getTextBetween(t,n,e)}function getNodeAttributes(t,e){const n=getNodeType(e,t.schema),{from:r,to:o}=t.selection,s=[];t.doc.nodesBetween(r,o,c=>{s.push(c)});const a=s.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function getAttributes(t,e){const n=getSchemaTypeNameByName(typeof e=="string"?e:e.name,t.schema);return n==="node"?getNodeAttributes(t,e):n==="mark"?getMarkAttributes(t,e):{}}function removeDuplicates(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function simplifyChangedRanges(t){const e=removeDuplicates(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function getChangedRanges(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((c,l)=>{a.push({from:c,to:l})});else{const{from:c,to:l}=n[s];if(c===void 0||l===void 0)return;a.push({from:c,to:l})}a.forEach(({from:c,to:l})=>{const u=e.slice(s).map(c,-1),f=e.slice(s).map(l),b=e.invert().map(u,-1),S=e.invert().map(f);r.push({oldRange:{from:b,to:S},newRange:{from:u,to:f}})})}),simplifyChangedRanges(r)}function getMarksBetween(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const s=n.resolve(t),a=getMarkRange(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(t,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function getSplittedAttributes(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function isMarkActive(t,e,n={}){const{empty:r,ranges:o}=t.selection,s=e?getMarkType(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(b=>s?s.name===b.type.name:!0).find(b=>objectIncludes(b.attrs,n,{strict:!1}));let a=0;const c=[];if(o.forEach(({$from:b,$to:S})=>{const v=b.pos,g=S.pos;t.doc.nodesBetween(v,g,(w,A)=>{if(!w.isText&&!w.marks.length)return;const T=Math.max(v,A),O=Math.min(g,A+w.nodeSize),R=O-T;a+=R,c.push(...w.marks.map(k=>({mark:k,from:T,to:O})))})}),a===0)return!1;const l=c.filter(b=>s?s.name===b.mark.type.name:!0).filter(b=>objectIncludes(b.mark.attrs,n,{strict:!1})).reduce((b,S)=>b+S.to-S.from,0),u=c.filter(b=>s?b.mark.type!==s&&b.mark.type.excludes(s):!0).reduce((b,S)=>b+S.to-S.from,0);return(l>0?l+u:l)>=a}function isActive(t,e,n={}){if(!e)return isNodeActive(t,null,n)||isMarkActive(t,null,n);const r=getSchemaTypeNameByName(e,t.schema);return r==="node"?isNodeActive(t,e,n):r==="mark"?isMarkActive(t,e,n):!1}function isList(t,e){const{nodeExtensions:n}=splitExtensions(e),r=n.find(a=>a.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=callOrReturn(getExtensionField(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function isNodeEmpty(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(s=>{o!==!1&&(isNodeEmpty(s,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function isNodeSelection(t){return t instanceof NodeSelection}function posToDOMRect(t,e,n){const o=t.state.doc.content.size,s=minMax(e,0,o),a=minMax(n,0,o),c=t.coordsAtPos(s),l=t.coordsAtPos(a,-1),u=Math.min(c.top,l.top),f=Math.max(c.bottom,l.bottom),b=Math.min(c.left,l.left),S=Math.max(c.right,l.right),v=S-b,g=f-u,T={top:u,bottom:f,left:b,right:S,width:v,height:g,x:b,y:u};return{...T,toJSON:()=>T}}function canSetMark(t,e,n){var r;const{selection:o}=e;let s=null;if(isTextSelection(o)&&(s=o.$cursor),s){const c=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(c)||!c.some(l=>l.type.excludes(n))}const{ranges:a}=o;return a.some(({$from:c,$to:l})=>{let u=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,l.pos,(f,b,S)=>{if(u)return!1;if(f.isInline){const v=!S||S.type.allowsMarkType(n),g=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));u=v&&g}return!u}),u})}const setMark=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:c}=s,l=getMarkType(t,r.schema);if(o)if(a){const u=getMarkAttributes(r,l);n.addStoredMark(l.create({...u,...e}))}else c.forEach(u=>{const f=u.$from.pos,b=u.$to.pos;r.doc.nodesBetween(f,b,(S,v)=>{const g=Math.max(v,f),w=Math.min(v+S.nodeSize,b);S.marks.find(T=>T.type===l)?S.marks.forEach(T=>{l===T.type&&n.addMark(g,w,l.create({...T.attrs,...e}))}):n.addMark(g,w,l.create(e))})});return canSetMark(r,n,l)},setMeta=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),setNode=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const s=getNodeType(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:c})=>setBlockType(s,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>setBlockType(s,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=minMax(t,0,r.content.size),s=NodeSelection.create(r,o);e.setSelection(s)}return!0},setTextSelection=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:s}=typeof t=="number"?{from:t,to:t}:t,a=TextSelection.atStart(r).from,c=TextSelection.atEnd(r).to,l=minMax(o,a,c),u=minMax(s,a,c),f=TextSelection.create(r,l,u);e.setSelection(f)}return!0},sinkListItem=t=>({state:e,dispatch:n})=>{const r=getNodeType(t,e.schema);return sinkListItem$1(r)(e,n)};function ensureMarks(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const splitBlock=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=e,{$from:c,$to:l}=s,u=o.extensionManager.attributes,f=getSplittedAttributes(u,c.node().type.name,c.node().attrs);if(s instanceof NodeSelection&&s.node.isBlock)return!c.parentOffset||!canSplit(a,c.pos)?!1:(r&&(t&&ensureMarks(n,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const b=l.parentOffset===l.parent.content.size,S=c.depth===0?void 0:defaultBlockAt(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=b&&S?[{type:S,attrs:f}]:void 0,g=canSplit(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!g&&canSplit(e.doc,e.mapping.map(c.pos),1,S?[{type:S}]:void 0)&&(g=!0,v=S?[{type:S,attrs:f}]:void 0),r){if(g&&(s instanceof TextSelection&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),S&&!b&&!c.parentOffset&&c.parent.type!==S)){const w=e.mapping.map(c.before()),A=e.doc.resolve(w);c.node(-1).canReplaceWith(A.index(),A.index()+1,S)&&e.setNodeMarkup(e.mapping.map(c.before()),S)}t&&ensureMarks(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return g},splitListItem=(t,e={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const c=getNodeType(t,r.schema),{$from:l,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const b=l.node(-1);if(b.type!==c)return!1;const S=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==c||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let T=Fragment.empty;const O=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-O;j>=l.depth-3;j-=1)T=Fragment.from(l.node(j).copy(T));const R=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...getSplittedAttributes(S,l.node().type.name,l.node().attrs),...e},V=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(k))||void 0;T=T.append(Fragment.from(c.createAndFill(null,V)||void 0));const P=l.before(l.depth-(O-1));n.replace(P,l.after(-R),new Slice(T,4-O,0));let B=-1;n.doc.nodesBetween(P,n.doc.content.size,(j,q)=>{if(B>-1)return!1;j.isTextblock&&j.content.size===0&&(B=q+1)}),B>-1&&n.setSelection(TextSelection.near(n.doc.resolve(B))),n.scrollIntoView()}return!0}const v=u.pos===l.end()?b.contentMatchAt(0).defaultType:null,g={...getSplittedAttributes(S,b.type.name,b.attrs),...e},w={...getSplittedAttributes(S,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const A=v?[{type:c,attrs:g},{type:v,attrs:w}]:[{type:c,attrs:g}];if(!canSplit(n.doc,l.pos,2))return!1;if(o){const{selection:T,storedMarks:O}=r,{splittableMarks:R}=s.extensionManager,k=O||T.$to.parentOffset&&T.$from.marks();if(n.split(l.pos,2,A).scrollIntoView(),!k||!o)return!0;const V=k.filter(P=>R.includes(P.type.name));n.ensureMarks(V)}return!0},joinListBackwards=(t,e)=>{const n=findParentNode(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,n.pos)&&t.join(n.pos),!0},joinListForwards=(t,e)=>{const n=findParentNode(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,r)&&t.join(r),!0},toggleList=(t,e,n,r={})=>({editor:o,tr:s,state:a,dispatch:c,chain:l,commands:u,can:f})=>{const{extensions:b,splittableMarks:S}=o.extensionManager,v=getNodeType(t,a.schema),g=getNodeType(e,a.schema),{selection:w,storedMarks:A}=a,{$from:T,$to:O}=w,R=T.blockRange(O),k=A||w.$to.parentOffset&&w.$from.marks();if(!R)return!1;const V=findParentNode(P=>isList(P.type.name,b))(w);if(R.depth>=1&&V&&R.depth-V.depth<=1){if(V.node.type===v)return u.liftListItem(g);if(isList(V.node.type.name,b)&&v.validContent(V.node.content)&&c)return l().command(()=>(s.setNodeMarkup(V.pos,v),!0)).command(()=>joinListBackwards(s,v)).command(()=>joinListForwards(s,v)).run()}return!n||!k||!c?l().command(()=>f().wrapInList(v,r)?!0:u.clearNodes()).wrapInList(v,r).command(()=>joinListBackwards(s,v)).command(()=>joinListForwards(s,v)).run():l().command(()=>{const P=f().wrapInList(v,r),B=k.filter(j=>S.includes(j.type.name));return s.ensureMarks(B),P?!0:u.clearNodes()}).wrapInList(v,r).command(()=>joinListBackwards(s,v)).command(()=>joinListForwards(s,v)).run()},toggleMark=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=getMarkType(t,r.schema);return isMarkActive(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,e)},toggleNode=(t,e,n={})=>({state:r,commands:o})=>{const s=getNodeType(t,r.schema),a=getNodeType(e,r.schema),c=isNodeActive(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),c?o.setNode(a,l):o.setNode(s,{...l,...n})},toggleWrap=(t,e={})=>({state:n,commands:r})=>{const o=getNodeType(t,n.schema);return isNodeActive(n,o,e)?r.lift(o):r.wrapIn(o,e)},undoInputRule=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(t))){if(e){const a=t.tr,c=s.transform;for(let l=c.steps.length-1;l>=0;l-=1)a.step(c.steps[l].invert(c.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,l=getMarkType(t,r.schema),{$from:u,empty:f,ranges:b}=c;if(!o)return!0;if(f&&a){let{from:S,to:v}=c;const g=(s=u.marks().find(A=>A.type===l))===null||s===void 0?void 0:s.attrs,w=getMarkRange(u,l,g);w&&(S=w.from,v=w.to),n.removeMark(S,v,l)}else b.forEach(S=>{n.removeMark(S.$from.pos,S.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const c=getSchemaTypeNameByName(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=getNodeType(t,r.schema)),c==="mark"&&(a=getMarkType(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,f=l.$to.pos;let b,S,v,g;n.selection.empty?r.doc.nodesBetween(u,f,(w,A)=>{s&&s===w.type&&(v=Math.max(A,u),g=Math.min(A+w.nodeSize,f),b=A,S=w)}):r.doc.nodesBetween(u,f,(w,A)=>{A<u&&s&&s===w.type&&(v=Math.max(A,u),g=Math.min(A+w.nodeSize,f),b=A,S=w),A>=u&&A<=f&&(s&&s===w.type&&n.setNodeMarkup(A,void 0,{...w.attrs,...e}),a&&w.marks.length&&w.marks.forEach(T=>{if(a===T.type){const O=Math.max(A,u),R=Math.min(A+w.nodeSize,f);n.addMark(O,R,a.create({...T.attrs,...e}))}}))}),S&&(b!==void 0&&n.setNodeMarkup(b,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(w=>{a===w.type&&n.addMark(v,g,a.create({...w.attrs,...e}))}))}),!0):!1},wrapIn=(t,e={})=>({state:n,dispatch:r})=>{const o=getNodeType(t,n.schema);return wrapIn$1(o,e)(n,r)},wrapInList=(t,e={})=>({state:n,dispatch:r})=>{const o=getNodeType(t,n.schema);return wrapInList$1(o,e)(n,r)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent:setContent$1,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Plugin({key:new PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:l,doc:u}=c,{empty:f,$anchor:b}=l,{pos:S,parent:v}=b,g=b.parent.isTextblock&&S>0?c.doc.resolve(S-1):b,w=g.parent.type.spec.isolating,A=b.pos-b.parentOffset,T=w&&g.parent.childCount===1?A===b.pos:Selection.atStart(u).from===S;return!f||!v.type.isTextblock||v.textContent.length||!T||T&&b.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?s:o},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),o=t.some(w=>w.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:c}=e.selection,l=Selection.atStart(e.doc).from,u=Selection.atEnd(e.doc).to;if(s||!(a===l&&c===u)||!isNodeEmpty(n.doc))return;const S=n.tr,v=createChainableState({state:n,transaction:S}),{commands:g}=new CommandManager({editor:this.editor,state:v});if(g.clearNodes(),!!S.steps.length)return S}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class NodePos{get name(){return this.node.type.name}constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new NodePos(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1),c=this.resolvedPos.doc.resolve(a);if(!o&&c.depth<=this.depth)return;const l=new NodePos(c,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new NodePos(c,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const s=o.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const l=a[c];if(s[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&s.every(l=>n[l]===a.node.attrs[l])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}let Editor$1=class extends EventEmitter{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=isFunction(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=n.filter(c=>!c.key.startsWith(a))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new ExtensionManager(o,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),n=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=resolveFocusPosition(n,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:n,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return getAttributes(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return isActive(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return getText(this.state.doc,{blockSeparator:n,textSerializers:{...getTextSerializersFromSchema(this.schema),...r}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new NodePos(n,this)}get $doc(){return this.$pos(0)}};function markInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:n,match:r})=>{const o=callOrReturn(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],c=r[0];if(a){const l=c.search(/\S/),u=n.from+c.indexOf(a),f=u+a.length;if(getMarksBetween(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(w=>w===t.type&&w!==v.mark.type)).filter(v=>v.to>u).length)return null;f<n.to&&s.delete(f,n.to),u>n.from&&s.delete(n.from+l,u);const S=n.from+l+a.length;s.addMark(n.from+l,S,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function nodeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:n,match:r})=>{const o=callOrReturn(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let c=n.to;const l=t.type.create(o);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=a+u;f>c?f=c:c=f+r[1].length;const b=r[0][r[0].length-1];s.insertText(b,a+r[0].length-1),s.replaceWith(f,c,l)}else if(r[0]){const u=t.type.isInline?a:a-1;s.insert(u,t.type.create(o)).delete(s.mapping.map(a),s.mapping.map(c))}s.scrollIntoView()}})}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),s=callOrReturn(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function wrappingInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const s=callOrReturn(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),u=l&&findWrapping(l,t.type,s);if(!u)return null;if(a.wrap(l,u),t.keepMarks&&t.editor){const{selection:b,storedMarks:S}=e,{splittableMarks:v}=t.editor.extensionManager,g=S||b.$to.parentOffset&&b.$from.marks();if(g){const w=g.filter(A=>v.includes(A.type.name));a.ensureMarks(w)}}if(t.keepAttributes){const b=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(b,s).run()}const f=a.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&canJoin(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&a.join(n.from-1)}})}let Node$1=class Ta{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ta(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ta(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=callOrReturn(getExtensionField(n,"addOptions",{name:n.name})),n.storage=callOrReturn(getExtensionField(n,"addStorage",{name:n.name,options:n.options})),n}};function markPasteRule(t){return new PasteRule({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const s=callOrReturn(t.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=e,c=r[r.length-1],l=r[0];let u=n.to;if(c){const f=l.search(/\S/),b=n.from+l.indexOf(c),S=b+c.length;if(getMarksBetween(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(A=>A===t.type&&A!==g.mark.type)).filter(g=>g.to>b).length)return null;S<n.to&&a.delete(S,n.to),b>n.from&&a.delete(n.from+f,b),u=n.from+f+c.length,a.addMark(n.from+f,u,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function isType(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function invokeWithArgsOrReturn(t,e){return typeof t=="function"?t.apply(void 0,e):t}function debounce(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function splitBySpaces(t){return t.split(/\s+/).filter(Boolean)}function normalizeToArray(t){return[].concat(t)}function pushIfUnique(t,e){t.indexOf(e)===-1&&t.push(e)}function unique(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function getBasePlacement(t){return t.split("-")[0]}function arrayFrom(t){return[].slice.call(t)}function removeUndefinedProps(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function div(){return document.createElement("div")}function isElement(t){return["Element","Fragment"].some(function(e){return isType(t,e)})}function isNodeList(t){return isType(t,"NodeList")}function isMouseEvent(t){return isType(t,"MouseEvent")}function isReferenceElement(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function getArrayOfElements(t){return isElement(t)?[t]:isNodeList(t)?arrayFrom(t):Array.isArray(t)?t:arrayFrom(document.querySelectorAll(t))}function setTransitionDuration(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function setVisibilityState(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function getOwnerDocument(t){var e,n=normalizeToArray(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function isCursorOutsideInteractiveBorder(t,e){var n=e.clientX,r=e.clientY;return t.every(function(o){var s=o.popperRect,a=o.popperState,c=o.props,l=c.interactiveBorder,u=getBasePlacement(a.placement),f=a.modifiersData.offset;if(!f)return!0;var b=u==="bottom"?f.top.y:0,S=u==="top"?f.bottom.y:0,v=u==="right"?f.left.x:0,g=u==="left"?f.right.x:0,w=s.top-r+b>l,A=r-s.bottom-S>l,T=s.left-n+v>l,O=n-s.right-g>l;return w||A||T||O})}function updateTransitionEndListener(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[r](o,n)})}function actualContains(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var t=performance.now();t-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=t}function onWindowBlur(){var t=document.activeElement;if(isReferenceElement(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(e){var n=Object.keys(e);n.forEach(function(r){defaultProps[r]=e[r]})};function getExtendedPassedProps(t){var e=t.plugins||[],n=e.reduce(function(r,o){var s=o.name,a=o.defaultValue;if(s){var c;r[s]=t[s]!==void 0?t[s]:(c=defaultProps[s])!=null?c:a}return r},{});return Object.assign({},t,n)}function getDataAttributeProps(t,e){var n=e?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:e}))):defaultKeys,r=n.reduce(function(o,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return o;if(s==="content")o[s]=a;else try{o[s]=JSON.parse(a)}catch{o[s]=a}return o},{});return r}function evaluateProps(t,e){var n=Object.assign({},e,{content:invokeWithArgsOrReturn(e.content,[t])},e.ignoreAttributes?{}:getDataAttributeProps(t,e.plugins));return n.aria=Object.assign({},defaultProps.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(t,e){t[innerHTML()]=e}function createArrowElement(t){var e=div();return t===!0?e.className=ARROW_CLASS:(e.className=SVG_ARROW_CLASS,isElement(t)?e.appendChild(t):dangerouslySetInnerHTML(e,t)),e}function setContent(t,e){isElement(e.content)?(dangerouslySetInnerHTML(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?dangerouslySetInnerHTML(t,e.content):t.textContent=e.content)}function getChildren(t){var e=t.firstElementChild,n=arrayFrom(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(CONTENT_CLASS)}),arrow:n.find(function(r){return r.classList.contains(ARROW_CLASS)||r.classList.contains(SVG_ARROW_CLASS)}),backdrop:n.find(function(r){return r.classList.contains(BACKDROP_CLASS)})}}function render(t){var e=div(),n=div();n.className=BOX_CLASS,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=div();r.className=CONTENT_CLASS,r.setAttribute("data-state","hidden"),setContent(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props);function o(s,a){var c=getChildren(e),l=c.box,u=c.content,f=c.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&setContent(u,t.props),a.arrow?f?s.arrow!==a.arrow&&(l.removeChild(f),l.appendChild(createArrowElement(a.arrow))):l.appendChild(createArrowElement(a.arrow)):f&&l.removeChild(f)}return{popper:e,onUpdate:o}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(t,e){var n=evaluateProps(t,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(e)))),r,o,s,a=!1,c=!1,l=!1,u=!1,f,b,S,v=[],g=debounce(Pe,n.interactiveDebounce),w,A=idCounter++,T=null,O=unique(n.plugins),R={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:A,reference:t,popper:div(),popperInstance:T,props:n,state:R,plugins:O,clearDelayTimeouts:D,setProps:N,setContent:X,show:Ee,hide:be,hideWithInteractivity:J,enable:H,disable:W,unmount:z,destroy:ne};if(!n.render)return k;var V=n.render(k),P=V.popper,B=V.onUpdate;P.setAttribute("data-tippy-root",""),P.id="tippy-"+k.id,k.popper=P,t._tippy=k,P._tippy=k;var j=O.map(function(te){return te.fn(k)}),q=t.hasAttribute("aria-expanded");return vt(),ft(),fe(),Ne("onCreate",[k]),n.showOnCreate&&St(),P.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),P.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&le().addEventListener("mousemove",g)}),k;function Y(){var te=k.props.touch;return Array.isArray(te)?te:[te,0]}function ae(){return Y()[0]==="hold"}function me(){var te;return!!((te=k.props.render)!=null&&te.$$tippy)}function Q(){return w||t}function le(){var te=Q().parentNode;return te?getOwnerDocument(te):document}function Se(){return getChildren(P)}function ve(te){return k.state.isMounted&&!k.state.isVisible||currentInput.isTouch||f&&f.type==="focus"?0:getValueAtIndexOrReturn(k.props.delay,te?0:1,defaultProps.delay)}function fe(te){te===void 0&&(te=!1),P.style.pointerEvents=k.props.interactive&&!te?"":"none",P.style.zIndex=""+k.props.zIndex}function Ne(te,de,Me){if(Me===void 0&&(Me=!0),j.forEach(function(De){De[te]&&De[te].apply(De,de)}),Me){var Ae;(Ae=k.props)[te].apply(Ae,de)}}function st(){var te=k.props.aria;if(te.content){var de="aria-"+te.content,Me=P.id,Ae=normalizeToArray(k.props.triggerTarget||t);Ae.forEach(function(De){var Ge=De.getAttribute(de);if(k.state.isVisible)De.setAttribute(de,Ge?Ge+" "+Me:Me);else{var ct=Ge&&Ge.replace(Me,"").trim();ct?De.setAttribute(de,ct):De.removeAttribute(de)}})}}function ft(){if(!(q||!k.props.aria.expanded)){var te=normalizeToArray(k.props.triggerTarget||t);te.forEach(function(de){k.props.interactive?de.setAttribute("aria-expanded",k.state.isVisible&&de===Q()?"true":"false"):de.removeAttribute("aria-expanded")})}}function et(){le().removeEventListener("mousemove",g),mouseMoveListeners=mouseMoveListeners.filter(function(te){return te!==g})}function Nt(te){if(!(currentInput.isTouch&&(l||te.type==="mousedown"))){var de=te.composedPath&&te.composedPath()[0]||te.target;if(!(k.props.interactive&&actualContains(P,de))){if(normalizeToArray(k.props.triggerTarget||t).some(function(Me){return actualContains(Me,de)})){if(currentInput.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else Ne("onClickOutside",[k,te]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),c=!0,setTimeout(function(){c=!1}),k.state.isMounted||Mt())}}}function re(){l=!0}function Ue(){l=!1}function gt(){var te=le();te.addEventListener("mousedown",Nt,!0),te.addEventListener("touchend",Nt,TOUCH_OPTIONS),te.addEventListener("touchstart",Ue,TOUCH_OPTIONS),te.addEventListener("touchmove",re,TOUCH_OPTIONS)}function Mt(){var te=le();te.removeEventListener("mousedown",Nt,!0),te.removeEventListener("touchend",Nt,TOUCH_OPTIONS),te.removeEventListener("touchstart",Ue,TOUCH_OPTIONS),te.removeEventListener("touchmove",re,TOUCH_OPTIONS)}function Ze(te,de){Ye(te,function(){!k.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&de()})}function Fe(te,de){Ye(te,de)}function Ye(te,de){var Me=Se().box;function Ae(De){De.target===Me&&(updateTransitionEndListener(Me,"remove",Ae),de())}if(te===0)return de();updateTransitionEndListener(Me,"remove",b),updateTransitionEndListener(Me,"add",Ae),b=Ae}function ht(te,de,Me){Me===void 0&&(Me=!1);var Ae=normalizeToArray(k.props.triggerTarget||t);Ae.forEach(function(De){De.addEventListener(te,de,Me),v.push({node:De,eventType:te,handler:de,options:Me})})}function vt(){ae()&&(ht("touchstart",we,{passive:!0}),ht("touchend",je,{passive:!0})),splitBySpaces(k.props.trigger).forEach(function(te){if(te!=="manual")switch(ht(te,we),te){case"mouseenter":ht("mouseleave",je);break;case"focus":ht(isIE11?"focusout":"blur",ze);break;case"focusin":ht("focusout",ze);break}})}function ye(){v.forEach(function(te){var de=te.node,Me=te.eventType,Ae=te.handler,De=te.options;de.removeEventListener(Me,Ae,De)}),v=[]}function we(te){var de,Me=!1;if(!(!k.state.isEnabled||rt(te)||c)){var Ae=((de=f)==null?void 0:de.type)==="focus";f=te,w=te.currentTarget,ft(),!k.state.isVisible&&isMouseEvent(te)&&mouseMoveListeners.forEach(function(De){return De(te)}),te.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||a)&&k.props.hideOnClick!==!1&&k.state.isVisible?Me=!0:St(te),te.type==="click"&&(a=!Me),Me&&!Ae&&Et(te)}}function Pe(te){var de=te.target,Me=Q().contains(de)||P.contains(de);if(!(te.type==="mousemove"&&Me)){var Ae=We().concat(P).map(function(De){var Ge,ct=De._tippy,pt=(Ge=ct.popperInstance)==null?void 0:Ge.state;return pt?{popperRect:De.getBoundingClientRect(),popperState:pt,props:n}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(Ae,te)&&(et(),Et(te))}}function je(te){var de=rt(te)||k.props.trigger.indexOf("click")>=0&&a;if(!de){if(k.props.interactive){k.hideWithInteractivity(te);return}Et(te)}}function ze(te){k.props.trigger.indexOf("focusin")<0&&te.target!==Q()||k.props.interactive&&te.relatedTarget&&P.contains(te.relatedTarget)||Et(te)}function rt(te){return currentInput.isTouch?ae()!==te.type.indexOf("touch")>=0:!1}function mt(){dt();var te=k.props,de=te.popperOptions,Me=te.placement,Ae=te.offset,De=te.getReferenceClientRect,Ge=te.moveTransition,ct=me()?getChildren(P).arrow:null,pt=De?{getBoundingClientRect:De,contextElement:De.contextElement||Q()}:t,Dt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(He){var it=He.state;if(me()){var oe=Se(),ge=oe.box;["placement","reference-hidden","escaped"].forEach(function(F){F==="placement"?ge.setAttribute("data-placement",it.placement):it.attributes.popper["data-popper-"+F]?ge.setAttribute("data-"+F,""):ge.removeAttribute("data-"+F)}),it.attributes.popper={}}}},It=[{name:"offset",options:{offset:Ae}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ge}},Dt];me()&&ct&&It.push({name:"arrow",options:{element:ct,padding:3}}),It.push.apply(It,(de==null?void 0:de.modifiers)||[]),k.popperInstance=createPopper(pt,P,Object.assign({},de,{placement:Me,onFirstUpdate:S,modifiers:It}))}function dt(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function lt(){var te=k.props.appendTo,de,Me=Q();k.props.interactive&&te===TIPPY_DEFAULT_APPEND_TO||te==="parent"?de=Me.parentNode:de=invokeWithArgsOrReturn(te,[Me]),de.contains(P)||de.appendChild(P),k.state.isMounted=!0,mt()}function We(){return arrayFrom(P.querySelectorAll("[data-tippy-root]"))}function St(te){k.clearDelayTimeouts(),te&&Ne("onTrigger",[k,te]),gt();var de=ve(!0),Me=Y(),Ae=Me[0],De=Me[1];currentInput.isTouch&&Ae==="hold"&&De&&(de=De),de?r=setTimeout(function(){k.show()},de):k.show()}function Et(te){if(k.clearDelayTimeouts(),Ne("onUntrigger",[k,te]),!k.state.isVisible){Mt();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(te.type)>=0&&a)){var de=ve(!1);de?o=setTimeout(function(){k.state.isVisible&&k.hide()},de):s=requestAnimationFrame(function(){k.hide()})}}function H(){k.state.isEnabled=!0}function W(){k.hide(),k.state.isEnabled=!1}function D(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(s)}function N(te){if(!k.state.isDestroyed){Ne("onBeforeUpdate",[k,te]),ye();var de=k.props,Me=evaluateProps(t,Object.assign({},de,removeUndefinedProps(te),{ignoreAttributes:!0}));k.props=Me,vt(),de.interactiveDebounce!==Me.interactiveDebounce&&(et(),g=debounce(Pe,Me.interactiveDebounce)),de.triggerTarget&&!Me.triggerTarget?normalizeToArray(de.triggerTarget).forEach(function(Ae){Ae.removeAttribute("aria-expanded")}):Me.triggerTarget&&t.removeAttribute("aria-expanded"),ft(),fe(),B&&B(de,Me),k.popperInstance&&(mt(),We().forEach(function(Ae){requestAnimationFrame(Ae._tippy.popperInstance.forceUpdate)})),Ne("onAfterUpdate",[k,te])}}function X(te){k.setProps({content:te})}function Ee(){var te=k.state.isVisible,de=k.state.isDestroyed,Me=!k.state.isEnabled,Ae=currentInput.isTouch&&!k.props.touch,De=getValueAtIndexOrReturn(k.props.duration,0,defaultProps.duration);if(!(te||de||Me||Ae)&&!Q().hasAttribute("disabled")&&(Ne("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,me()&&(P.style.visibility="visible"),fe(),gt(),k.state.isMounted||(P.style.transition="none"),me()){var Ge=Se(),ct=Ge.box,pt=Ge.content;setTransitionDuration([ct,pt],0)}S=function(){var It;if(!(!k.state.isVisible||u)){if(u=!0,P.offsetHeight,P.style.transition=k.props.moveTransition,me()&&k.props.animation){var Ce=Se(),He=Ce.box,it=Ce.content;setTransitionDuration([He,it],De),setVisibilityState([He,it],"visible")}st(),ft(),pushIfUnique(mountedInstances,k),(It=k.popperInstance)==null||It.forceUpdate(),Ne("onMount",[k]),k.props.animation&&me()&&Fe(De,function(){k.state.isShown=!0,Ne("onShown",[k])})}},lt()}}function be(){var te=!k.state.isVisible,de=k.state.isDestroyed,Me=!k.state.isEnabled,Ae=getValueAtIndexOrReturn(k.props.duration,1,defaultProps.duration);if(!(te||de||Me)&&(Ne("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,u=!1,a=!1,me()&&(P.style.visibility="hidden"),et(),Mt(),fe(!0),me()){var De=Se(),Ge=De.box,ct=De.content;k.props.animation&&(setTransitionDuration([Ge,ct],Ae),setVisibilityState([Ge,ct],"hidden"))}st(),ft(),k.props.animation?me()&&Ze(Ae,k.unmount):k.unmount()}}function J(te){le().addEventListener("mousemove",g),pushIfUnique(mouseMoveListeners,g),g(te)}function z(){k.state.isVisible&&k.hide(),k.state.isMounted&&(dt(),We().forEach(function(te){te._tippy.unmount()}),P.parentNode&&P.parentNode.removeChild(P),mountedInstances=mountedInstances.filter(function(te){return te!==k}),k.state.isMounted=!1,Ne("onHidden",[k]))}function ne(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),ye(),delete t._tippy,k.state.isDestroyed=!0,Ne("onDestroy",[k]))}}function tippy(t,e){e===void 0&&(e={});var n=defaultProps.plugins.concat(e.plugins||[]);bindGlobalEventListeners();var r=Object.assign({},e,{plugins:n}),o=getArrayOfElements(t),s=o.reduce(function(a,c){var l=c&&createTippy(c,r);return l&&a.push(l),a},[]);return isElement(t)?s[0]:s}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});tippy.setDefaultProps({render});class BubbleMenuView{constructor({editor:e,element:n,view:r,tippyOptions:o={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:c,state:l,from:u,to:f})=>{const{doc:b,selection:S}=l,{empty:v}=S,g=!b.textBetween(u,f).length&&isTextSelection(l.selection),w=this.element.contains(document.activeElement);return!(!(c.hasFocus()||w)||v||g||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var l;if(this.preventHide){this.preventHide=!1;return}c!=null&&c.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(c.relatedTarget))||(c==null?void 0:c.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=c=>{this.blurHandler({event:c})},this.handleDebouncedUpdate=(c,l)=>{const u=!(l!=null&&l.selection.eq(c.state.selection)),f=!(l!=null&&l.doc.eq(c.state.doc));!u&&!f||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(c,u,f,l)},this.updateDelay))},this.updateHandler=(c,l,u,f)=>{var b,S,v;const{state:g,composing:w}=c,{selection:A}=g;if(w||!l&&!u)return;this.createTooltip();const{ranges:O}=A,R=Math.min(...O.map(P=>P.$from.pos)),k=Math.max(...O.map(P=>P.$to.pos));if(!((b=this.shouldShow)===null||b===void 0?void 0:b.call(this,{editor:this.editor,element:this.element,view:c,state:g,oldState:f,from:R,to:k}))){this.hide();return}(S=this.tippy)===null||S===void 0||S.setProps({getReferenceClientRect:((v=this.tippyOptions)===null||v===void 0?void 0:v.getReferenceClientRect)||(()=>{if(isNodeSelection(g.selection)){let P=c.nodeDOM(R);if(P){const B=P.dataset.nodeViewWrapper?P:P.querySelector("[data-node-view-wrapper]");if(B&&(P=B.firstChild),P)return P.getBoundingClientRect()}}return posToDOMRect(c,R,k)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=tippy(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,o=r.selection.from!==r.selection.to;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),a=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const BubbleMenuPlugin=t=>new Plugin({key:typeof t.pluginKey=="string"?new PluginKey(t.pluginKey):t.pluginKey,view:e=>new BubbleMenuView({view:e,...t})});Extension.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[BubbleMenuPlugin({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class FloatingMenuView{getTextContent(e){return getText(e,{textSerializers:getTextSerializersFromSchema(this.editor.schema)})}constructor({editor:e,element:n,view:r,tippyOptions:o={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:c})=>{const{selection:l}=c,{$anchor:u,empty:f}=l,b=u.depth===1,S=u.parent.isTextblock&&!u.parent.type.spec.code&&!u.parent.textContent&&u.parent.childCount===0&&!this.getTextContent(u.parent);return!(!a.hasFocus()||!f||!b||!S||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.editor=e,this.element=n,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=tippy(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){var r,o,s;const{state:a}=e,{doc:c,selection:l}=a,{from:u,to:f}=l;if(n&&n.doc.eq(c)&&n.selection.eq(l))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:a,oldState:n}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>posToDOMRect(e,u,f))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const FloatingMenuPlugin=t=>new Plugin({key:typeof t.pluginKey=="string"?new PluginKey(t.pluginKey):t.pluginKey,view:e=>new FloatingMenuView({view:e,...t})}),FloatingMenu=Extension.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[FloatingMenuPlugin({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});defineComponent({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=ref(null);return onMounted(()=>{const{updateDelay:r,editor:o,pluginKey:s,shouldShow:a,tippyOptions:c}=t;o.registerPlugin(BubbleMenuPlugin({updateDelay:r,editor:o,element:n.value,pluginKey:s,shouldShow:a,tippyOptions:c}))}),onBeforeUnmount(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return h("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function useDebouncedRef(t){return customRef((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Editor extends Editor$1{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=useDebouncedRef(this.view.state),this.reactiveExtensionStorage=useDebouncedRef(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const r=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const EditorContent=defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=ref(),n=getCurrentInstance();return watchEffect(()=>{const r=t.editor;r&&r.options.element&&e.value&&nextTick(()=>{if(!e.value||!r.options.element.firstChild)return;const o=unref(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:o}),r.createNodeViews()})}),onBeforeUnmount(()=>{const r=t.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:e}},render(){return h("div",{ref:t=>{this.rootEl=t}})}});defineComponent({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=ref(null);return onMounted(()=>{const{pluginKey:r,editor:o,tippyOptions:s,shouldShow:a}=t;o.registerPlugin(FloatingMenuPlugin({pluginKey:r,editor:o,element:n.value,tippyOptions:s,shouldShow:a}))}),onBeforeUnmount(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return h("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});defineComponent({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return h(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});defineComponent({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return h(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});const inputRegex$4=/^\s*>\s$/,Blockquote=Node$1.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$3=/^\s*([-+*])\s$/,BulletList=Node$1.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[t]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node$1.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mergeAttributes(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:u})=>(u.setSelection(Selection.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:t=>({language:t[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o==null?void 0:o.mode;if(!n||!s)return!1;const{tr:a,schema:c}=t.state,l=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(TextSelection.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(t={}){return new Plugin({view(e){return new DropCursorView(e,t)}})}class DropCursorView{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=a=>{this[o](a)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let c=e.nodeBefore,l=e.nodeAfter;if(c||l){let u=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(u){let f=u.getBoundingClientRect(),b=c?f.bottom:f.top;c&&l&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:b-this.width/2,bottom:b+this.width/2}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos);r={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,a;if(!o||o==document.body&&getComputedStyle(o).position=="static")s=-pageXOffset,a=-pageYOffset;else{let c=o.getBoundingClientRect();s=c.left-o.scrollLeft,a=c.top-o.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=dropPoint(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return GapCursor.valid(r)?new GapCursor(r):Selection.near(r)}content(){return Slice.empty}eq(e){return e instanceof GapCursor&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(e.resolve(n.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!closedBefore(e)||!closedAfter(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&GapCursor.valid(e))return e;let o=e.pos,s=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){s=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=n;let l=e.doc.resolve(o);if(GapCursor.valid(l))return l}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!NodeSelection.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=a,o+=n;let c=e.doc.resolve(o);if(GapCursor.valid(c))return c}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(e){this.pos=e}map(e){return new GapBookmark(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return GapCursor.valid(n)?new GapCursor(n):Selection.near(n)}}function closedBefore(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function closedAfter(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(t,e,n){return e.pos==n.pos&&GapCursor.valid(n)?new GapCursor(n):null},handleClick,handleKeyDown:handleKeyDown$1,handleDOMEvents:{beforeinput}}})}const handleKeyDown$1=keydownHandler({ArrowLeft:arrow$1("horiz",-1),ArrowRight:arrow$1("horiz",1),ArrowUp:arrow$1("vert",-1),ArrowDown:arrow$1("vert",1)});function arrow$1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let a=r.selection,c=e>0?a.$to:a.$from,l=a.empty;if(a instanceof TextSelection){if(!s.endOfTextblock(n)||c.depth==0)return!1;l=!1,c=r.doc.resolve(e>0?c.after():c.before())}let u=GapCursor.findGapCursorFrom(c,e,l);return u?(o&&o(r.tr.setSelection(new GapCursor(u))),!0):!1}}function handleClick(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!GapCursor.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&NodeSelection.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new GapCursor(r))),!0)}function beforeinput(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof GapCursor))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=Fragment.empty;for(let a=r.length-1;a>=0;a--)o=Fragment.from(r[a].createAndFill(null,o));let s=t.state.tr.replace(n.pos,n.pos,new Slice(o,0,0));return s.setSelection(TextSelection.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function drawGapCursor(t){if(!(t.selection instanceof GapCursor))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",DecorationSet.create(t.doc,[Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=callOrReturn(getExtensionField(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),HardBreak=Node$1.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mergeAttributes(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,l=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&l&&a){const b=l.filter(S=>c.includes(S.type.name));u.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node$1.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<GOOD_LEAF_SIZE&&this.leafAppend(e)||this.length<GOOD_LEAF_SIZE&&e.leafPrepend(this)||this.appendInner(e)):this};RopeSequence.prototype.prepend=function(e){return e.length?RopeSequence.from(e).append(this):this};RopeSequence.prototype.appendInner=function(e){return new Append(this,e)};RopeSequence.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};RopeSequence.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};RopeSequence.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};RopeSequence.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,a){return o.push(e(s,a))},n,r),o};RopeSequence.from=function(e){return e instanceof RopeSequence?e:e&&e.length?new Leaf(e):RopeSequence.empty};var Leaf=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,a,c){for(var l=s;l<a;l++)if(o(this.values[l],c+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,a,c){for(var l=s-1;l>=a;l--)if(o(this.values[l],c+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,a){var c=this.left.length;if(o<c&&this.left.forEachInner(r,o,Math.min(s,c),a)===!1||s>c&&this.right.forEachInner(r,Math.max(o-c,0),Math.min(this.length,s)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,a){var c=this.left.length;if(o>c&&this.right.forEachInvertedInner(r,o-c,Math.max(s,c)-c,a+c)===!1||s<c&&this.left.forEachInvertedInner(r,Math.min(o,c),s,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(RopeSequence);const max_empty_items=500;class Branch{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let a=e.tr,c,l,u=[],f=[];return this.items.forEach((b,S)=>{if(!b.step){o||(o=this.remapping(r,S+1),s=o.maps.length),s--,f.push(b);return}if(o){f.push(new Item(b.map));let v=b.step.map(o.slice(s)),g;v&&a.maybeStep(v).doc&&(g=a.mapping.maps[a.mapping.maps.length-1],u.push(new Item(g,void 0,void 0,u.length+f.length))),s--,g&&o.appendMap(g,s)}else a.maybeStep(b.step);if(b.selection)return c=o?b.selection.map(o.slice(s)):b.selection,l=new Branch(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:c}}addTransform(e,n,r,o){let s=[],a=this.eventCount,c=this.items,l=!o&&c.length?c.get(c.length-1):null;for(let f=0;f<e.steps.length;f++){let b=e.steps[f].invert(e.docs[f]),S=new Item(e.mapping.maps[f],b,n),v;(v=l&&l.merge(S))&&(S=v,f?s.pop():c=c.slice(0,c.length-1)),s.push(S),n&&(a++,n=void 0),o||(l=S)}let u=a-r.depth;return u>DEPTH_OVERFLOW&&(c=cutOffEvents(c,u),a-=u),new Branch(c.append(s),a)}remapping(e,n){let r=new Mapping;return this.items.forEach((o,s)=>{let a=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Branch(this.items.append(e.map(n=>new Item(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(S=>{S.selection&&c--},o);let l=n;this.items.forEach(S=>{let v=s.getMirror(--l);if(v==null)return;a=Math.min(a,v);let g=s.maps[v];if(S.step){let w=e.steps[v].invert(e.docs[v]),A=S.selection&&S.selection.map(s.slice(l+1,v));A&&c++,r.push(new Item(g,w,A))}else r.push(new Item(g))},o);let u=[];for(let S=n;S<a;S++)u.push(new Item(s.maps[S]));let f=this.items.slice(0,o).append(u).append(r),b=new Branch(f,c);return b.emptyItemCount()>max_empty_items&&(b=b.compress(this.items.length-r.length)),b}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],s=0;return this.items.forEach((a,c)=>{if(c>=e)o.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let f=a.selection&&a.selection.map(n.slice(r));f&&s++;let b=new Item(u.invert(),l,f),S,v=o.length-1;(S=o.length&&o[v].merge(b))?o[v]=S:o.push(b)}}else a.map&&r--},this.items.length,0),new Branch(RopeSequence.from(o.reverse()),s)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class Item{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Item(n.getMap().invert(),n,this.selection)}}}class HistoryState{constructor(e,n,r,o,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const DEPTH_OVERFLOW=20;function applyTransaction(t,e,n,r){let o=n.getMeta(historyKey),s;if(o)return o.historyState;n.getMeta(closeHistoryKey)&&(t=new HistoryState(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(historyKey))return a.getMeta(historyKey).redo?new HistoryState(t.done.addTransform(n,void 0,r,mustPreserveItems(e)),t.undone,rangesFor(n.mapping.maps),t.prevTime,t.prevComposition):new HistoryState(t.done,t.undone.addTransform(n,void 0,r,mustPreserveItems(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!isAdjacentTo(n,t.prevRanges)),u=a?mapRanges(t.prevRanges,n.mapping):rangesFor(n.mapping.maps);return new HistoryState(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,mustPreserveItems(e)),Branch.empty,u,n.time,c??t.prevComposition)}else return(s=n.getMeta("rebased"))?new HistoryState(t.done.rebased(n,s),t.undone.rebased(n,s),mapRanges(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new HistoryState(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),mapRanges(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function isAdjacentTo(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(n=!0)}),n}function rangesFor(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,s,a)=>e.push(s,a));return e}function mapRanges(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),s=e.map(t[r+1],-1);o<=s&&n.push(o,s)}return n}function histTransaction(t,e,n){let r=mustPreserveItems(e),o=historyKey.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),c=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),l=new HistoryState(n?c:s.remaining,n?s.remaining:c,null,0,-1);return s.transform.setSelection(a).setMeta(historyKey,{redo:n,historyState:l})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(t){let e=t.plugins;if(cachedPreserveItemsPlugins!=e){cachedPreserveItems=!1,cachedPreserveItemsPlugins=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(e,n,r){return applyTransaction(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?undo:r=="historyRedo"?redo:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function buildCommand(t,e){return(n,r)=>{let o=historyKey.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let s=histTransaction(o,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>undo(t,e),redo:()=>({state:t,dispatch:e})=>redo(t,e)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),HorizontalRule=Node$1.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mergeAttributes(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:o}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):isNodeSelection(n)?s.insertContentAt(o.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:c})=>{var l;if(c){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(TextSelection.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(NodeSelection.create(a.doc,u.pos)):a.setSelection(TextSelection.create(a.doc,u.pos));else{const b=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();b&&(a.insert(f,b),a.setSelection(TextSelection.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem=Node$1.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mergeAttributes(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$1=/^(\d+)\.\s$/,OrderedList=Node$1.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",mergeAttributes(this.options.HTMLAttributes,n),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Paragraph=Node$1.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text$1=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var t,e,n,r,o,s,a,c,l,u,f,b,S,v,g,w,A,T;const O=[];return this.options.bold!==!1&&O.push(Bold.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&O.push(Blockquote.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&O.push(BulletList.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&O.push(Code.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&O.push(CodeBlock.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&O.push(Document.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&O.push(Dropcursor.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&O.push(Gapcursor.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&O.push(HardBreak.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&O.push(Heading.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&O.push(History.configure((f=this.options)===null||f===void 0?void 0:f.history)),this.options.horizontalRule!==!1&&O.push(HorizontalRule.configure((b=this.options)===null||b===void 0?void 0:b.horizontalRule)),this.options.italic!==!1&&O.push(Italic.configure((S=this.options)===null||S===void 0?void 0:S.italic)),this.options.listItem!==!1&&O.push(ListItem.configure((v=this.options)===null||v===void 0?void 0:v.listItem)),this.options.orderedList!==!1&&O.push(OrderedList.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&O.push(Paragraph.configure((w=this.options)===null||w===void 0?void 0:w.paragraph)),this.options.strike!==!1&&O.push(Strike.configure((A=this.options)===null||A===void 0?void 0:A.strike)),this.options.text!==!1&&O.push(Text$1.configure((T=this.options)===null||T===void 0?void 0:T.text)),O}}),TextAlign=Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),mergeNestedSpanStyles=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,o;const s=n.getAttribute("style"),a=(o=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||o===void 0?void 0:o.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},TextStyle=Mark.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&mergeNestedSpanStyles(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Color=Extension.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",assign=(t,e)=>{for(const n in e)t[n]=e[n];return t},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(t,e){return t in e||(e[t]=[]),e[t]}function addToGroups(t,e,n){e[numeric]&&(e[asciinumeric]=!0,e[alphanumeric]=!0),e[ascii]&&(e[asciinumeric]=!0,e[alpha]=!0),e[asciinumeric]&&(e[alphanumeric]=!0),e[alpha]&&(e[alphanumeric]=!0),e[alphanumeric]&&(e[domain]=!0),e[emoji]&&(e[domain]=!0);for(const r in e){const o=registerGroup(r,n);o.indexOf(t)<0&&o.push(t)}}function flagsForToken(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function State(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}State.groups={};State.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],s=e.jr[r][1];if(s&&o.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||State.groups;let o;return e&&e.j?o=e:(o=new State(e),n&&r&&addToGroups(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const s=t.length;if(!s)return o;for(let a=0;a<s-1;a++)o=o.tt(t[a]);return o.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||State.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const s=e;let a,c=o.go(t);if(c?(a=new State,assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new State,s){if(r)if(a.t&&typeof a.t=="string"){const l=assign(flagsForToken(a.t,r),n);addToGroups(s,l,r)}else n&&addToGroups(s,n,r);a.t=s}return o.j[t]=a,a}};const ta=(t,e,n,r,o)=>t.ta(e,n,r,o),tr=(t,e,n,r,o)=>t.tr(e,n,r,o),ts=(t,e,n,r,o)=>t.ts(e,n,r,o),tt=(t,e,n,r,o)=>t.tt(e,n,r,o),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,WORD,UWORD,ASCIINUMERICAL,ALPHANUMERICAL,LOCALHOST,TLD,UTLD,SCHEME,SLASH_SCHEME,NUM,WS,NL,OPENBRACE,CLOSEBRACE,OPENBRACKET,CLOSEBRACKET,OPENPAREN,CLOSEPAREN,OPENANGLEBRACKET,CLOSEANGLEBRACKET,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN,AMPERSAND,APOSTROPHE,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,COLON,COMMA,DOLLAR,DOT,EQUALS,EXCLAMATION,HYPHEN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,FULLWIDTHMIDDLEDOT,SEMI,SLASH,TILDE,UNDERSCORE,EMOJI:EMOJI$1,SYM});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="️",EMOJI_JOINER="‍",OBJECT_REPLACEMENT="￼";let tlds=null,utlds=null;function init$2(t=[]){const e={};State.groups=e;const n=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(n,"'",APOSTROPHE),tt(n,"{",OPENBRACE),tt(n,"}",CLOSEBRACE),tt(n,"[",OPENBRACKET),tt(n,"]",CLOSEBRACKET),tt(n,"(",OPENPAREN),tt(n,")",CLOSEPAREN),tt(n,"<",OPENANGLEBRACKET),tt(n,">",CLOSEANGLEBRACKET),tt(n,"（",FULLWIDTHLEFTPAREN),tt(n,"）",FULLWIDTHRIGHTPAREN),tt(n,"「",LEFTCORNERBRACKET),tt(n,"」",RIGHTCORNERBRACKET),tt(n,"『",LEFTWHITECORNERBRACKET),tt(n,"』",RIGHTWHITECORNERBRACKET),tt(n,"＜",FULLWIDTHLESSTHAN),tt(n,"＞",FULLWIDTHGREATERTHAN),tt(n,"&",AMPERSAND),tt(n,"*",ASTERISK),tt(n,"@",AT),tt(n,"`",BACKTICK),tt(n,"^",CARET),tt(n,":",COLON),tt(n,",",COMMA),tt(n,"$",DOLLAR),tt(n,".",DOT),tt(n,"=",EQUALS),tt(n,"!",EXCLAMATION),tt(n,"-",HYPHEN),tt(n,"%",PERCENT),tt(n,"|",PIPE),tt(n,"+",PLUS),tt(n,"#",POUND),tt(n,"?",QUERY),tt(n,'"',QUOTE),tt(n,"/",SLASH),tt(n,";",SEMI),tt(n,"~",TILDE),tt(n,"_",UNDERSCORE),tt(n,"\\",BACKSLASH),tt(n,"・",FULLWIDTHMIDDLEDOT);const r=tr(n,DIGIT,NUM,{[numeric]:!0});tr(r,DIGIT,r);const o=tr(r,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),s=tr(r,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),a=tr(n,ASCII_LETTER,WORD,{[ascii]:!0});tr(a,DIGIT,o),tr(a,ASCII_LETTER,a),tr(o,DIGIT,o),tr(o,ASCII_LETTER,o);const c=tr(n,LETTER,UWORD,{[alpha]:!0});tr(c,ASCII_LETTER),tr(c,DIGIT,s),tr(c,LETTER,c),tr(s,DIGIT,s),tr(s,ASCII_LETTER),tr(s,LETTER,s);const l=tt(n,LF,NL,{[whitespace]:!0}),u=tt(n,CR,WS,{[whitespace]:!0}),f=tr(n,SPACE,WS,{[whitespace]:!0});tt(n,OBJECT_REPLACEMENT,f),tt(u,LF,l),tt(u,OBJECT_REPLACEMENT,f),tr(u,SPACE,f),tt(f,CR),tt(f,LF),tr(f,SPACE,f),tt(f,OBJECT_REPLACEMENT,f);const b=tr(n,EMOJI,EMOJI$1,{[emoji]:!0});tt(b,"#"),tr(b,EMOJI,b),tt(b,EMOJI_VARIATION,b);const S=tt(b,EMOJI_JOINER);tt(S,"#"),tr(S,EMOJI,b);const v=[[ASCII_LETTER,a],[DIGIT,o]],g=[[ASCII_LETTER,null],[LETTER,c],[DIGIT,s]];for(let w=0;w<tlds.length;w++)fastts(n,tlds[w],TLD,WORD,v);for(let w=0;w<utlds.length;w++)fastts(n,utlds[w],UTLD,UWORD,g);addToGroups(TLD,{tld:!0,ascii:!0},e),addToGroups(UTLD,{utld:!0,alpha:!0},e),fastts(n,"file",SCHEME,WORD,v),fastts(n,"mailto",SCHEME,WORD,v),fastts(n,"http",SLASH_SCHEME,WORD,v),fastts(n,"https",SLASH_SCHEME,WORD,v),fastts(n,"ftp",SLASH_SCHEME,WORD,v),fastts(n,"ftps",SLASH_SCHEME,WORD,v),addToGroups(SCHEME,{scheme:!0,ascii:!0},e),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},e),t=t.sort((w,A)=>w[0]>A[0]?1:-1);for(let w=0;w<t.length;w++){const A=t[w][0],O=t[w][1]?{[scheme]:!0}:{[slashscheme]:!0};A.indexOf("-")>=0?O[domain]=!0:ASCII_LETTER.test(A)?DIGIT.test(A)?O[asciinumeric]=!0:O[ascii]=!0:O[numeric]=!0,ts(n,A,A,O)}return ts(n,"localhost",LOCALHOST,{ascii:!0}),n.jd=new State(SYM),{start:n,tokens:assign({groups:e},tk)}}function run$1(t,e){const n=stringToArray(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,o=[];let s=0,a=0;for(;a<r;){let c=t,l=null,u=0,f=null,b=-1,S=-1;for(;a<r&&(l=c.go(n[a]));)c=l,c.accepts()?(b=0,S=0,f=c):b>=0&&(b+=n[a].length,S++),u+=n[a].length,s+=n[a].length,a++;s-=b,a-=S,u-=b,o.push({t:f.t,v:e.slice(s-u,s),s:s-u,e:s})}return o}function stringToArray(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),s,a=o<55296||o>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function fastts(t,e,n,r,o){let s;const a=e.length;for(let c=0;c<a-1;c++){const l=e[c];t.j[l]?s=t.j[l]:(s=new State(r),s.jr=o.slice(),t.j[l]=s),t=s}return s=new State(n),s.jr=o.slice(),t.j[e[a-1]]=s,s}function decodeTlds(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let s=0;for(;o.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(t,e=null){let n=assign({},defaults);t&&(n=assign(n,t instanceof Options?t.o:t));const r=n.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}Options.prototype={o:defaults,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:defaults[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function noop(t){return t}function MultiToken(t,e){this.t="token",this.v=t,this.tk=e}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),s=this.toFormattedString(t),a={},c=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),f=t.getObj("attributes",n,e),b=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),l&&(a.target=l),u&&(a.rel=u),f&&assign(a,f),{tagName:o,attributes:a,content:s,eventListeners:b}}};function createTokenClass(t,e){class n extends MultiToken{constructor(o,s){super(o,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(t=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==LOCALHOST&&t[1].t===COLON}}),makeState=t=>new State(t);function init$1({groups:t}){const e=t.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),n=[COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],r=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],o=makeState(),s=tt(o,TILDE);ta(s,r,s),ta(s,t.domain,s);const a=makeState(),c=makeState(),l=makeState();ta(o,t.domain,a),ta(o,t.scheme,c),ta(o,t.slashscheme,l),ta(a,r,s),ta(a,t.domain,a);const u=tt(a,AT);tt(s,AT,u),tt(c,AT,u),tt(l,AT,u);const f=tt(s,DOT);ta(f,r,s),ta(f,t.domain,s);const b=makeState();ta(u,t.domain,b),ta(b,t.domain,b);const S=tt(b,DOT);ta(S,t.domain,b);const v=makeState(Email);ta(S,t.tld,v),ta(S,t.utld,v),tt(u,LOCALHOST,v);const g=tt(b,HYPHEN);tt(g,HYPHEN,g),ta(g,t.domain,b),ta(v,t.domain,b),tt(v,DOT,S),tt(v,HYPHEN,g);const w=tt(v,COLON);ta(w,t.numeric,Email);const A=tt(a,HYPHEN),T=tt(a,DOT);tt(A,HYPHEN,A),ta(A,t.domain,a),ta(T,r,s),ta(T,t.domain,a);const O=makeState(Url);ta(T,t.tld,O),ta(T,t.utld,O),ta(O,t.domain,a),ta(O,r,s),tt(O,DOT,T),tt(O,HYPHEN,A),tt(O,AT,u);const R=tt(O,COLON),k=makeState(Url);ta(R,t.numeric,k);const V=makeState(Url),P=makeState();ta(V,e,V),ta(V,n,P),ta(P,e,V),ta(P,n,P),tt(O,SLASH,V),tt(k,SLASH,V);const B=tt(c,COLON),j=tt(l,COLON),q=tt(j,SLASH),Y=tt(q,SLASH);ta(c,t.domain,a),tt(c,DOT,T),tt(c,HYPHEN,A),ta(l,t.domain,a),tt(l,DOT,T),tt(l,HYPHEN,A),ta(B,t.domain,V),tt(B,SLASH,V),tt(B,QUERY,V),ta(Y,t.domain,V),ta(Y,e,V),tt(Y,SLASH,V);const ae=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let me=0;me<ae.length;me++){const[Q,le]=ae[me],Se=tt(V,Q);tt(P,Q,Se),tt(Se,le,V);const ve=makeState(Url);ta(Se,e,ve);const fe=makeState();ta(Se,n),ta(ve,e,ve),ta(ve,n,fe),ta(fe,e,ve),ta(fe,n,fe),tt(ve,le,V),tt(fe,le,V)}return tt(o,LOCALHOST,O),tt(o,NL,Nl),{start:o,tokens:tk}}function run(t,e,n){let r=n.length,o=0,s=[],a=[];for(;o<r;){let c=t,l=null,u=null,f=0,b=null,S=-1;for(;o<r&&!(l=c.go(n[o].t));)a.push(n[o++]);for(;o<r&&(u=l||c.go(n[o].t));)l=null,c=u,c.accepts()?(S=0,b=c):S>=0&&S++,o++,f++;if(S<0)o-=f,o<r&&(a.push(n[o]),o++);else{a.length>0&&(s.push(initMultiToken(Text,e,a)),a=[]),o-=S,f-=S;const v=b.t,g=n.slice(o-f,o);s.push(initMultiToken(v,e,g))}}return a.length>0&&s.push(initMultiToken(Text,e,a)),s}function initMultiToken(t,e,n){const r=n[0].s,o=n[n.length-1].e,s=e.slice(r,o);return new t(s,n)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(t,e=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${t}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([t,e])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let t=0;t<INIT.tokenQueue.length;t++)INIT.tokenQueue[t][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let t=0;t<INIT.pluginQueue.length;t++)INIT.pluginQueue[t][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(t){return INIT.initialized||init(),run(INIT.parser.start,t,run$1(INIT.scanner.start,t))}tokenize.scan=run$1;function find(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Options(n),o=tokenize(t),s=[];for(let a=0;a<o.length;a++){const c=o[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&s.push(c.toFormattedObject(r))}return s}function isValidLinkStructure(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function autolink(t){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!o||s)return;const{tr:a}=r,c=combineTransactionSteps(n.doc,[...e]);if(getChangedRanges(c).forEach(({newRange:u})=>{const f=findChildrenInRange(r.doc,u,v=>v.isTextblock);let b,S;if(f.length>1?(b=f[0],S=r.doc.textBetween(b.pos,b.pos+b.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(b=f[0],S=r.doc.textBetween(b.pos,u.to,void 0," ")),b&&S){const v=S.split(" ").filter(T=>T!=="");if(v.length<=0)return!1;const g=v[v.length-1],w=b.pos+S.lastIndexOf(g);if(!g)return!1;const A=tokenize(g).map(T=>T.toObject(t.defaultProtocol));if(!isValidLinkStructure(A))return!1;A.filter(T=>T.isLink).map(T=>({...T,from:w+T.start+1,to:w+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{getMarksBetween(T.from,T.to,r.doc).some(O=>O.mark.type===t.type)||a.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function clickHandler(t){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,s;if(r.button!==0||!e.editable)return!1;let a=r.target;const c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(S=>S.nodeName==="A"))return!1;const l=getAttributes(e.state,t.type.name),u=r.target,f=(o=u==null?void 0:u.href)!==null&&o!==void 0?o:l.href,b=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:l.target;return u&&f?(window.open(f,b),!0):!1}}})}function pasteHandler(t){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:s}=o,{empty:a}=s;if(a)return!1;let c="";r.content.forEach(u=>{c+=u.textContent});const l=find(c,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===c);return!c||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const ATTR_WHITESPACE=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function isAllowedUri(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(ATTR_WHITESPACE,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){registerCustomProtocol(t);return}registerCustomProtocol(t.scheme,t.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!isAllowedUri(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!isAllowedUri(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!isAllowedUri(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,t),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!isAllowedUri(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!isAllowedUri(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=find(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!isAllowedUri(a,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!isAllowedUri(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(clickHandler({type:this.type})),this.options.linkOnPaste&&t.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});var readFromCache,addToCache;if(typeof WeakMap<"u"){let t=new WeakMap;readFromCache=e=>t.get(e),addToCache=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;readFromCache=r=>{for(let o=0;o<t.length;o+=2)if(t[o]==r)return t[o+1]},addToCache=(r,o)=>(n==10&&(n=0),t[n++]=r,t[n++]=o)}var TableMap=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,o=e/this.width|0;let s=r+1,a=o+1;for(let c=1;s<this.width&&this.map[e+c]==n;c++)s++;for(let c=1;a<this.height&&this.map[e+this.width*c]==n;c++)a++;return{left:r,top:o,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:o,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:o==this.width)?null:this.map[s*this.width+(n<0?r-1:o)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:r,top:o,bottom:s}=this.findCell(t),{left:a,right:c,top:l,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,c),bottom:Math.max(s,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let o=t.left;o<t.right;o++){const s=r*this.width+o,a=this.map[s];n[a]||(n[a]=!0,!(o==t.left&&o&&this.map[s-1]==a||r==t.top&&r&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,o=0;;r++){const s=o+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const c=(t+1)*this.width;for(;a<c&&this.map[a]<o;)a++;return a==c?s-1:this.map[a]}o=s}}static get(t){return readFromCache(t)||addToCache(t,computeMap(t))}};function computeMap(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=findWidth(t),n=t.childCount,r=[];let o=0,s=null;const a=[];for(let u=0,f=e*n;u<f;u++)r[u]=0;for(let u=0,f=0;u<n;u++){const b=t.child(u);f++;for(let g=0;;g++){for(;o<r.length&&r[o]!=0;)o++;if(g==b.childCount)break;const w=b.child(g),{colspan:A,rowspan:T,colwidth:O}=w.attrs;for(let R=0;R<T;R++){if(R+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:T-R});break}const k=o+R*e;for(let V=0;V<A;V++){r[k+V]==0?r[k+V]=f:(s||(s=[])).push({type:"collision",row:u,pos:f,n:A-V});const P=O&&O[V];if(P){const B=(k+V)%e*2,j=a[B];j==null||j!=P&&a[B+1]==1?(a[B]=P,a[B+1]=1):j==P&&a[B+1]++}}}o+=A,f+=w.nodeSize}const S=(u+1)*e;let v=0;for(;o<S;)r[o++]==0&&v++;v&&(s||(s=[])).push({type:"missing",row:u,n:v}),f++}const c=new TableMap(e,n,r,s);let l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(l=!0);return l&&findBadColWidths(c,a,t),c}function findWidth(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const o=t.child(r);let s=0;if(n)for(let a=0;a<r;a++){const c=t.child(a);for(let l=0;l<c.childCount;l++){const u=c.child(l);a+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let a=0;a<o.childCount;a++){const c=o.child(a);s+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function findBadColWidths(t,e,n){t.problems||(t.problems=[]);const r={};for(let o=0;o<t.map.length;o++){const s=t.map[o];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let c=null;const l=a.attrs;for(let u=0;u<l.colspan;u++){const f=(o+u)%t.width,b=e[f*2];b!=null&&(!l.colwidth||l.colwidth[u]!=b)&&((c||(c=freshColWidth(l)))[u]=b)}c&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:c})}}function freshColWidth(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function tableNodeTypes(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}var tableEditingKey=new PluginKey("selectingCells");function cellAround(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function cellWrapping(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function isInTable(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function selectionCell(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=cellAround(e.$head)||cellNear(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function cellNear(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function pointsAtCell(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function moveCellForward(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function inSameTable(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function nextCell(t,e,n){const r=t.node(-1),o=TableMap.get(r),s=t.start(-1),a=o.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function removeColSpan(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function addColSpan(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function columnIsHeader(t,e,n){const r=tableNodeTypes(e.type.schema).header_cell;for(let o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var CellSelection=class br extends Selection{constructor(e,n=e){const r=e.node(-1),o=TableMap.get(r),s=e.start(-1),a=o.rectBetween(e.pos-s,n.pos-s),c=e.node(0),l=o.cellsInRect(a).filter(f=>f!=n.pos-s);l.unshift(n.pos-s);const u=l.map(f=>{const b=r.nodeAt(f);if(!b)throw RangeError(`No cell with offset ${f} found`);const S=s+f+1;return new SelectionRange(c.resolve(S),c.resolve(S+b.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(pointsAtCell(r)&&pointsAtCell(o)&&inSameTable(r,o)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?br.rowSelection(r,o):s&&this.isColSelection()?br.colSelection(r,o):new br(r,o)}return TextSelection.between(r,o)}content(){const e=this.$anchorCell.node(-1),n=TableMap.get(e),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let l=o.top;l<o.bottom;l++){const u=[];for(let f=l*n.width+o.left,b=o.left;b<o.right;b++,f++){const S=n.map[f];if(s[S])continue;s[S]=!0;const v=n.findCell(S);let g=e.nodeAt(S);if(!g)throw RangeError(`No cell with offset ${S} found`);const w=o.left-v.left,A=v.right-o.right;if(w>0||A>0){let T=g.attrs;if(w>0&&(T=removeColSpan(T,0,w)),A>0&&(T=removeColSpan(T,T.colspan-A,A)),v.left<o.left){if(g=g.type.createAndFill(T),!g)throw RangeError(`Could not create cell with attrs ${JSON.stringify(T)}`)}else g=g.type.create(T,g.content)}if(v.top<o.top||v.bottom>o.bottom){const T={...g.attrs,rowspan:Math.min(v.bottom,o.bottom)-Math.max(v.top,o.top)};v.top<o.top?g=g.type.createAndFill(T):g=g.type.create(T,g.content)}u.push(g)}a.push(e.child(l).copy(Fragment.from(u)))}const c=this.isColSelection()&&this.isRowSelection()?e:a;return new Slice(Fragment.from(c),1,1)}replace(e,n=Slice.empty){const r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){const{$from:c,$to:l}=o[a],u=e.mapping.slice(r);e.replace(u.map(c.pos),u.map(l.pos),a?Slice.empty:n)}const s=Selection.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Slice(Fragment.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=TableMap.get(n),o=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),o+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),o=TableMap.get(r),s=e.start(-1),a=o.findCell(e.pos-s),c=o.findCell(n.pos-s),l=e.node(0);return a.top<=c.top?(a.top>0&&(e=l.resolve(s+o.map[a.left])),c.bottom<o.height&&(n=l.resolve(s+o.map[o.width*(o.height-1)+c.right-1]))):(c.top>0&&(n=l.resolve(s+o.map[c.left])),a.bottom<o.height&&(e=l.resolve(s+o.map[o.width*(o.height-1)+a.right-1]))),new br(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=TableMap.get(e),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(o,s)>0)return!1;const a=o+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,c)==n.width}eq(e){return e instanceof br&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),o=TableMap.get(r),s=e.start(-1),a=o.findCell(e.pos-s),c=o.findCell(n.pos-s),l=e.node(0);return a.left<=c.left?(a.left>0&&(e=l.resolve(s+o.map[a.top*o.width])),c.right<o.width&&(n=l.resolve(s+o.map[o.width*(c.top+1)-1]))):(c.left>0&&(n=l.resolve(s+o.map[c.top*o.width])),a.right<o.width&&(e=l.resolve(s+o.map[o.width*(a.top+1)-1]))),new br(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new br(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new br(e.resolve(n),e.resolve(r))}getBookmark(){return new CellBookmark(this.$anchorCell.pos,this.$headCell.pos)}};CellSelection.prototype.visible=!1;Selection.jsonID("cell",CellSelection);var CellBookmark=class hc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new hc(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&inSameTable(n,r)?new CellSelection(n,r):Selection.near(r,1)}};function drawCellSelection(t){if(!(t.selection instanceof CellSelection))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Decoration.node(r,r+n.nodeSize,{class:"selectedCell"}))}),DecorationSet.create(t.doc,e)}function isCellBoundarySelection({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,o=t.depth;for(;o>=0&&!(t.after(o+1)<t.end(o));o--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(o).type.spec.tableRole)}function isTextSelectionAcrossCells({$from:t,$to:e}){let n,r;for(let o=t.depth;o>0;o--){const s=t.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let o=e.depth;o>0;o--){const s=e.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function normalizeSelection(t,e,n){const r=(e||t).selection,o=(e||t).doc;let s,a;if(r instanceof NodeSelection&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=CellSelection.create(o,r.from);else if(a=="row"){const c=o.resolve(r.from+1);s=CellSelection.rowSelection(c,c)}else if(!n){const c=TableMap.get(r.node),l=r.from+1,u=l+c.map[c.width*c.height-1];s=CellSelection.create(o,l+1,u)}}else r instanceof TextSelection&&isCellBoundarySelection(r)?s=TextSelection.create(o,r.from):r instanceof TextSelection&&isTextSelectionAcrossCells(r)&&(s=TextSelection.create(o,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var fixTablesKey=new PluginKey("fix-tables");function changedDescendants(t,e,n,r){const o=t.childCount,s=e.childCount;e:for(let a=0,c=0;a<s;a++){const l=e.child(a);for(let u=c,f=Math.min(o,a+3);u<f;u++)if(t.child(u)==l){c=u+1,n+=l.nodeSize;continue e}r(l,n),c<o&&t.child(c).sameMarkup(l)?changedDescendants(t.child(c),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function fixTables(t,e){let n;const r=(o,s)=>{o.type.spec.tableRole=="table"&&(n=fixTable(t,o,s,n))};return e?e.doc!=t.doc&&changedDescendants(e.doc,t.doc,0,r):t.doc.descendants(r),n}function fixTable(t,e,n,r){const o=TableMap.get(e);if(!o.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<o.height;l++)s.push(0);for(let l=0;l<o.problems.length;l++){const u=o.problems[l];if(u.type=="collision"){const f=e.nodeAt(u.pos);if(!f)continue;const b=f.attrs;for(let S=0;S<b.rowspan;S++)s[u.row+S]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,removeColSpan(b,b.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const f=e.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const f=e.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...f.attrs,colwidth:u.colwidth})}}let a,c;for(let l=0;l<s.length;l++)s[l]&&(a==null&&(a=l),c=l);for(let l=0,u=n+1;l<o.height;l++){const f=e.child(l),b=u+f.nodeSize,S=s[l];if(S>0){let v="cell";f.firstChild&&(v=f.firstChild.type.spec.tableRole);const g=[];for(let A=0;A<S;A++){const T=tableNodeTypes(t.schema)[v].createAndFill();T&&g.push(T)}const w=(l==0||a==l-1)&&c==l?u+1:b-1;r.insert(r.mapping.map(w),g)}u=b}return r.setMeta(fixTablesKey,{fixTables:!0})}function selectedRect(t){const e=t.selection,n=selectionCell(t),r=n.node(-1),o=n.start(-1),s=TableMap.get(r);return{...e instanceof CellSelection?s.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):s.findCell(n.pos-o),tableStart:o,map:s,table:r}}function addColumn(t,{map:e,tableStart:n,table:r},o){let s=o>0?-1:0;columnIsHeader(e,r,o+s)&&(s=o==0||o==e.width?null:0);for(let a=0;a<e.height;a++){const c=a*e.width+o;if(o>0&&o<e.width&&e.map[c-1]==e.map[c]){const l=e.map[c],u=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,addColSpan(u.attrs,o-e.colCount(l))),a+=u.attrs.rowspan-1}else{const l=s==null?tableNodeTypes(r.type.schema).cell:r.nodeAt(e.map[c+s]).type,u=e.positionAt(a,o,r);t.insert(t.mapping.map(n+u),l.createAndFill())}}return t}function addColumnBefore(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t);e(addColumn(t.tr,n,n.left))}return!0}function addColumnAfter(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t);e(addColumn(t.tr,n,n.right))}return!0}function removeColumn(t,{map:e,table:n,tableStart:r},o){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const c=a*e.width+o,l=e.map[c],u=n.nodeAt(l),f=u.attrs;if(o>0&&e.map[c-1]==l||o<e.width-1&&e.map[c+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,removeColSpan(f,o-e.colCount(l)));else{const b=t.mapping.slice(s).map(r+l);t.delete(b,b+u.nodeSize)}a+=f.rowspan}}function deleteColumn(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;removeColumn(r,n,o),o!=n.left;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=TableMap.get(s)}e(r)}return!0}function rowIsHeader(t,e,n){var r;const o=tableNodeTypes(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=o)return!1;return!0}function addRow(t,{map:e,tableStart:n,table:r},o){var s;let a=n;for(let u=0;u<o;u++)a+=r.child(u).nodeSize;const c=[];let l=o>0?-1:0;rowIsHeader(e,r,o+l)&&(l=o==0||o==e.height?null:0);for(let u=0,f=e.width*o;u<e.width;u++,f++)if(o>0&&o<e.height&&e.map[f]==e.map[f-e.width]){const b=e.map[f],S=r.nodeAt(b).attrs;t.setNodeMarkup(n+b,null,{...S,rowspan:S.rowspan+1}),u+=S.colspan-1}else{const b=l==null?tableNodeTypes(r.type.schema).cell:(s=r.nodeAt(e.map[f+l*e.width]))==null?void 0:s.type,S=b==null?void 0:b.createAndFill();S&&c.push(S)}return t.insert(a,tableNodeTypes(r.type.schema).row.create(null,c)),t}function addRowBefore(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t);e(addRow(t.tr,n,n.top))}return!0}function addRowAfter(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t);e(addRow(t.tr,n,n.bottom))}return!0}function removeRow(t,{map:e,table:n,tableStart:r},o){let s=0;for(let u=0;u<o;u++)s+=n.child(u).nodeSize;const a=s+n.child(o).nodeSize,c=t.mapping.maps.length;t.delete(s+r,a+r);const l=new Set;for(let u=0,f=o*e.width;u<e.width;u++,f++){const b=e.map[f];if(!l.has(b)){if(l.add(b),o>0&&b==e.map[f-e.width]){const S=n.nodeAt(b).attrs;t.setNodeMarkup(t.mapping.slice(c).map(b+r),null,{...S,rowspan:S.rowspan-1}),u+=S.colspan-1}else if(o<e.height&&b==e.map[f+e.width]){const S=n.nodeAt(b),v=S.attrs,g=S.type.create({...v,rowspan:S.attrs.rowspan-1},S.content),w=e.positionAt(o+1,u,n);t.insert(t.mapping.slice(c).map(r+w),g),u+=v.colspan-1}}}}function deleteRow(t,e){if(!isInTable(t))return!1;if(e){const n=selectedRect(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;removeRow(r,n,o),o!=n.top;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=TableMap.get(n.table)}e(r)}return!0}function isEmpty(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function cellsOverlapRectangle({width:t,height:e,map:n},r){let o=r.top*t+r.left,s=o,a=(r.bottom-1)*t+r.left,c=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[c]==n[c+1])return!0;s+=t,c+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[o]==n[o-t]||r.bottom<e&&n[a]==n[a+t])return!0;o++,a++}return!1}function mergeCells(t,e){const n=t.selection;if(!(n instanceof CellSelection)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=selectedRect(t),{map:o}=r;if(cellsOverlapRectangle(o,r))return!1;if(e){const s=t.tr,a={};let c=Fragment.empty,l,u;for(let f=r.top;f<r.bottom;f++)for(let b=r.left;b<r.right;b++){const S=o.map[f*o.width+b],v=r.table.nodeAt(S);if(!(a[S]||!v))if(a[S]=!0,l==null)l=S,u=v;else{isEmpty(v)||(c=c.append(v.content));const g=s.mapping.map(S+r.tableStart);s.delete(g,g+v.nodeSize)}}if(l==null||u==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...addColSpan(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),c.size){const f=l+1+u.content.size,b=isEmpty(u)?l+1:f;s.replaceWith(b+r.tableStart,f+r.tableStart,c)}s.setSelection(new CellSelection(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function splitCell(t,e){const n=tableNodeTypes(t.schema);return splitCellWithType(({node:r})=>n[r.type.spec.tableRole])(t,e)}function splitCellWithType(t){return(e,n)=>{var r;const o=e.selection;let s,a;if(o instanceof CellSelection){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;s=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(s=cellWrapping(o.$from),!s)return!1;a=(r=cellAround(o.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let c=s.attrs;const l=[],u=c.colwidth;c.rowspan>1&&(c={...c,rowspan:1}),c.colspan>1&&(c={...c,colspan:1});const f=selectedRect(e),b=e.tr;for(let v=0;v<f.right-f.left;v++)l.push(u?{...c,colwidth:u&&u[v]?[u[v]]:null}:c);let S;for(let v=f.top;v<f.bottom;v++){let g=f.map.positionAt(v,f.left,f.table);v==f.top&&(g+=s.nodeSize);for(let w=f.left,A=0;w<f.right;w++,A++)w==f.left&&v==f.top||b.insert(S=b.mapping.map(g+f.tableStart,1),t({node:s,row:v,col:w}).createAndFill(l[A]))}b.setNodeMarkup(a,t({node:s,row:f.top,col:f.left}),l[0]),o instanceof CellSelection&&b.setSelection(new CellSelection(b.doc.resolve(o.$anchorCell.pos),S?b.doc.resolve(S):void 0)),n(b)}return!0}}function setCellAttr(t,e){return function(n,r){if(!isInTable(n))return!1;const o=selectionCell(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof CellSelection?n.selection.forEachCell((a,c)=>{a.attrs[t]!==e&&s.setNodeMarkup(c,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function deprecated_toggleHeader(t){return function(e,n){if(!isInTable(e))return!1;if(n){const r=tableNodeTypes(e.schema),o=selectedRect(e),s=e.tr,a=o.map.cellsInRect(t=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:t=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),c=a.map(l=>o.table.nodeAt(l));for(let l=0;l<a.length;l++)c[l].type==r.header_cell&&s.setNodeMarkup(o.tableStart+a[l],r.cell,c[l].attrs);if(s.steps.length==0)for(let l=0;l<a.length;l++)s.setNodeMarkup(o.tableStart+a[l],r.header_cell,c[l].attrs);n(s)}return!0}}function isHeaderEnabledByType(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let o=0;o<r.length;o++){const s=e.table.nodeAt(r[o]);if(s&&s.type!==n.header_cell)return!1}return!0}function toggleHeader(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?deprecated_toggleHeader(t):function(n,r){if(!isInTable(n))return!1;if(r){const o=tableNodeTypes(n.schema),s=selectedRect(n),a=n.tr,c=isHeaderEnabledByType("row",s,o),l=isHeaderEnabledByType("column",s,o),f=(t==="column"?c:t==="row"?l:!1)?1:0,b=t=="column"?{left:0,top:f,right:1,bottom:s.map.height}:t=="row"?{left:f,top:0,right:s.map.width,bottom:1}:s,S=t=="column"?l?o.cell:o.header_cell:t=="row"?c?o.cell:o.header_cell:o.cell;s.map.cellsInRect(b).forEach(v=>{const g=v+s.tableStart,w=a.doc.nodeAt(g);w&&a.setNodeMarkup(g,S,w.attrs)}),r(a)}return!0}}toggleHeader("row",{useDeprecatedLogic:!0});toggleHeader("column",{useDeprecatedLogic:!0});var toggleHeaderCell=toggleHeader("cell",{useDeprecatedLogic:!0});function findNextCell(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,o=t.before();r>=0;r--){const s=t.node(-1).child(r),a=s.lastChild;if(a)return o-1-a.nodeSize;o-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),o=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return o+1;o+=s.nodeSize}}return null}function goToNextCell(t){return function(e,n){if(!isInTable(e))return!1;const r=findNextCell(selectionCell(e),t);if(r==null)return!1;if(n){const o=e.doc.resolve(r);n(e.tr.setSelection(TextSelection.between(o,moveCellForward(o))).scrollIntoView())}return!0}}function deleteTable(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function deleteCellSelection(t,e){const n=t.selection;if(!(n instanceof CellSelection))return!1;if(e){const r=t.tr,o=tableNodeTypes(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(o)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new Slice(o,0,0))}),r.docChanged&&e(r)}return!0}function pastedCells(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const o=e.child(0),s=o.type.spec.tableRole,a=o.type.schema,c=[];if(s=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const f=l?0:Math.max(0,n-1),b=l<e.childCount-1?0:Math.max(0,r-1);(f||b)&&(u=fitSlice(tableNodeTypes(a).row,new Slice(u,f,b)).content),c.push(u)}else if(s=="cell"||s=="header_cell")c.push(n||r?fitSlice(tableNodeTypes(a).row,new Slice(e,n,r)).content:e);else return null;return ensureRectangular(a,c)}function ensureRectangular(t,e){const n=[];for(let o=0;o<e.length;o++){const s=e[o];for(let a=s.childCount-1;a>=0;a--){const{rowspan:c,colspan:l}=s.child(a).attrs;for(let u=o;u<o+c;u++)n[u]=(n[u]||0)+l}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(Fragment.empty),n[o]<r){const s=tableNodeTypes(t).cell.createAndFill(),a=[];for(let c=n[o];c<r;c++)a.push(s);e[o]=e[o].append(Fragment.from(a))}return{height:e.length,width:r,rows:e}}function fitSlice(t,e){const n=t.createAndFill();return new Transform(n).replace(0,n.content.size,e).doc}function clipCells({width:t,height:e,rows:n},r,o){if(t!=r){const s=[],a=[];for(let c=0;c<n.length;c++){const l=n[c],u=[];for(let f=s[c]||0,b=0;f<r;b++){let S=l.child(b%l.childCount);f+S.attrs.colspan>r&&(S=S.type.createChecked(removeColSpan(S.attrs,S.attrs.colspan,f+S.attrs.colspan-r),S.content)),u.push(S),f+=S.attrs.colspan;for(let v=1;v<S.attrs.rowspan;v++)s[c+v]=(s[c+v]||0)+S.attrs.colspan}a.push(Fragment.from(u))}n=a,t=r}if(e!=o){const s=[];for(let a=0,c=0;a<o;a++,c++){const l=[],u=n[c%e];for(let f=0;f<u.childCount;f++){let b=u.child(f);a+b.attrs.rowspan>o&&(b=b.type.create({...b.attrs,rowspan:Math.max(1,o-b.attrs.rowspan)},b.content)),l.push(b)}s.push(Fragment.from(l))}n=s,e=o}return{width:t,height:e,rows:n}}function growTable(t,e,n,r,o,s,a){const c=t.doc.type.schema,l=tableNodeTypes(c);let u,f;if(o>e.width)for(let b=0,S=0;b<e.height;b++){const v=n.child(b);S+=v.nodeSize;const g=[];let w;v.lastChild==null||v.lastChild.type==l.cell?w=u||(u=l.cell.createAndFill()):w=f||(f=l.header_cell.createAndFill());for(let A=e.width;A<o;A++)g.push(w);t.insert(t.mapping.slice(a).map(S-1+r),g)}if(s>e.height){const b=[];for(let g=0,w=(e.height-1)*e.width;g<Math.max(e.width,o);g++){const A=g>=e.width?!1:n.nodeAt(e.map[w+g]).type==l.header_cell;b.push(A?f||(f=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const S=l.row.create(null,Fragment.from(b)),v=[];for(let g=e.height;g<s;g++)v.push(S);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),v)}return!!(u||f)}function isolateHorizontal(t,e,n,r,o,s,a,c){if(a==0||a==e.height)return!1;let l=!1;for(let u=o;u<s;u++){const f=a*e.width+u,b=e.map[f];if(e.map[f-e.width]==b){l=!0;const S=n.nodeAt(b),{top:v,left:g}=e.findCell(b);t.setNodeMarkup(t.mapping.slice(c).map(b+r),null,{...S.attrs,rowspan:a-v}),t.insert(t.mapping.slice(c).map(e.positionAt(a,g,n)),S.type.createAndFill({...S.attrs,rowspan:v+S.attrs.rowspan-a})),u+=S.attrs.colspan-1}}return l}function isolateVertical(t,e,n,r,o,s,a,c){if(a==0||a==e.width)return!1;let l=!1;for(let u=o;u<s;u++){const f=u*e.width+a,b=e.map[f];if(e.map[f-1]==b){l=!0;const S=n.nodeAt(b),v=e.colCount(b),g=t.mapping.slice(c).map(b+r);t.setNodeMarkup(g,null,removeColSpan(S.attrs,a-v,S.attrs.colspan-(a-v))),t.insert(g+S.nodeSize,S.type.createAndFill(removeColSpan(S.attrs,0,a-v))),u+=S.attrs.rowspan-1}}return l}function insertCells(t,e,n,r,o){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=TableMap.get(s);const{top:c,left:l}=r,u=l+o.width,f=c+o.height,b=t.tr;let S=0;function v(){if(s=n?b.doc.nodeAt(n-1):b.doc,!s)throw new Error("No table found");a=TableMap.get(s),S=b.mapping.maps.length}growTable(b,a,s,n,u,f,S)&&v(),isolateHorizontal(b,a,s,n,l,u,c,S)&&v(),isolateHorizontal(b,a,s,n,l,u,f,S)&&v(),isolateVertical(b,a,s,n,c,f,l,S)&&v(),isolateVertical(b,a,s,n,c,f,u,S)&&v();for(let g=c;g<f;g++){const w=a.positionAt(g,l,s),A=a.positionAt(g,u,s);b.replace(b.mapping.slice(S).map(w+n),b.mapping.slice(S).map(A+n),new Slice(o.rows[g-c],0,0))}v(),b.setSelection(new CellSelection(b.doc.resolve(n+a.positionAt(c,l,s)),b.doc.resolve(n+a.positionAt(f-1,u-1,s)))),e(b)}var handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1),"Shift-ArrowLeft":shiftArrow("horiz",-1),"Shift-ArrowRight":shiftArrow("horiz",1),"Shift-ArrowUp":shiftArrow("vert",-1),"Shift-ArrowDown":shiftArrow("vert",1),Backspace:deleteCellSelection,"Mod-Backspace":deleteCellSelection,Delete:deleteCellSelection,"Mod-Delete":deleteCellSelection});function maybeSetSelection(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function arrow(t,e){return(n,r,o)=>{if(!o)return!1;const s=n.selection;if(s instanceof CellSelection)return maybeSetSelection(n,r,Selection.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=atEndOfCell(o,t,e);if(a==null)return!1;if(t=="horiz")return maybeSetSelection(n,r,Selection.near(n.doc.resolve(s.head+e),e));{const c=n.doc.resolve(a),l=nextCell(c,t,e);let u;return l?u=Selection.near(l,1):e<0?u=Selection.near(n.doc.resolve(c.before(-1)),-1):u=Selection.near(n.doc.resolve(c.after(-1)),1),maybeSetSelection(n,r,u)}}}function shiftArrow(t,e){return(n,r,o)=>{if(!o)return!1;const s=n.selection;let a;if(s instanceof CellSelection)a=s;else{const l=atEndOfCell(o,t,e);if(l==null)return!1;a=new CellSelection(n.doc.resolve(l))}const c=nextCell(a.$headCell,t,e);return c?maybeSetSelection(n,r,new CellSelection(a.$anchorCell,c)):!1}}function handleTripleClick(t,e){const n=t.state.doc,r=cellAround(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new CellSelection(r))),!0):!1}function handlePaste(t,e,n){if(!isInTable(t.state))return!1;let r=pastedCells(n);const o=t.state.selection;if(o instanceof CellSelection){r||(r={width:1,height:1,rows:[Fragment.from(fitSlice(tableNodeTypes(t.state.schema).cell,n))]});const s=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),c=TableMap.get(s).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=clipCells(r,c.right-c.left,c.bottom-c.top),insertCells(t.state,t.dispatch,a,c,r),!0}else if(r){const s=selectionCell(t.state),a=s.start(-1);return insertCells(t.state,t.dispatch,a,TableMap.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function handleMouseDown(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=domInCell(t,e.target);let o;if(e.shiftKey&&t.state.selection instanceof CellSelection)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(o=cellAround(t.state.selection.$anchor))!=null&&((n=cellUnderMouse(t,e))==null?void 0:n.pos)!=o.pos)s(o,e),e.preventDefault();else if(!r)return;function s(l,u){let f=cellUnderMouse(t,u);const b=tableEditingKey.getState(t.state)==null;if(!f||!inSameTable(l,f))if(b)f=l;else return;const S=new CellSelection(l,f);if(b||!t.state.selection.eq(S)){const v=t.state.tr.setSelection(S);b&&v.setMeta(tableEditingKey,l.pos),t.dispatch(v)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",c),tableEditingKey.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(tableEditingKey,-1))}function c(l){const u=l,f=tableEditingKey.getState(t.state);let b;if(f!=null)b=t.state.doc.resolve(f);else if(domInCell(t,u.target)!=r&&(b=cellUnderMouse(t,e),!b))return a();b&&s(b,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",c)}function atEndOfCell(t,e,n){if(!(t.state.selection instanceof TextSelection))return null;const{$head:r}=t.state.selection;for(let o=r.depth-1;o>=0;o--){const s=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const c=r.before(o),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?c:null}}return null}function domInCell(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function cellUnderMouse(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?cellAround(t.state.doc.resolve(n.pos)):null}var TableView$1=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumnsOnResize(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,updateColumnsOnResize(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function updateColumnsOnResize(t,e,n,r,o,s){var a;let c=0,l=!0,u=e.firstChild;const f=t.firstChild;if(f){for(let b=0,S=0;b<f.childCount;b++){const{colspan:v,colwidth:g}=f.child(b).attrs;for(let w=0;w<v;w++,S++){const A=o==S?s:g&&g[w],T=A?A+"px":"";if(c+=A||r,A||(l=!1),u)u.style.width!=T&&(u.style.width=T),u=u.nextSibling;else{const O=document.createElement("col");O.style.width=T,e.appendChild(O)}}}for(;u;){const b=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=b}l?(n.style.width=c+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=c+"px")}}var columnResizingPluginKey=new PluginKey("tableColumnResizing");function columnResizing({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=TableView$1,lastColumnResizable:o=!0}={}){const s=new Plugin({key:columnResizingPluginKey,state:{init(a,c){var l,u;const f=(u=(l=s.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,b=tableNodeTypes(c.schema).table.name;return r&&f&&(f[b]=(S,v)=>new r(S,n,v)),new ResizeState(-1,!1)},apply(a,c){return c.apply(a)}},props:{attributes:a=>{const c=columnResizingPluginKey.getState(a);return c&&c.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,c)=>{handleMouseMove(a,c,t,o)},mouseleave:a=>{handleMouseLeave(a)},mousedown:(a,c)=>{handleMouseDown2(a,c,e,n)}},decorations:a=>{const c=columnResizingPluginKey.getState(a);if(c&&c.activeHandle>-1)return handleDecorations(a,c.activeHandle)},nodeViews:{}}});return s}var ResizeState=class Jo{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(columnResizingPluginKey);if(r&&r.setHandle!=null)return new Jo(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Jo(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return pointsAtCell(e.doc.resolve(o))||(o=-1),new Jo(o,n.dragging)}return n}};function handleMouseMove(t,e,n,r){const o=columnResizingPluginKey.getState(t.state);if(o&&!o.dragging){const s=domCellAround(e.target);let a=-1;if(s){const{left:c,right:l}=s.getBoundingClientRect();e.clientX-c<=n?a=edgeCell(t,e,"left",n):l-e.clientX<=n&&(a=edgeCell(t,e,"right",n))}if(a!=o.activeHandle){if(!r&&a!==-1){const c=t.state.doc.resolve(a),l=c.node(-1),u=TableMap.get(l),f=c.start(-1);if(u.colCount(c.pos-f)+c.nodeAfter.attrs.colspan-1==u.width-1)return}updateHandle(t,a)}}}function handleMouseLeave(t){const e=columnResizingPluginKey.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&updateHandle(t,-1)}function handleMouseDown2(t,e,n,r){var o;const s=(o=t.dom.ownerDocument.defaultView)!=null?o:window,a=columnResizingPluginKey.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const c=t.state.doc.nodeAt(a.activeHandle),l=currentColWidth(t,a.activeHandle,c.attrs);t.dispatch(t.state.tr.setMeta(columnResizingPluginKey,{setDragging:{startX:e.clientX,startWidth:l}}));function u(b){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",f);const S=columnResizingPluginKey.getState(t.state);S!=null&&S.dragging&&(updateColumnWidth(t,S.activeHandle,draggedWidth(S.dragging,b,n)),t.dispatch(t.state.tr.setMeta(columnResizingPluginKey,{setDragging:null})))}function f(b){if(!b.which)return u(b);const S=columnResizingPluginKey.getState(t.state);if(S&&S.dragging){const v=draggedWidth(S.dragging,b,n);displayColumnWidth(t,S.activeHandle,v,r)}}return displayColumnWidth(t,a.activeHandle,l,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",f),e.preventDefault(),!0}function currentColWidth(t,e,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const s=t.domAtPos(e);let c=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(c-=r[u],l--);return c/l}function domCellAround(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function edgeCell(t,e,n,r){const o=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+o,top:e.clientY});if(!s)return-1;const{pos:a}=s,c=cellAround(t.state.doc.resolve(a));if(!c)return-1;if(n=="right")return c.pos;const l=TableMap.get(c.node(-1)),u=c.start(-1),f=l.map.indexOf(c.pos-u);return f%l.width==0?-1:u+l.map[f-1]}function draggedWidth(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function updateHandle(t,e){t.dispatch(t.state.tr.setMeta(columnResizingPluginKey,{setHandle:e}))}function updateColumnWidth(t,e,n){const r=t.state.doc.resolve(e),o=r.node(-1),s=TableMap.get(o),a=r.start(-1),c=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<s.height;u++){const f=u*s.width+c;if(u&&s.map[f]==s.map[f-s.width])continue;const b=s.map[f],S=o.nodeAt(b).attrs,v=S.colspan==1?0:c-s.colCount(b);if(S.colwidth&&S.colwidth[v]==n)continue;const g=S.colwidth?S.colwidth.slice():zeroes(S.colspan);g[v]=n,l.setNodeMarkup(a+b,null,{...S,colwidth:g})}l.docChanged&&t.dispatch(l)}function displayColumnWidth(t,e,n,r){const o=t.state.doc.resolve(e),s=o.node(-1),a=o.start(-1),c=TableMap.get(s).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;let l=t.domAtPos(o.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&updateColumnsOnResize(s,l.firstChild,l,r,c,n)}function zeroes(t){return Array(t).fill(0)}function handleDecorations(t,e){var n;const r=[],o=t.doc.resolve(e),s=o.node(-1);if(!s)return DecorationSet.empty;const a=TableMap.get(s),c=o.start(-1),l=a.colCount(o.pos-c)+o.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){const f=l+u*a.width;if((l==a.width-1||a.map[f]!=a.map[f+1])&&(u==0||a.map[f]!=a.map[f-a.width])){const b=a.map[f],S=c+b+s.nodeAt(b).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",(n=columnResizingPluginKey.getState(t))!=null&&n.dragging&&r.push(Decoration.node(c+b,c+b+s.nodeAt(b).nodeSize,{class:"column-resize-dragging"})),r.push(Decoration.widget(S,v))}}return DecorationSet.create(t.doc,r)}function tableEditing({allowTableNodeSelection:t=!1}={}){return new Plugin({key:tableEditingKey,state:{init(){return null},apply(e,n){const r=e.getMeta(tableEditingKey);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:o,pos:s}=e.mapping.mapResult(n);return o?null:s}},props:{decorations:drawCellSelection,handleDOMEvents:{mousedown:handleMouseDown},createSelectionBetween(e){return tableEditingKey.getState(e.state)!=null?e.state.selection:null},handleTripleClick,handleKeyDown,handlePaste},appendTransaction(e,n,r){return normalizeSelection(r,fixTables(r,n),t)}})}function getColStyleDeclaration(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function updateColumns(t,e,n,r,o,s){var a;let c=0,l=!0,u=e.firstChild;const f=t.firstChild;if(f!==null)for(let b=0,S=0;b<f.childCount;b+=1){const{colspan:v,colwidth:g}=f.child(b).attrs;for(let w=0;w<v;w+=1,S+=1){const A=o===S?s:g&&g[w],T=A?`${A}px`:"";if(c+=A||r,A||(l=!1),u){if(u.style.width!==T){const[O,R]=getColStyleDeclaration(r,A);u.style.setProperty(O,R)}u=u.nextSibling}else{const O=document.createElement("col"),[R,k]=getColStyleDeclaration(r,A);O.style.setProperty(R,k),e.appendChild(O)}}}for(;u;){const b=u.nextSibling;(a=u.parentNode)===null||a===void 0||a.removeChild(u),u=b}l?(n.style.width=`${c}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${c}px`)}class TableView{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumns(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,updateColumns(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function createColGroup(t,e,n,r){let o=0,s=!0;const a=[],c=t.firstChild;if(!c)return{};for(let b=0,S=0;b<c.childCount;b+=1){const{colspan:v,colwidth:g}=c.child(b).attrs;for(let w=0;w<v;w+=1,S+=1){const A=n===S?r:g&&g[w];o+=A||e,A||(s=!1);const[T,O]=getColStyleDeclaration(e,A);a.push(["col",{style:`${T}: ${O}`}])}}const l=s?`${o}px`:"",u=s?"":`${o}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function createCell(t,e){return e?t.createChecked(null,e):t.createAndFill()}function getTableNodeTypes(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function createTable(t,e,n,r,o){const s=getTableNodeTypes(t),a=[],c=[];for(let u=0;u<n;u+=1){const f=createCell(s.cell,o);if(f&&c.push(f),r){const b=createCell(s.header_cell,o);b&&a.push(b)}}const l=[];for(let u=0;u<e;u+=1)l.push(s.row.createChecked(null,r&&u===0?a:c));return s.table.createChecked(null,l)}function isCellSelection(t){return t instanceof CellSelection}const deleteTableWhenAllCellsSelected=({editor:t})=>{const{selection:e}=t.state;if(!isCellSelection(e))return!1;let n=0;const r=findParentNodeClosestToPos(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Table=Node$1.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:TableView,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:o}=createColGroup(t,this.options.cellMinWidth);return["table",mergeAttributes(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:s})=>{const a=createTable(s.schema,t,e,n);if(o){const c=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(TextSelection.near(r.doc.resolve(c)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>addColumnBefore(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>addColumnAfter(t,e),deleteColumn:()=>({state:t,dispatch:e})=>deleteColumn(t,e),addRowBefore:()=>({state:t,dispatch:e})=>addRowBefore(t,e),addRowAfter:()=>({state:t,dispatch:e})=>addRowAfter(t,e),deleteRow:()=>({state:t,dispatch:e})=>deleteRow(t,e),deleteTable:()=>({state:t,dispatch:e})=>deleteTable(t,e),mergeCells:()=>({state:t,dispatch:e})=>mergeCells(t,e),splitCell:()=>({state:t,dispatch:e})=>splitCell(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>toggleHeader("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>toggleHeader("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>toggleHeaderCell(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>mergeCells(t,e)?!0:splitCell(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>setCellAttr(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>goToNextCell(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>goToNextCell(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&fixTables(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=CellSelection.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:deleteTableWhenAllCellsSelected,"Mod-Backspace":deleteTableWhenAllCellsSelected,Delete:deleteTableWhenAllCellsSelected,"Mod-Delete":deleteTableWhenAllCellsSelected}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[columnResizing({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],tableEditing({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:callOrReturn(getExtensionField(t,"tableRole",e))}}}),TableCell=Node$1.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",mergeAttributes(this.options.HTMLAttributes,t),0]}}),TableHeader=Node$1.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",mergeAttributes(this.options.HTMLAttributes,t),0]}}),TableRow=Node$1.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",mergeAttributes(this.options.HTMLAttributes,t),0]}}),TiptapEditor_vue_vue_type_style_index_0_lang="",_sfc_main$4={components:{EditorContent},props:{inputvalue:{type:[String,Object],default:""},inputname:{type:String,required:!0},height:{type:String,default:"400px"}},data(){return{editor:null,textColor:"#000000",isFullscreen:!1}},computed:{editorContent(){var t;return JSON.stringify(((t=this.editor)==null?void 0:t.getJSON())||{})},currentTextSize(){var o;const t=(o=this.editor)==null?void 0:o.state.selection;if(!t)return"Default";const{from:e,to:n}=t;let r="Default";return this.editor.state.doc.nodesBetween(e,n,s=>{s.marks&&s.marks.forEach(a=>{a.type.name==="textStyle"&&a.attrs.fontSize&&(r=a.attrs.fontSize)})}),r},currentTextColor(){if(!this.editor)return"#000000";const{from:t,to:e}=this.editor.state.selection;let n="#000000";return this.editor.state.doc.nodesBetween(t,e,r=>{r.marks&&r.marks.forEach(o=>{o.type.name==="textStyle"&&o.attrs.color&&(n=o.attrs.color)})}),n},isBoldActive(){var t;return(t=this.editor)==null?void 0:t.isActive("bold")},isItalicActive(){var t;return(t=this.editor)==null?void 0:t.isActive("italic")},isUnderlineActive(){var t;return(t=this.editor)==null?void 0:t.isActive("underline")},isStrikeActive(){var t;return(t=this.editor)==null?void 0:t.isActive("strike")}},mounted(){let t;try{!this.inputvalue||this.inputvalue===""?t={type:"doc",content:[]}:t=typeof this.inputvalue=="string"?JSON.parse(this.inputvalue):this.inputvalue}catch(e){console.error("Failed to parse JSON:",e),t={type:"doc",content:[]}}this.editor=new Editor({extensions:[TextStyle.extend({addAttributes(){return{fontSize:{default:null,parseHTML:e=>e.style.fontSize||null,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize};`}:{}}}},addCommands(){return{setFontSize:e=>({chain:n})=>n().setMark("textStyle",{fontSize:e}).run()}}}),Color,StarterKit.configure({bold:!0,italic:!0}),TextAlign.configure({types:["heading","paragraph"]}),Link,Underline,Table.configure({resizable:!0,allowTableNodeSelection:!0}),TableRow,TableHeader,TableCell.extend({addCommands(){return{mergeCells:()=>({state:e,dispatch:n})=>mergeCells(e,n),splitCell:()=>({state:e,dispatch:n})=>splitCell(e,n)}}}),FloatingMenu.configure({shouldShow:({editor:e,state:n})=>{const{$from:r}=n.selection;return r.node(r.depth).type.name==="table"}})],content:t}),this.editor.on("selectionUpdate",()=>{this.$forceUpdate()})},beforeUnmount(){this.editor.destroy()},methods:{toggleFullscreen(){this.isFullscreen=!this.isFullscreen,document.body.classList.toggle("editor-fullscreen-active",this.isFullscreen)},setTextSize(t){this.editor.chain().focus().setMark("textStyle",{fontSize:t}).run()},setTextColor(t){this.textColor=t,this.editor.chain().focus().setMark("textStyle",{color:this.textColor}).run()},toggleBold(){this.editor.chain().focus().toggleBold().run()},toggleItalic(){this.editor.chain().focus().toggleItalic().run()},toggleUnderline(){this.editor.chain().focus().toggleUnderline().run()},toggleStrike(){this.editor.chain().focus().toggleStrike().run()},setTextAlign(t){this.editor.chain().focus().setTextAlign(t).run()},toggleBulletList(){this.editor.chain().focus().toggleBulletList().run()},toggleOrderedList(){this.editor.chain().focus().toggleOrderedList().run()},setLink(){const t=prompt("Enter a URL");t&&this.editor.chain().focus().extendMarkRange("link").setLink({href:t}).run()},unsetLink(){this.editor.chain().focus().unsetLink().run()},undo(){this.editor.chain().focus().undo().run()},redo(){this.editor.chain().focus().redo().run()},addTable(){this.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},addColumnBefore(){this.editor.chain().focus().addColumnBefore().run()},addColumnAfter(){this.editor.chain().focus().addColumnAfter().run()},deleteColumn(){this.editor.chain().focus().deleteColumn().run()},addRowBefore(){this.editor.chain().focus().addRowBefore().run()},addRowAfter(){this.editor.chain().focus().addRowAfter().run()},deleteRow(){this.editor.chain().focus().deleteRow().run()},deleteTable(){this.editor.chain().focus().deleteTable().run()},mergeCells(){this.editor.chain().focus().mergeCells().run()},splitCell(){this.editor.chain().focus().splitCell().run()}}},_hoisted_1$3={class:"tiptap-container rounded-3"},_hoisted_2$2={class:"editor-toolbar border rounded p-2 mb-0",style:{"background-color":"lightgoldenrodyellow"}},_hoisted_3$2={class:"btn-toolbar mb-0",role:"toolbar"},_hoisted_4$2={class:"btn-group me-3",role:"group"},_hoisted_5$1=createBaseVNode("i",{class:"fa-solid fa-rotate-left"},null,-1),_hoisted_6=[_hoisted_5$1],_hoisted_7=createBaseVNode("i",{class:"fa-solid fa-rotate-right"},null,-1),_hoisted_8=[_hoisted_7],_hoisted_9={class:"btn-group me-3"},_hoisted_10={type:"button",class:"btn dropdown-toggle","data-bs-toggle":"dropdown"},_hoisted_11={class:"dropdown-menu"},_hoisted_12={class:"btn-group me-3",role:"group"},_hoisted_13=createBaseVNode("i",{class:"fa-solid fa-bold"},null,-1),_hoisted_14=[_hoisted_13],_hoisted_15=createBaseVNode("i",{class:"fa-solid fa-italic"},null,-1),_hoisted_16=[_hoisted_15],_hoisted_17=createBaseVNode("i",{class:"fa-solid fa-underline"},null,-1),_hoisted_18=[_hoisted_17],_hoisted_19=createBaseVNode("i",{class:"fa-solid fa-strikethrough"},null,-1),_hoisted_20=[_hoisted_19],_hoisted_21={class:"btn-group me-3"},_hoisted_22=createBaseVNode("button",{type:"button",class:"btn dropdown-toggle","data-bs-toggle":"dropdown"},[createBaseVNode("i",{class:"fa-solid fa-align-left"})],-1),_hoisted_23={class:"dropdown-menu"},_hoisted_24=createBaseVNode("i",{class:"fa-solid fa-align-left me-1"},null,-1),_hoisted_25=[_hoisted_24],_hoisted_26=createBaseVNode("i",{class:"fa-solid fa-align-center me-1"},null,-1),_hoisted_27=[_hoisted_26],_hoisted_28=createBaseVNode("i",{class:"fa-solid fa-align-right me-1"},null,-1),_hoisted_29=[_hoisted_28],_hoisted_30=createBaseVNode("i",{class:"fa-solid fa-align-justify me-1"},null,-1),_hoisted_31=[_hoisted_30],_hoisted_32={class:"btn-group me-2 d-flex align-items-center"},_hoisted_33=createBaseVNode("label",{class:"form-label mb-0 me-1"},"Culoare text:",-1),_hoisted_34=["value"],_hoisted_35={class:"btn-group me-3",role:"group"},_hoisted_36=createBaseVNode("i",{class:"fa-solid fa-list-ul"},null,-1),_hoisted_37=[_hoisted_36],_hoisted_38=createBaseVNode("i",{class:"fa-solid fa-list-ol"},null,-1),_hoisted_39=[_hoisted_38],_hoisted_40={class:"btn-group me-3",role:"group"},_hoisted_41=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_42=[_hoisted_41],_hoisted_43=createBaseVNode("i",{class:"fa-solid fa-link-slash"},null,-1),_hoisted_44=[_hoisted_43],_hoisted_45={class:"btn-group me-3",role:"group"},_hoisted_46=createBaseVNode("i",{class:"fa-solid fa-table"},null,-1),_hoisted_47=[_hoisted_46],_hoisted_48={class:"btn-group me-2"},_hoisted_49=createBaseVNode("div",{class:"w-100"},null,-1),_hoisted_50={key:0,class:"btn-toolbar mb-0",role:"toolbar"},_hoisted_51={class:"btn-group btn-group-sm",role:"group"},_hoisted_52={class:"btn-group btn-group-sm",role:"group"},_hoisted_53={class:"btn-group btn-group-sm",role:"group"},_hoisted_54={class:"btn-group btn-group-sm",role:"group"},_hoisted_55=["name","value"];function _sfc_render$4(t,e,n,r,o,s){var c;const a=resolveComponent("editor-content");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("button",{type:"button",onClick:e[0]||(e[0]=(...l)=>s.undo&&s.undo(...l)),title:"Undo"},_hoisted_6),createBaseVNode("button",{type:"button",onClick:e[1]||(e[1]=(...l)=>s.redo&&s.redo(...l)),title:"Redo"},_hoisted_8)]),createBaseVNode("div",_hoisted_9,[createBaseVNode("button",_hoisted_10," Mărime text: "+toDisplayString(s.currentTextSize),1),createBaseVNode("ul",_hoisted_11,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[2]||(e[2]=l=>s.setTextSize("12px"))},"12px"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[3]||(e[3]=l=>s.setTextSize("14px"))},"14px"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[4]||(e[4]=l=>s.setTextSize("16px"))},"16px"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[5]||(e[5]=l=>s.setTextSize("18px"))},"18px"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[6]||(e[6]=l=>s.setTextSize("20px"))},"20px"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[7]||(e[7]=l=>s.setTextSize("26px"))},"26px")])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{active:s.isBoldActive}]),onClick:e[8]||(e[8]=(...l)=>s.toggleBold&&s.toggleBold(...l)),title:"Bold"},_hoisted_14,2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{active:s.isItalicActive}]),onClick:e[9]||(e[9]=(...l)=>s.toggleItalic&&s.toggleItalic(...l)),title:"Italic"},_hoisted_16,2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{active:s.isUnderlineActive}]),onClick:e[10]||(e[10]=(...l)=>s.toggleUnderline&&s.toggleUnderline(...l)),title:"Underline"},_hoisted_18,2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{active:s.isStrikeActive}]),onClick:e[11]||(e[11]=(...l)=>s.toggleStrike&&s.toggleStrike(...l)),title:"Strikethrough"},_hoisted_20,2)]),createBaseVNode("div",_hoisted_21,[_hoisted_22,createBaseVNode("ul",_hoisted_23,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[12]||(e[12]=l=>s.setTextAlign("left")),title:"Align left"},_hoisted_25),createBaseVNode("button",{type:"button",class:"btn",onClick:e[13]||(e[13]=l=>s.setTextAlign("center")),title:"Align center"},_hoisted_27),createBaseVNode("button",{type:"button",class:"btn",onClick:e[14]||(e[14]=l=>s.setTextAlign("right")),title:"Align right"},_hoisted_29),createBaseVNode("button",{type:"button",class:"btn",onClick:e[15]||(e[15]=l=>s.setTextAlign("justify")),title:"Text justify"},_hoisted_31)])]),createBaseVNode("div",_hoisted_32,[_hoisted_33,createBaseVNode("input",{type:"color",value:s.currentTextColor,onInput:e[16]||(e[16]=l=>s.setTextColor(l.target.value)),class:"form-control-color"},null,40,_hoisted_34)]),createBaseVNode("div",_hoisted_35,[createBaseVNode("button",{type:"button",onClick:e[17]||(e[17]=(...l)=>s.toggleBulletList&&s.toggleBulletList(...l)),title:"Bullet list"},_hoisted_37),createBaseVNode("button",{type:"button",onClick:e[18]||(e[18]=(...l)=>s.toggleOrderedList&&s.toggleOrderedList(...l)),title:"Ordered list"},_hoisted_39)]),createBaseVNode("div",_hoisted_40,[createBaseVNode("button",{type:"button",onClick:e[19]||(e[19]=(...l)=>s.setLink&&s.setLink(...l)),title:"Set link"},_hoisted_42),createBaseVNode("button",{type:"button",onClick:e[20]||(e[20]=(...l)=>s.unsetLink&&s.unsetLink(...l)),title:"Unset link"},_hoisted_44)]),createBaseVNode("div",_hoisted_45,[createBaseVNode("button",{type:"button",class:"btn border-0",onClick:e[21]||(e[21]=(...l)=>s.addTable&&s.addTable(...l)),title:"Adaugă tabel"},_hoisted_47)]),createBaseVNode("div",_hoisted_48,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[22]||(e[22]=(...l)=>s.toggleFullscreen&&s.toggleFullscreen(...l)),title:"Fullscreen"},toDisplayString(o.isFullscreen?"Ieșire Fullscreen":"Fullscreen")+" ",1)])]),_hoisted_49,(c=o.editor)!=null&&c.isActive("table")?(openBlock(),createElementBlock("div",_hoisted_50,[createBaseVNode("div",_hoisted_51,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[23]||(e[23]=(...l)=>s.addRowBefore&&s.addRowBefore(...l))},"↑ Rând înainte"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[24]||(e[24]=(...l)=>s.addRowAfter&&s.addRowAfter(...l))},"↓ Rând după"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[25]||(e[25]=(...l)=>s.deleteRow&&s.deleteRow(...l))},"❌ Șterge rând")]),createBaseVNode("div",_hoisted_52,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[26]||(e[26]=(...l)=>s.addColumnBefore&&s.addColumnBefore(...l))},"← Coloană înainte"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[27]||(e[27]=(...l)=>s.addColumnAfter&&s.addColumnAfter(...l))},"→ Coloană după"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[28]||(e[28]=(...l)=>s.deleteColumn&&s.deleteColumn(...l))},"❌ Șterge coloană")]),createBaseVNode("div",_hoisted_53,[createBaseVNode("button",{type:"button",class:"btn",onClick:e[29]||(e[29]=(...l)=>s.mergeCells&&s.mergeCells(...l))},"🔗 Lipește celule"),createBaseVNode("button",{type:"button",class:"btn",onClick:e[30]||(e[30]=(...l)=>s.splitCell&&s.splitCell(...l))},"✂️ Desparte celule")]),createBaseVNode("div",_hoisted_54,[createBaseVNode("button",{type:"button",class:"btn text-danger",onClick:e[31]||(e[31]=(...l)=>s.deleteTable&&s.deleteTable(...l))},"🗑️ Șterge tabel")])])):createCommentVNode("",!0)]),createBaseVNode("div",{class:"editor-container border rounded p-2 bg-white",style:normalizeStyle({height:n.height})},[createVNode(a,{editor:o.editor},null,8,["editor"])],4),createBaseVNode("input",{type:"hidden",name:n.inputname,value:s.editorContent},null,8,_hoisted_55)])}const TiptapEditor=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),TogglePredat_vue_vue_type_style_index_0_scoped_f8643aac_lang="",_sfc_main$3={props:{comandaId:{type:Number,required:!0},initialStatus:{type:Number,required:!0}},data(){return{predatStatus:this.initialStatus}},computed:{badgeText(){return this.predatStatus?"DA":"NU"},badgeClass(){return this.predatStatus?"badge bg-success":"badge bg-danger"}},methods:{async togglePredat(){try{const e=await(await fetch(`/intermedieri/schimbaPredatLaContabilitate/${this.comandaId}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).json();e.success?(console.log("Toggling Status:",e.predat_la_contabilitate),this.predatStatus=e.predat_la_contabilitate):alert("Error updating status")}catch(t){console.error("Error:",t),alert("An error occurred while updating the status.")}}}};function _sfc_render$3(t,e,n,r,o,s){return openBlock(),createElementBlock("button",{onClick:e[0]||(e[0]=(...a)=>s.togglePredat&&s.togglePredat(...a)),class:"btn-toggle-predat border-0 flex"},[createBaseVNode("span",{class:normalizeClass(s.badgeClass)},toDisplayString(s.badgeText),3)])}const TogglePredat=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-f8643aac"]]),InlineObservatiiEditor_vue_vue_type_style_index_0_scoped_167fabc9_lang="",_sfc_main$2={props:{kpiId:{type:Number,required:!0},userId:{type:Number,required:!0},observatii:{type:String,required:!0},searchMonth:{type:Number,required:!0},searchYear:{type:Number,required:!0}},data(){return{localObservatii:this.observatii,loading:!1,showCheckMark:!1}},methods:{autoResize(t=null){const e=t?t.target:this.$refs.textarea;e.style.height="auto",e.style.height=`${e.scrollHeight}px`},updateObservatii(){this.loading=!0,this.showCheckMark=!1;const t={user_id:this.userId,month:this.searchMonth,year:this.searchYear,observatii:this.localObservatii};axios.post("/key-performance-indicators/update-observatii",t).then(()=>{this.loading=!1,this.showCheckMark=!0,setTimeout(()=>{this.showCheckMark=!1},5e3)}).catch(e=>{console.error("Error updating observatii:",e),this.loading=!1})}},mounted(){this.autoResize()}},_hoisted_1$2={class:"d-flex align-items-start"},_hoisted_2$1={class:"status-icon me-2"},_hoisted_3$1={key:0,class:"fas fa-spinner fa-spin text-primary"},_hoisted_4$1={key:1,class:"fas fa-check-circle text-success"};function _sfc_render$2(t,e,n,r,o,s){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("span",_hoisted_2$1,[o.loading?(openBlock(),createElementBlock("i",_hoisted_3$1)):o.showCheckMark?(openBlock(),createElementBlock("i",_hoisted_4$1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{ref:"textarea",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>o.localObservatii=a),onInput:e[1]||(e[1]=(...a)=>s.autoResize&&s.autoResize(...a)),onBlur:e[2]||(e[2]=(...a)=>s.updateObservatii&&s.updateObservatii(...a)),rows:"1"},null,544),[[vModelText,o.localObservatii]])])}const InlineObservatiiEditor=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-167fabc9"]]),DirectoryTree_vue_vue_type_style_index_0_scoped_eeaa7619_lang="",_sfc_main$1={name:"DirectoryTree",props:{nodes:{type:Array,required:!0},level:{type:Number,default:0}},data(){return{localNodes:JSON.parse(JSON.stringify(this.nodes))}},methods:{toggle(t){t.children&&t.children.length&&(t.isOpen=!t.isOpen,localStorage.setItem(`directoryTree_${t.path}`,t.isOpen))},restoreStates(t){t.forEach(e=>{const n=localStorage.getItem(`directoryTree_${e.path}`);n!==null&&(e.isOpen=n==="true"),e.children&&e.children.length&&this.restoreStates(e.children)})}},mounted(){this.restoreStates(this.localNodes)}},_withScopeId=t=>(pushScopeId("data-v-eeaa7619"),t=t(),popScopeId(),t),_hoisted_1$1={class:"directory-label"},_hoisted_2=["onClick"],_hoisted_3={key:1,class:"toggle-icon",style:{width:"16px",display:"inline-block"}},_hoisted_4=_withScopeId(()=>createBaseVNode("i",{class:"fa-solid fa-folder text-warning"},null,-1)),_hoisted_5=["href"];function _sfc_render$1(t,e,n,r,o,s){return openBlock(),createElementBlock("ul",{class:"directory-tree",style:normalizeStyle({paddingLeft:n.level===0?"0px":"20px",margin:n.level===0?"0px":"initial"})},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(o.localNodes,a=>(openBlock(),createElementBlock("li",{key:a.path},[createBaseVNode("div",_hoisted_1$1,[a.children&&a.children.length?(openBlock(),createElementBlock("span",{key:0,class:"toggle-icon",onClick:c=>s.toggle(a)},[createBaseVNode("i",{class:normalizeClass(["fa-solid",a.isOpen?"fa-caret-down":"fa-caret-right","text-warning"])},null,2)],8,_hoisted_2)):(openBlock(),createElementBlock("span",_hoisted_3)),_hoisted_4,createBaseVNode("a",{href:`/file-manager-personalizat/${a.path}`,class:"directory-link"},toDisplayString(a.name),9,_hoisted_5)]),a.children&&a.children.length&&a.isOpen?(openBlock(),createBlock(resolveDynamicComponent(t.$options.name),{key:0,nodes:a.children,level:n.level+1},null,8,["nodes","level"])):createCommentVNode("",!0)]))),128))],4)}const DirectoryTree=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-eeaa7619"]]);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var distExports$1={},dist$1={get exports(){return distExports$1},set exports(t){distExports$1=t}},jsuitesExports={},jsuites={get exports(){return jsuitesExports},set exports(t){jsuitesExports=t}},hasRequiredJsuites;function requireJsuites(){return hasRequiredJsuites||(hasRequiredJsuites=1,function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){var n;return function(){var r={195:function(c){(function(l,u){c.exports=u()})(this,function(){return function(Ue){function u(Ze,Fe){this.highOrder=Ze,this.lowOrder=Fe}var f=[new u(1779033703,4089235720),new u(3144134277,2227873595),new u(1013904242,4271175723),new u(2773480762,1595750129),new u(1359893119,2917565137),new u(2600822924,725511199),new u(528734635,4215389547),new u(1541459225,327033209)],b=[new u(1116352408,3609767458),new u(1899447441,602891725),new u(3049323471,3964484399),new u(3921009573,2173295548),new u(961987163,4081628472),new u(1508970993,3053834265),new u(2453635748,2937671579),new u(2870763221,3664609560),new u(3624381080,2734883394),new u(310598401,1164996542),new u(607225278,1323610764),new u(1426881987,3590304994),new u(1925078388,4068182383),new u(2162078206,991336113),new u(2614888103,633803317),new u(3248222580,3479774868),new u(3835390401,2666613458),new u(4022224774,944711139),new u(264347078,2341262773),new u(604807628,2007800933),new u(770255983,1495990901),new u(1249150122,1856431235),new u(1555081692,3175218132),new u(1996064986,2198950837),new u(2554220882,3999719339),new u(2821834349,766784016),new u(2952996808,2566594879),new u(3210313671,3203337956),new u(3336571891,1034457026),new u(3584528711,2466948901),new u(113926993,3758326383),new u(338241895,168717936),new u(666307205,1188179964),new u(773529912,1546045734),new u(1294757372,1522805485),new u(1396182291,2643833823),new u(1695183700,2343527390),new u(1986661051,1014477480),new u(2177026350,1206759142),new u(2456956037,344077627),new u(2730485921,1290863460),new u(2820302411,3158454273),new u(3259730800,3505952657),new u(3345764771,106217008),new u(3516065817,3606008344),new u(3600352804,1432725776),new u(4094571909,1467031594),new u(275423344,851169720),new u(430227734,3100823752),new u(506948616,1363258195),new u(659060556,3750685593),new u(883997877,3785050280),new u(958139571,3318307427),new u(1322822218,3812723403),new u(1537002063,2003034995),new u(1747873779,3602036899),new u(1955562222,1575990012),new u(2024104815,1125592928),new u(2227730452,2716904306),new u(2361852424,442776044),new u(2428436474,593698344),new u(2756734187,3733110249),new u(3204031479,2999351573),new u(3329325298,3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)],S=new Array(64),v,g,w,A,T,O,R,k,V,P,B,j,q=8;function Y(Ze){return unescape(encodeURIComponent(Ze))}function ae(Ze){for(var Fe=[],Ye=(1<<q)-1,ht=Ze.length*q,vt=0;vt<ht;vt+=q)Fe[vt>>5]|=(Ze.charCodeAt(vt/q)&Ye)<<32-q-vt%32;return Fe}function me(Ze){for(var Fe="0123456789abcdef",Ye="",ht=Ze.length*4,vt,ye=0;ye<ht;ye+=1)vt=Ze[ye>>2]>>(3-ye%4)*8,Ye+=Fe.charAt(vt>>4&15)+Fe.charAt(vt&15);return Ye}function Q(Ze,Fe){var Ye,ht,vt,ye;return Ye=(Ze.lowOrder&65535)+(Fe.lowOrder&65535),ht=(Ze.lowOrder>>>16)+(Fe.lowOrder>>>16)+(Ye>>>16),vt=(ht&65535)<<16|Ye&65535,Ye=(Ze.highOrder&65535)+(Fe.highOrder&65535)+(ht>>>16),ht=(Ze.highOrder>>>16)+(Fe.highOrder>>>16)+(Ye>>>16),ye=(ht&65535)<<16|Ye&65535,new u(ye,vt)}function le(Ze,Fe,Ye,ht){var vt,ye,we,Pe;return vt=(Ze.lowOrder&65535)+(Fe.lowOrder&65535)+(Ye.lowOrder&65535)+(ht.lowOrder&65535),ye=(Ze.lowOrder>>>16)+(Fe.lowOrder>>>16)+(Ye.lowOrder>>>16)+(ht.lowOrder>>>16)+(vt>>>16),we=(ye&65535)<<16|vt&65535,vt=(Ze.highOrder&65535)+(Fe.highOrder&65535)+(Ye.highOrder&65535)+(ht.highOrder&65535)+(ye>>>16),ye=(Ze.highOrder>>>16)+(Fe.highOrder>>>16)+(Ye.highOrder>>>16)+(ht.highOrder>>>16)+(vt>>>16),Pe=(ye&65535)<<16|vt&65535,new u(Pe,we)}function Se(Ze,Fe,Ye,ht,vt){var ye,we,Pe,je;return ye=(Ze.lowOrder&65535)+(Fe.lowOrder&65535)+(Ye.lowOrder&65535)+(ht.lowOrder&65535)+(vt.lowOrder&65535),we=(Ze.lowOrder>>>16)+(Fe.lowOrder>>>16)+(Ye.lowOrder>>>16)+(ht.lowOrder>>>16)+(vt.lowOrder>>>16)+(ye>>>16),Pe=(we&65535)<<16|ye&65535,ye=(Ze.highOrder&65535)+(Fe.highOrder&65535)+(Ye.highOrder&65535)+(ht.highOrder&65535)+(vt.highOrder&65535)+(we>>>16),we=(Ze.highOrder>>>16)+(Fe.highOrder>>>16)+(Ye.highOrder>>>16)+(ht.highOrder>>>16)+(vt.highOrder>>>16)+(ye>>>16),je=(we&65535)<<16|ye&65535,new u(je,Pe)}function ve(Ze,Fe,Ye){return new u(Ze.highOrder&Fe.highOrder^Ze.highOrder&Ye.highOrder^Fe.highOrder&Ye.highOrder,Ze.lowOrder&Fe.lowOrder^Ze.lowOrder&Ye.lowOrder^Fe.lowOrder&Ye.lowOrder)}function fe(Ze,Fe,Ye){return new u(Ze.highOrder&Fe.highOrder^~Ze.highOrder&Ye.highOrder,Ze.lowOrder&Fe.lowOrder^~Ze.lowOrder&Ye.lowOrder)}function Ne(Ze,Fe){return Fe<=32?new u(Ze.highOrder>>>Fe|Ze.lowOrder<<32-Fe,Ze.lowOrder>>>Fe|Ze.highOrder<<32-Fe):new u(Ze.lowOrder>>>Fe|Ze.highOrder<<32-Fe,Ze.highOrder>>>Fe|Ze.lowOrder<<32-Fe)}function st(Ze){var Fe=Ne(Ze,28),Ye=Ne(Ze,34),ht=Ne(Ze,39);return new u(Fe.highOrder^Ye.highOrder^ht.highOrder,Fe.lowOrder^Ye.lowOrder^ht.lowOrder)}function ft(Ze){var Fe=Ne(Ze,14),Ye=Ne(Ze,18),ht=Ne(Ze,41);return new u(Fe.highOrder^Ye.highOrder^ht.highOrder,Fe.lowOrder^Ye.lowOrder^ht.lowOrder)}function et(Ze){var Fe=Ne(Ze,1),Ye=Ne(Ze,8),ht=re(Ze,7);return new u(Fe.highOrder^Ye.highOrder^ht.highOrder,Fe.lowOrder^Ye.lowOrder^ht.lowOrder)}function Nt(Ze){var Fe=Ne(Ze,19),Ye=Ne(Ze,61),ht=re(Ze,6);return new u(Fe.highOrder^Ye.highOrder^ht.highOrder,Fe.lowOrder^Ye.lowOrder^ht.lowOrder)}function re(Ze,Fe){return Fe<=32?new u(Ze.highOrder>>>Fe,Ze.lowOrder>>>Fe|Ze.highOrder<<32-Fe):new u(0,Ze.highOrder<<32-Fe)}var Ue=Y(Ue),gt=Ue.length*q;Ue=ae(Ue),Ue[gt>>5]|=128<<24-gt%32,Ue[(gt+128>>10<<5)+31]=gt;for(var V=0;V<Ue.length;V+=32){v=f[0],g=f[1],w=f[2],A=f[3],T=f[4],O=f[5],R=f[6],k=f[7];for(var P=0;P<80;P++)P<16?S[P]=new u(Ue[P*2+V],Ue[P*2+V+1]):S[P]=le(Nt(S[P-2]),S[P-7],et(S[P-15]),S[P-16]),B=Se(k,ft(T),fe(T,O,R),b[P],S[P]),j=Q(st(v),ve(v,g,w)),k=R,R=O,O=T,T=Q(A,B),A=w,w=g,g=v,v=Q(B,j);f[0]=Q(v,f[0]),f[1]=Q(g,f[1]),f[2]=Q(w,f[2]),f[3]=Q(A,f[3]),f[4]=Q(T,f[4]),f[5]=Q(O,f[5]),f[6]=Q(R,f[6]),f[7]=Q(k,f[7])}for(var Mt=[],V=0;V<f.length;V++)Mt.push(f[V].highOrder),Mt.push(f[V].lowOrder);return me(Mt)}})}},o={};function s(c){var l=o[c];if(l!==void 0)return l.exports;var u=o[c]={exports:{}};return r[c].call(u.exports,u,u.exports,s),u.exports}(function(){s.n=function(c){var l=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(l,{a:l}),l}})(),function(){s.d=function(c,l){for(var u in l)s.o(l,u)&&!s.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:l[u]})}}(),function(){s.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)}}();var a={};(function(){s.d(a,{default:function(){return Et}});var c=function(H){document.dictionary||(document.dictionary={});var W=null,D=Object.keys(H);for(W=0;W<D.length;W++)document.dictionary[D[W]]=H[D[W]]},l=function(H){return typeof document<"u"&&document.dictionary&&document.dictionary[H]||H},u={setDictionary:c,translate:l},b=function(H,W){if(W===!0)window.jSuitesStateControl=window.jSuitesStateControl.filter(function(N){return N!==null}),setTimeout(function(){window.jSuitesStateControl.push(H)},0);else{var D=window.jSuitesStateControl.indexOf(H);D>=0&&window.jSuitesStateControl.splice(D,1)}},S={};S.two=function(H){return H=""+H,H.length==1&&(H="0"+H),H},S.focus=function(H){if(H.innerText.length){var W=document.createRange(),D=window.getSelection(),N=H.childNodes[H.childNodes.length-1];W.setStart(N,N.length),W.collapse(!0),D.removeAllRanges(),D.addRange(W),H.scrollLeft=H.scrollWidth}},S.isNumeric=function(H){return typeof H=="string"&&(H=H.trim()),!isNaN(H)&&H!==null&&H!==""},S.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(H){var W=Math.random()*16|0,D=H=="x"?W:W&3|8;return D.toString(16)})},S.getNode=function(){var H=document.getSelection().anchorNode;return H?H.nodeType==3?H.parentNode:H:null},S.hash=function(H){var W=0,D,N;if(H.length===0)return W;for(D=0;D<H.length;D++)N=H.charCodeAt(D),N>32&&(W=(W<<5)-W+N,W|=0);return W},S.randomColor=function(H){var W=-.25,D=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]);var N=[],X,Ee;for(Ee=0;Ee<3;Ee++)X=parseInt(D.substr(Ee*2,2),16),X=Math.round(Math.min(Math.max(0,X+X*W),255)).toString(16),N.push(("00"+X).substr(X.length));return H==!0?"#"+S.two(N[0].toString(16))+S.two(N[1].toString(16))+S.two(N[2].toString(16)):N},S.getWindowWidth=function(){var H=window,W=document,D=W.documentElement,N=W.getElementsByTagName("body")[0],X=H.innerWidth||D.clientWidth||N.clientWidth;return X},S.getWindowHeight=function(){var H=window,W=document,D=W.documentElement,N=W.getElementsByTagName("body")[0],X=H.innerHeight||D.clientHeight||N.clientHeight;return X},S.getPosition=function(H){if(H.changedTouches&&H.changedTouches[0])var W=H.changedTouches[0].pageX,D=H.changedTouches[0].pageY;else var W=window.Event?H.pageX:H.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),D=window.Event?H.pageY:H.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[W,D]},S.click=function(H){if(H.click)H.click();else{var W=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});H.dispatchEvent(W)}},S.findElement=function(H,W){var D=!1;function N(X){X&&!D&&(typeof W=="function"?D=W(X):typeof W=="string"&&X.classList&&X.classList.contains(W)&&(D=X)),X.parentNode&&!D&&N(X.parentNode)}return N(H),D};var v=S;function g(H,W,D){if(H=H.split("."),H.length){let N=this,X=null;for(;H.length>1;)if(X=H.shift(),N.hasOwnProperty(X))N=N[X];else{if(typeof W>"u")return;N[X]={},N=N[X]}if(X=H.shift(),typeof W<"u")return D===!0?delete N[X]:N[X]=W,!0;if(N)return N[X]}return!1}function w(H,W){var D={};D.options={};var N={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},X=null;for(var Ee in N)W&&W.hasOwnProperty(Ee)?D.options[Ee]=W[Ee]:D.options[Ee]=N[Ee];H.classList.add("jsorting"),H.addEventListener("dragstart",function(z){let ne=z.target;if(ne.nodeType===3)if(ne.parentNode.getAttribute("draggable")==="true")ne=ne.parentNode;else{z.preventDefault(),z.stopPropagation();return}if(ne.getAttribute("draggable")==="true"){let te=Array.prototype.indexOf.call(ne.parentNode.children,ne);X={element:ne,o:te,d:te},ne.style.opacity="0.25",typeof D.options.ondragstart=="function"&&D.options.ondragstart(H,ne,z),z.dataTransfer.setDragImage(ne,0,0)}}),H.addEventListener("dragover",function(z){if(z.preventDefault(),X&&be(z.target)&&z.target.getAttribute("draggable")=="true"&&X.element!=z.target){if(D.options.direction)var ne=z.target.clientWidth/2>z.offsetX;else var ne=z.target.clientHeight/2>z.offsetY;ne?z.target.parentNode.insertBefore(X.element,z.target):z.target.parentNode.insertBefore(X.element,z.target.nextSibling),X.d=Array.prototype.indexOf.call(z.target.parentNode.children,X.element)}}),H.addEventListener("dragleave",function(z){z.preventDefault()}),H.addEventListener("dragend",function(z){z.preventDefault(),X&&(typeof D.options.ondragend=="function"&&D.options.ondragend(H,X.element,z),X.o<X.d?z.target.parentNode.insertBefore(X.element,z.target.parentNode.children[X.o]):z.target.parentNode.insertBefore(X.element,z.target.parentNode.children[X.o].nextSibling),X.element.style.opacity="",X=null)}),H.addEventListener("drop",function(z){z.preventDefault(),X&&(X.o!==X.d&&typeof D.options.ondrop=="function"&&D.options.ondrop(H,X.o,X.d,X.element,z.target,z),X.element.style.opacity="",X=null)});for(var be=function(z){var ne=!1;function te(de){de.className&&de.classList.contains("jsorting")&&(ne=!0),ne||te(de.parentNode)}return te(z),ne},J=0;J<H.children.length;J++)H.children[J].hasAttribute("draggable")||H.children[J].setAttribute("draggable","true");return H.val=function(){for(var z=null,ne=[],te=0;te<H.children.length;te++)(z=H.children[te].getAttribute("data-id"))&&ne.push(z);return ne},H}function A(H,W){var D={};(!W.loadUp||typeof W.loadUp!="function")&&(W.loadUp=function(){return!1}),(!W.loadDown||typeof W.loadDown!="function")&&(W.loadDown=function(){return!1}),W.timer||(W.timer=100);var N=null,X=function(Ee){if(N==null){var be=!1,J=H.scrollTop;H.scrollTop+H.clientHeight*2>=H.scrollHeight?W.loadDown()&&(J==H.scrollTop&&(H.scrollTop=H.scrollTop-H.clientHeight),be=!0):H.scrollTop<=H.clientHeight&&W.loadUp()&&(J==H.scrollTop&&(H.scrollTop=H.scrollTop+H.clientHeight),be=!0),N=setTimeout(function(){N=null},W.timer),be&&typeof W.onupdate=="function"&&W.onupdate()}};return H.onscroll=function(Ee){X()},H.onwheel=function(Ee){X()},D}function T(){var H=function(W,D){if(Array.isArray(W)){var N={instance:[],complete:D};if(W.length>0)for(var X=0;X<W.length;X++)W[X].multiple=N,N.instance.push(H(W[X]));return N}if(W.data||(W.data={}),W.type&&(W.method=W.type),W.method||(W.method="GET"),W.dataType||(W.dataType="json"),W.data){var Ee=function(de,Me){var Ae=[];if(de){var De=Object.keys(de);if(De.length)for(var Ge=0;Ge<De.length;Ge++){if(Me)var ct=Me+"["+De[Ge]+"]";else var ct=De[Ge];if(de[ct]instanceof FileList)Ae[ct]=de[De[Ge]];else if(de[De[Ge]]===null||de[De[Ge]]===void 0)Ae[ct]="";else if(typeof de[De[Ge]]=="object")for(var pt=Ee(de[De[Ge]],ct),Dt=Object.keys(pt),It=0;It<Dt.length;It++)Ae[Dt[It]]=pt[Dt[It]];else Ae[ct]=de[De[Ge]]}}return Ae},be=Ee(W.data),J=Object.keys(be);if(W.method=="GET"){if(J.length){for(var z=[],X=0;X<J.length;X++)z.push(J[X]+"="+encodeURIComponent(be[J[X]]));W.url.indexOf("?")<0&&(W.url+="?"),W.url+=z.join("&")}}else for(var z=new FormData,X=0;X<J.length;X++)if(be[J[X]]instanceof FileList){if(be[J[X]].length)for(var ne=0;ne<be[J[X]].length;ne++)z.append(J[X],be[J[X]][ne],be[J[X]][ne].name)}else z.append(J[X],be[J[X]])}var te=new XMLHttpRequest;return te.open(W.method,W.url,!0),W.requestedWith?te.setRequestHeader("X-Requested-With",W.requestedWith):W.requestedWith!==!1&&te.setRequestHeader("X-Requested-With","XMLHttpRequest"),W.contentType&&te.setRequestHeader("Content-Type",W.contentType),W.method==="POST"?te.setRequestHeader("Accept","application/json"):W.dataType==="blob"?te.responseType="blob":W.contentType||(W.dataType==="json"?te.setRequestHeader("Content-Type","text/json"):W.dataType==="html"&&te.setRequestHeader("Content-Type","text/html")),W.cache!==!0&&(te.setRequestHeader("pragma","no-cache"),te.setRequestHeader("cache-control","no-cache")),W.withCredentials===!0&&(te.withCredentials=!0),typeof W.beforeSend=="function"&&W.beforeSend(te),typeof H.beforeSend=="function"&&H.beforeSend(te),document.ajax&&typeof document.ajax.beforeSend=="function"&&document.ajax.beforeSend(te),te.onerror=function(){W.error&&typeof W.error=="function"&&W.error({message:"Network error: Unable to reach the server.",status:0})},te.ontimeout=function(){W.error&&typeof W.error=="function"&&W.error({message:"Request timed out after "+te.timeout+"ms.",status:0})},te.onload=function(){if(te.status>=200&&te.status<300)if(W.dataType==="json")try{var de=JSON.parse(te.responseText);W.success&&typeof W.success=="function"&&W.success(de)}catch(Ae){W.error&&typeof W.error=="function"&&W.error(Ae,de)}else{if(W.dataType==="blob")var de=te.response;else var de=te.responseText;W.success&&typeof W.success=="function"&&W.success(de)}else W.error&&typeof W.error=="function"&&W.error(te.responseText,te.status);if(H.queue&&H.queue.length>0&&H.send(H.queue.shift()),H.requests&&H.requests.length){var Me=H.requests.indexOf(te);if(H.requests.splice(Me,1),H.requests.length||W.complete&&typeof W.complete=="function"&&W.complete(de),W.group&&H.oncomplete&&typeof H.oncomplete[W.group]=="function"&&(H.pending(W.group)||(H.oncomplete[W.group](),H.oncomplete[W.group]=null)),W.multiple&&W.multiple.instance){var Me=W.multiple.instance.indexOf(te);W.multiple.instance.splice(Me,1),W.multiple.instance.length||W.multiple.complete&&typeof W.multiple.complete=="function"&&W.multiple.complete(de)}}},te.options=W,te.data=z,W.queue===!0&&H.requests.length>0?H.queue.push(te):H.send(te),te};return H.send=function(W){W.data?Array.isArray(W.data)?W.send(W.data.join("&")):W.send(W.data):W.send(),H.requests.push(W)},H.exists=function(W,D){var N=new XMLHttpRequest;N.open("HEAD",W,!1),N.send(),N.status&&D(N.status)},H.pending=function(W){var D=0,N=H.requests;if(N&&N.length)for(var X=0;X<N.length;X++)(!W||W==N[X].options.group)&&D++;return D},H.oncomplete={},H.requests=[],H.queue=[],H}var O=T();function R(){const H={loading:{}};return H.loading.show=function(W){H.loading.element||(H.loading.element=document.createElement("div"),H.loading.element.className="jloading"),document.body.appendChild(H.loading.element),W>0&&setTimeout(function(){H.loading.hide()},W*1e3)},H.loading.hide=function(){H.loading.element&&H.loading.element.parentNode&&document.body.removeChild(H.loading.element)},H.slideLeft=function(W,D,N){D==!0?(W.classList.add("jslide-left-in"),setTimeout(function(){W.classList.remove("jslide-left-in"),typeof N=="function"&&N()},400)):(W.classList.add("jslide-left-out"),setTimeout(function(){W.classList.remove("jslide-left-out"),typeof N=="function"&&N()},400))},H.slideRight=function(W,D,N){D===!0?(W.classList.add("jslide-right-in"),setTimeout(function(){W.classList.remove("jslide-right-in"),typeof N=="function"&&N()},400)):(W.classList.add("jslide-right-out"),setTimeout(function(){W.classList.remove("jslide-right-out"),typeof N=="function"&&N()},400))},H.slideTop=function(W,D,N){D===!0?(W.classList.add("jslide-top-in"),setTimeout(function(){W.classList.remove("jslide-top-in"),typeof N=="function"&&N()},400)):(W.classList.add("jslide-top-out"),setTimeout(function(){W.classList.remove("jslide-top-out"),typeof N=="function"&&N()},400))},H.slideBottom=function(W,D,N){D===!0?(W.classList.add("jslide-bottom-in"),setTimeout(function(){W.classList.remove("jslide-bottom-in"),typeof N=="function"&&N()},400)):(W.classList.add("jslide-bottom-out"),setTimeout(function(){W.classList.remove("jslide-bottom-out"),typeof N=="function"&&N()},100))},H.fadeIn=function(W,D){W.style.display="",W.classList.add("jfade-in"),setTimeout(function(){W.classList.remove("jfade-in"),typeof D=="function"&&D()},2e3)},H.fadeOut=function(W,D){W.classList.add("jfade-out"),setTimeout(function(){W.style.display="none",W.classList.remove("jfade-out"),typeof D=="function"&&D()},1e3)},H}var k=R();function V(){var H={};H.now=function(be,J){var z=null,ne=null,te=null,de=null,Me=null,Ae=null;return Array.isArray(be)?(z=be[0],ne=be[1],te=be[2],de=be[3],Me=be[4],Ae=be[5]):(be||(be=new Date),z=be.getFullYear(),ne=be.getMonth()+1,te=be.getDate(),de=be.getHours(),Me=be.getMinutes(),Ae=be.getSeconds()),J==!0?v.two(z)+"-"+v.two(ne)+"-"+v.two(te):v.two(z)+"-"+v.two(ne)+"-"+v.two(te)+" "+v.two(de)+":"+v.two(Me)+":"+v.two(Ae)},H.toArray=function(be){var z=be.split(be.indexOf("T")!==-1?"T":" "),J=z[1],z=z[0].split("-"),ne=parseInt(z[0]),te=parseInt(z[1]),de=parseInt(z[2]),Me=0,Ae=0;return J&&(J=J.split(":"),Me=parseInt(J[0]),Ae=parseInt(J[1])),[ne,te,de,Me,Ae,0]};var W=Date.UTC(1900,0,0),D=Date.UTC(1900,1,29),N=864e5;H.dateToNum=function(be){typeof be=="string"&&(be=new Date(be+"  GMT+0"));var J=be.getTime();return J>=D&&(J+=N),J-=W,J/N},H.numToDate=function(be){var J=W+be*N;J>=D&&(J-=N);const z=new Date(J);var ne=[z.getUTCFullYear(),z.getUTCMonth()+1,z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes(),z.getUTCSeconds()];return H.now(ne)};let X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ee=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object.defineProperty(H,"weekdays",{get:function(){return X.map(function(be){return u.translate(be)})}}),Object.defineProperty(H,"weekdaysShort",{get:function(){return X.map(function(be){return u.translate(be).substring(0,3)})}}),Object.defineProperty(H,"months",{get:function(){return Ee.map(function(be){return u.translate(be)})}}),Object.defineProperty(H,"monthsShort",{get:function(){return Ee.map(function(be){return u.translate(be).substring(0,3)})}}),H}var P=V();function B(){var H={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],scientific:["0{1}(.{1}0+)?E{1}\\+0+"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},W=function(){if(this.mask.toLowerCase().indexOf("[h]")!==-1){var F=0;this.date[4]&&(F=parseFloat(this.date[4]/60));var G=parseInt(this.date[3])+F;G/=24}else!(this.date[0]&&this.date[1]&&this.date[2])&&(this.date[3]||this.date[4])?G=v.two(this.date[3])+":"+v.two(this.date[4])+":"+v.two(this.date[5]):(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),G=v.two(this.date[0])+"-"+v.two(this.date[1])+"-"+v.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(G+=" "+v.two(this.date[3])+":"+v.two(this.date[4])+":"+v.two(this.date[5])));return G},D=function(){var F="";if(!(this.date[0]&&this.date[1]&&this.date[2])&&(this.date[3]||this.date[4])){if(this.mask.toLowerCase().indexOf("[h]")!==-1)F=parseInt(this.date[3]);else{let pe=parseInt(this.date[3]);pe<13&&this.values.indexOf("PM")!==-1?F=(pe+12)%24:F=pe%24}this.date[4]&&(F+=parseFloat(this.date[4]/60)),this.date[5]&&(F+=parseFloat(this.date[5]/3600)),F/=24}else if(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5]){this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1);var G=P.now(this.date);F=P.dateToNum(G)}return isNaN(F)&&(F=""),F},N=function(F){return F===null||F===""||F===void 0},X=function(F){var G=(""+F)[0];return G=="="},Ee=function(F){return F==="currency"||F==="percentage"||F==="scientific"||F==="numeric"},be=function(F){if(F&&Number(F)==F)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var G=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=G[1]}else{F||(F=this.mask);var pe=new RegExp("0{1}(.{1})0+","ig"),G=pe.exec(F);if(G&&G[1]&&G[1].length==1)return this.options.decimal=G[1],G[1];var pe=new RegExp("#{1}(.{1})#+","ig"),G=pe.exec(F);G&&G[1]&&G[1].length==1?G[1]===","?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2)}return this.options.decimal?this.options.decimal:null},J=function(F,G){if(F=="")return"";G||(G=be.call(this)),F=(""+F).split(G);var pe=F[0].match(/[-]+/g);if(pe&&pe.length?pe=!0:pe=!1,F[0]=F[0].match(/[0-9]+/g),F[0]?(pe&&F[0].unshift("-"),F[0]=F[0].join("")):pe&&(F[0]="-"),F[0]||F[1])F[1]!==void 0&&(F[1]=F[1].match(/[0-9]+/g),F[1]?F[1]=F[1].join(""):F[1]="");else return"";return F},z=function(F,G){if(F==="")return"";var pe=be.call(this),Ie=this.options;if(F=J.call(this,F),F==="")return"";var he=null;if(F[0]&&(Ie.style==="percent"?he=parseFloat(F[0])/100:he=parseFloat(F[0]+".1")),(F[0]==="-"||F[0]==="-00")&&!F[1]&&G&&G.inputType=="deleteContentBackward")return"";var Re=new Intl.NumberFormat(this.locale,Ie).format(he);if(Re=Re.split(pe),Ie.style==="percent"&&Re[0].indexOf("%")!==-1&&(Re[0]=Re[0].replace("%",""),Re[2]="%"),typeof Re[1]<"u"){var Ve=Re[1].replace(/[0-9]*/g,"");Ve&&(Re[2]=Ve)}return F[1]!==void 0?Re[1]=pe+F[1]:Re[1]="",Re.join("")},ne=function(F,G){var pe=Me.call(F);if(pe){var Ie=z.call(this,pe,G),he=Ie.length-pe.length,Re=de.call(F)+he;Me.call(F,Ie,Re,!0)}},te=function(F){var G=J.call(this,F);return G?(G[0]==="-"&&(G[0]="-0"),parseFloat(G.join("."))):null},de=function(F,G){if(F===void 0)if(this.tagName=="DIV"){var pe=0,Ie=window.getSelection();if(Ie&&Ie.rangeCount!==0){var he=Ie.getRangeAt(0),Re=he.cloneRange();Re.selectNodeContents(this),Re.setEnd(he.endContainer,he.endOffset),pe=Re.toString().length}return pe}else return this.selectionStart;else{var Ve=Me.call(this);if(G){for(var Re=null,ut=0;ut<Ve.length;ut++)(Ve[ut].match(/[\-0-9]/g)||Ve[ut]==="."||Ve[ut]===",")&&(Re=ut);Re===null&&(Re=Ve.indexOf(" ")),F>=Re&&(F=Re+1)}if(F>Ve.length&&(F=Ve.length),F)if(this.tagName=="DIV"){var Ie=window.getSelection(),he=document.createRange();this.childNodes[0]&&(he.setStart(this.childNodes[0],F),Ie.removeAllRanges(),Ie.addRange(he))}else this.selectionStart=F,this.selectionEnd=F}},Me=function(F,G,pe){if(this.tagName=="DIV")if(F===void 0){var F=this.innerText;return this.value&&this.value.length>F.length&&(F=this.value),F}else this.innerText!==F&&(this.innerText=F,G&&de.call(this,G,pe));else{if(F===void 0)return this.value;this.value!==F&&(this.value=F,G&&de.call(this,G,pe))}},Ae=P.weekdays,De=P.weekdaysShort,Ge=P.months,ct=P.monthsShort,pt={YEAR:function(F,G){var pe=""+new Date().getFullYear();if(typeof this.values[this.index]>"u"&&(this.values[this.index]=""),parseInt(F)>=0&&parseInt(F)<=10&&this.values[this.index].length<G&&(this.values[this.index]+=F),this.values[this.index].length==G){if(G==2)var pe=pe.substr(0,2)+this.values[this.index];else if(G==3)var pe=pe.substr(0,1)+this.values[this.index];else if(G==4)var pe=this.values[this.index];this.date[0]=pe,this.index++}},YYYY:function(F){pt.YEAR.call(this,F,4)},YYY:function(F){pt.YEAR.call(this,F,3)},YY:function(F){pt.YEAR.call(this,F,2)},FIND:function(F,G){if(N(this.values[this.index])&&(this.values[this.index]=""),this.event&&this.event.inputType&&this.event.inputType.indexOf("delete")>-1){this.values[this.index]+=F;return}for(var pe=0,Ie=0,he=(this.values[this.index]+F).toLowerCase(),Re=0;Re<G.length;Re++)G[Re].toLowerCase().indexOf(he)==0&&(pe=Re,Ie++);if(Ie>1)this.values[this.index]+=F;else if(Ie==1){var Ve=G[pe].length-this.values[this.index].length-1;return this.position+=Ve,this.values[this.index]=G[pe],this.index++,pe}},MMM:function(F){var G=pt.FIND.call(this,F,ct);G!==void 0&&(this.date[1]=G+1)},MON:function(F){pt.MMM.call(this,F)},MMMM:function(F){var G=pt.FIND.call(this,F,Ge);G!==void 0&&(this.date[1]=G+1)},MONTH:function(F){pt.MMMM.call(this,F)},MMMMM:function(F){N(this.values[this.index])&&(this.values[this.index]="");for(var G=(this.values[this.index]+F).toLowerCase(),pe=0;pe<Ge.length;pe++)if(Ge[pe][0].toLowerCase().indexOf(G)==0){this.values[this.index]=Ge[pe][0],this.date[1]=pe+1,this.index++;break}},MM:function(F){N(this.values[this.index])?parseInt(F)>1&&parseInt(F)<10?(this.date[1]=this.values[this.index]="0"+F,this.index++):parseInt(F)<2&&(this.values[this.index]=F):this.values[this.index]==1&&parseInt(F)<3?(this.date[1]=this.values[this.index]+=F,this.index++):this.values[this.index]==0&&parseInt(F)>0&&parseInt(F)<10&&(this.date[1]=this.values[this.index]+=F,this.index++)},M:function(F){var G=!1;if(parseInt(F)>=0&&parseInt(F)<10)if(N(this.values[this.index]))this.values[this.index]=F,F>1&&(this.date[1]=this.values[this.index],this.index++);else if(this.values[this.index]==1&&parseInt(F)<3)this.date[1]=this.values[this.index]+=F,this.index++;else if(this.values[this.index]==0&&parseInt(F)>0)this.date[1]=this.values[this.index]+=F,this.index++;else var G=!0;else var G=!0;if(G==!0){var pe=parseInt(this.values[this.index]);pe>0&&pe<12&&(this.date[1]=this.values[this.index],this.index++,this.position--)}},D:function(F){var G=!1;if(parseInt(F)>=0&&parseInt(F)<10)if(N(this.values[this.index]))this.values[this.index]=F,parseInt(F)>3&&(this.date[2]=this.values[this.index],this.index++);else if(this.values[this.index]==3&&parseInt(F)<2)this.date[2]=this.values[this.index]+=F,this.index++;else if(this.values[this.index]==1||this.values[this.index]==2)this.date[2]=this.values[this.index]+=F,this.index++;else if(this.values[this.index]==0&&parseInt(F)>0)this.date[2]=this.values[this.index]+=F,this.index++;else var G=!0;else var G=!0;if(G==!0){var pe=parseInt(this.values[this.index]);pe>0&&pe<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(F){N(this.values[this.index])?parseInt(F)>3&&parseInt(F)<10?(this.date[2]=this.values[this.index]="0"+F,this.index++):parseInt(F)<10&&(this.values[this.index]=F):this.values[this.index]==3&&parseInt(F)<2?(this.date[2]=this.values[this.index]+=F,this.index++):(this.values[this.index]==1||this.values[this.index]==2)&&parseInt(F)<10?(this.date[2]=this.values[this.index]+=F,this.index++):this.values[this.index]==0&&parseInt(F)>0&&parseInt(F)<10&&(this.date[2]=this.values[this.index]+=F,this.index++)},DDD:function(F){pt.FIND.call(this,F,De)},DY:function(F){pt.DDD.call(this,F)},DDDD:function(F){pt.FIND.call(this,F,Ae)},DAY:function(F){pt.DDDD.call(this,F)},HH12:function(F,G){N(this.values[this.index])?parseInt(F)>1&&parseInt(F)<10?(G&&(F=0+F),this.date[3]=this.values[this.index]=F,this.index++):parseInt(F)<10&&(this.values[this.index]=F):this.values[this.index]==1&&parseInt(F)<3?(this.date[3]=this.values[this.index]+=F,this.index++):this.values[this.index]<1&&parseInt(F)<10&&(this.date[3]=this.values[this.index]+=F,this.index++)},HH24:function(F,G){parseInt(F)>=0&&parseInt(F)<10&&(this.values[this.index]==null||this.values[this.index]==""?parseInt(F)>2&&parseInt(F)<10?(G&&(F=0+F),this.date[3]=this.values[this.index]=F,this.index++):parseInt(F)<10&&(this.values[this.index]=F):this.values[this.index]==2&&parseInt(F)<4?(!G&&this.values[this.index]==="0"&&(this.values[this.index]=""),this.date[3]=this.values[this.index]+=F,this.index++):this.values[this.index]<2&&parseInt(F)<10&&(!G&&this.values[this.index]==="0"&&(this.values[this.index]=""),this.date[3]=this.values[this.index]+=F,this.index++))},HH:function(F){pt.HH24.call(this,F,1)},H:function(F){pt.HH24.call(this,F,0)},"\\[H\\]":function(F){this.values[this.index]==null&&(this.values[this.index]=""),F.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=F:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(F,G){this.values[this.index]==null||this.values[this.index]==""?parseInt(F)>5&&parseInt(F)<10?(this.date[G]=this.values[this.index]="0"+F,this.index++):parseInt(F)<10&&(this.values[this.index]=F):parseInt(F)<10&&(this.date[G]=this.values[this.index]+=F,this.index++)},MI:function(F){pt.N60.call(this,F,4)},SS:function(F){pt.N60.call(this,F,5)},"AM/PM":function(F){typeof this.values[this.index]>"u"&&(this.values[this.index]=""),this.values[this.index]===""?F.match(/a/i)&&this.date[3]<13?this.values[this.index]+="A":F.match(/p/i)&&(this.values[this.index]+="P"):(this.values[this.index]==="A"||this.values[this.index]==="P")&&(this.values[this.index]+="M",this.index++)},WD:function(F){typeof this.values[this.index]>"u"&&(this.values[this.index]=""),parseInt(F)>=0&&parseInt(F)<7&&(this.values[this.index]=F),this.values[this.index].length==1&&this.index++},"0{1}(.{1}0+)?":function(F){var G=be.call(this),pe=!1;N(this.values[this.index])?this.values[this.index]="":this.values[this.index]=="-"&&(pe=!0);var Ie=J.call(this,this.values[this.index],G);Ie&&(this.values[this.index]=Ie.join(G)),parseInt(F)>=0&&parseInt(F)<10?(this.values[this.index]=="0"&&F>0?this.values[this.index]="":this.values[this.index]=="-0"&&F>0&&(this.values[this.index]="-"),(this.values[this.index]!="0"&&this.values[this.index]!="-0"||F==G)&&(this.values[this.index]+=F)):G&&F==G?this.values[this.index].indexOf(G)==-1&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=F):F=="-"&&(pe=!0),pe===!0&&this.values[this.index][0]!=="-"&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?E{1}\\+0+":function(F){pt["0{1}(.{1}0+)?"].call(this,F)},"0{1}(.{1}0+)?%":function(F){pt["0{1}(.{1}0+)?"].call(this,F),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&this.values[this.index].indexOf("%")==-1&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(F){pt["0{1}(.{1}0+)?"].call(this,F);var G=be.call(this),pe=this.tokens[this.index].substr(1,1),Ie=this.values[this.index][0]==="-",he=J.call(this,this.values[this.index],G);if(he!==""){var Re=he[0].match(/[0-9]/g);if(Re){Re=Re.join("");for(var Ve=[],ut=0,Xe=Re.length-1;Xe>=0;Xe--)Ve.push(Re[Xe]),ut++,ut%3||Ve.push(pe);Ve=Ve.reverse(),he[0]=Ve.join(""),he[0].substr(0,1)==pe&&(he[0]=he[0].substr(1))}else he[0]="";this.values[this.index]=he.join(G),Ie&&(this.values[this.index]="-"+this.values[this.index])}},0:function(F){F.match(/[0-9]/g)&&(this.values[this.index]=F,this.index++)},"[0-9a-zA-Z$]+":function(F){N(this.values[this.index])&&(this.values[this.index]="");var G=this.tokens[this.index],pe=this.values[this.index],Ie=pe.length;G[Ie]==F?(this.values[this.index]+=F,this.values[this.index]==G&&this.index++):(this.values[this.index]=G,this.index++,F.match(/[\-0-9]/g)&&this.position--)},A:function(F){F.match(/[a-zA-Z]/gi)&&(this.values[this.index]=F,this.index++)},".":function(F){pt["[0-9a-zA-Z$]+"].call(this,F)},"@":function(F){N(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=F}},Dt=function(F){if(this.type=="general")var G=[].concat(H.general);else var G=[].concat(H.currency,H.datetime,H.percentage,H.scientific,H.numeric,H.text,H.general);var pe=new RegExp(G.join("|"),"gi");return F.match(pe)},It=function(F){if(this.type)if(this.type=="text")var G=["text"];else if(this.type=="general")var G=["general"];else if(this.type=="datetime")var G=["numeric","datetime","general"];else var G=["currency","percentage","scientific","numeric","general"];else var G=Object.keys(H);for(var pe=0;pe<G.length;pe++)for(var Ie=G[pe],he=0;he<H[Ie].length;he++){var Re=new RegExp(H[Ie][he],"gi"),Ve=F.match(Re);if(Ve)return{type:Ie,method:H[Ie][he]}}},Ce=function(F){for(var G=[],pe=0;pe<F.length;pe++){var Ie=It.call(this,F[pe]);Ie?G.push(Ie.method):G.push(null)}for(var pe=0;pe<G.length;pe++)G[pe]=="MM"&&(G[pe-1]&&G[pe-1].indexOf("H")>=0||G[pe-2]&&G[pe-2].indexOf("H")>=0||G[pe+1]&&G[pe+1].indexOf("S")>=0||G[pe+2]&&G[pe+2].indexOf("S")>=0)&&(G[pe]="MI");return G},He=function(F){var G=It.call(this,F);if(G)var pe=G.type;if(pe){for(var Ie=0,he=Dt.call(this,F),Re=0;Re<he.length;Re++)G=It.call(this,he[Re]),G&&Ee(G.type)&&Ie++;Ie>1&&(pe="general")}return pe},it=function(){typeof pt[this.methods[this.index]]=="function"?(pt[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},oe=function(F){return(""+ +F).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,function(G,pe,Ie,he,Re){return Re<0?pe+"0."+Array(1-Re-Ie.length).join(0)+Ie+he:pe+Ie+he+Array(Re-he.length+1).join(0)})},ge=function(F,G,pe){var Ie=null,he={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if(typeof F=="object"){if(he.input=F.target,he.value=Me.call(F.target),he.caret=de.call(F.target),(Ie=F.target.getAttribute("data-mask"))&&(he.mask=Ie),(Ie=F.target.getAttribute("data-type"))&&(he.type=Ie),F.target.mask?(F.target.mask.options&&(he.options=F.target.mask.options),F.target.mask.locale&&(he.locale=F.target.mask.locale)):(Ie=F.target.getAttribute("data-locale"))&&(he.locale=Ie,he.mask&&(he.options.style=he.mask)),F.target.attributes&&F.target.attributes.length)for(var Re=0;Re<F.target.attributes.length;Re++){var Ve=F.target.attributes[Re].name,ut=F.target.attributes[Re].value;Ve.substr(0,4)=="data"&&(he.options[Ve.substr(5)]=ut)}}else{if(typeof G=="string")he.mask=G;else for(var Ve=Object.keys(G),Re=0;Re<Ve.length;Re++)he[Ve[Re]]=G[Ve[Re]];typeof F=="number"&&(be.call(he,he.mask),F=(""+F).replace(".",he.options.decimal)),he.value=F,he.input&&(Me.call(he.input,F),v.focus(he.input),he.caret=de.call(he.input))}if(!X(he.value)&&(he.mask||he.locale)){if(he.mask){if(he.mask=he.mask.replace(new RegExp(/\[h]/),"|h|"),he.mask=he.mask.replace(new RegExp(/\[.*?\]/),""),he.mask=he.mask.replace(new RegExp(/\|h\|/),"[h]"),he.mask.indexOf(";")!==-1){var Ie=he.mask.split(";");he.mask=Ie[0]}if(he.mask.indexOf("##")!==-1){var Xe=he.mask.split(";");Xe[0]&&(typeof F=="object"&&(Xe[0]=Xe[0].replace(new RegExp(/_\)/g),""),Xe[0]=Xe[0].replace(new RegExp(/_\(/g),"")),Xe[0]=Xe[0].replace("*","	"),Xe[0]=Xe[0].replace(new RegExp(/_-/g),""),Xe[0]=Xe[0].replace(new RegExp(/_/g),""),Xe[0]=Xe[0].replace(new RegExp(/"/g),""),Xe[0]=Xe[0].replace("##0.###","##0.000"),Xe[0]=Xe[0].replace("##0.##","##0.00"),Xe[0]=Xe[0].replace("##0.#","##0.0"),Xe[0]=Xe[0].replace("##0,###","##0,000"),Xe[0]=Xe[0].replace("##0,##","##0,00"),Xe[0]=Xe[0].replace("##0,#","##0,0")),he.mask=Xe[0]}if(he.mask.indexOf("\\")!==-1){var Xe=he.mask.split(";");Xe[0]=Xe[0].replace(new RegExp(/\\/g),""),he.mask=Xe[0]}he.type||(he.type=He.call(he,he.mask)),he.tokens=Dt.call(he,he.mask)}if(typeof F!="object"||!F.inputType||!F.inputType.indexOf("insert")||!F.inputType.indexOf("delete"))if(he.locale)if(he.input)ne.call(he,he.input,F);else var bt=z.call(he,he.value);else{for(he.methods=Ce.call(he,he.tokens),he.event=F;he.position<he.value.length&&typeof he.tokens[he.index]<"u";)it.call(he);var bt=he.values.join("");if(Ee(he.type)&&bt!==""){for(;typeof he.tokens[he.index]<"u";){var Ie=It.call(he,he.tokens[he.index]);Ie&&Ie.type=="general"&&(he.values[he.index]=he.tokens[he.index]),he.index++}var Ct=!0}else var Ct=!1;if(bt=he.values.join(""),he.input){if(Ie=bt.length-he.value.length,Ie>0)var Ht=he.caret+Ie;else var Ht=he.caret;Me.call(he.input,bt,Ht,Ct)}}if(he.input){var _e=null;if(Ee(he.type)){let qe=Me.call(he.input);he.number=te.call(he,qe),he.type=="percentage"&&(""+qe).indexOf("%")!==-1?_e=ge.adjustPrecision(he.number/100):_e=he.number}else he.type=="datetime"&&(_e=W.call(he),he.date[0]&&he.date[1]&&he.date[2]&&he.input.setAttribute("data-completed",!0));_e&&he.input.setAttribute("data-value",_e)}if(bt!==void 0)return pe?he:bt}};return ge.adjustPrecision=function(F){if(typeof F=="number"&&!Number.isInteger(F)){const G=F.toString().split(".");if(G[1]&&G[1].length>10){let pe=0;const Ie=G[1][G[1].length-2];if(Ie==0||Ie==9){for(let he=G[1].length-2;he>0;he--)if(pe>=0&&G[1][he]==Ie){if(pe++,pe>6)break}else{pe=0;break}if(pe)return parseFloat(parseFloat(F).toFixed(G[1].length-1))}}}return F},ge.getType=He,ge.prepare=function(F,G){return G||(G={}),Dt.call(G,F)},ge.apply=function(F){var G=Me.call(F.target);F.key.length==1&&(G+=F.key),Me.call(F.target,ge(G,F.target.getAttribute("data-mask")))},ge.run=function(F,G,pe){return ge(F,{mask:G,decimal:pe})},ge.extract=function(F,G,pe){if(N(F)||typeof G!="object")return F;if(G=Object.assign({},G),G.options||(G.options={}),!G.mask&&G.format&&(G.mask=G.format),G.mask){if(G.mask.indexOf(";")!==-1){var Ie=G.mask.split(";");G.mask=Ie[0]}G.mask=G.mask.replace(new RegExp(/\[h]/),"|h|"),G.mask=G.mask.replace(new RegExp(/\[.*?\]/),""),G.mask=G.mask.replace(new RegExp(/\|h\|/),"[h]")}be.call(G,G.mask);var he=null,Re=null;if(G.type=="percent"||G.options.style=="percent"?he="percentage":G.mask&&(he=He.call(G,G.mask)),he==="text"){var Ve={};Re=F}else if(he==="general"){var Ve=ge(F,G,!0);Re=F}else if(he==="datetime"){F instanceof Date&&(F=ge.getDateString(F,G.mask));var Ve=ge(F,G,!0);v.isNumeric(F)?Re=F:Re=D.call(Ve)}else if(he==="scientific"){Re=F,typeof F=="string"&&(Re=Number(Re));var Ve=G}else{Re=te.call(G,F),he==="percentage"&&(""+F).indexOf("%")!==-1&&(Re/=100);var Ve=G}return Ve.value=Re,!Ve.type&&he&&(Ve.type=he),pe?Ve:Re},ge.render=function(F,G,pe,Ie){if(N(F)||typeof G!="object")return F;if(G=Object.assign({},G),G.options||(G.options={}),!G.mask&&G.format&&(G.mask=G.format),G.mask){if(G.mask.indexOf(";")!==-1){var he=G.mask.split(";");pe||(he[0]=he[0].replace(new RegExp(/_\)/g),""),he[0]=he[0].replace(new RegExp(/_\(/g),"")),G.mask=he[0]}G.mask=G.mask.replace(new RegExp(/\[h]/),"|h|"),G.mask=G.mask.replace(new RegExp(/\[.*?\]/),""),G.mask=G.mask.replace(new RegExp(/\|h\|/),"[h]")}var Re=null;G.type=="percent"||G.options.style=="percent"?Re="percentage":G.mask?Re=He.call(G,G.mask):F instanceof Date&&(Re="datetime");var Ve=!1;if(Re=="datetime"||G.type=="calendar"){var he=ge.getDateString(F,G.mask);he&&(F=he),G.mask&&pe&&(Ve=!0)}else if(Re==="text")typeof F=="number"&&(F=F.toString());else if(typeof F=="string"&&n.isNumeric(F)&&(F=Number(F)),Re==="percentage"&&(F=ge.adjustPrecision(F*100)),typeof F=="number"){var he=null;if(G.mask&&pe){var ut=be.call(G,G.mask);if(Re==="scientific")if(G.mask.indexOf(ut)!==-1){let Je=G.mask.split("E");Je=Je[0].split(ut),Je=""+Je[1].match(/[0-9]+/g),Je=Je.length,he=F.toExponential(Je)}else he=F.toExponential(0);else{if(G.mask.indexOf(ut)!==-1){ut=G.mask.split(ut),ut=""+ut[1].match(/[0-9]+/g),ut=ut.length,he=F.toFixed(ut);let Je=F.toString().split("."),_t=Je[1];_t&&_t.length>ut&&_t[_t.length-1]==="5"&&(he=parseFloat(Je[0]+"."+_t+"1").toFixed(ut))}else he=F.toFixed(0);(""+he).indexOf("e")!==-1&&(he=oe(he))}}else if(G.locale&&pe){var ut=(""+F).split(".");if(G.options){typeof ut[1]>"u"&&(ut[1]="");var bt=ut[1].length;if(G.options.minimumFractionDigits>bt)for(var Xe=0;Xe<G.options.minimumFractionDigits-bt;Xe++)ut[1]+="0"}ut[1].length?he=ut.join("."):he=ut[0];var bt=ut[1].length;G.options&&G.options.maximumFractionDigits<bt&&(he=parseFloat(he).toFixed(G.options.maximumFractionDigits))}else he=oe(F);he!==null&&(F=he,be.call(G,G.mask),G.options.decimal&&(F=F.replace(".",G.options.decimal)))}else G.mask&&pe&&(Ve=!0);if(Ve){var Ct=G.mask.length-F.length;if(Ct>0)for(var Xe=0;Xe<Ct;Xe++)F+=" "}if(Re==="scientific")if(!pe)F=oe(F);else return F;if(Re==="numeric"&&Ie===!1&&typeof F=="string")return F;if(F=ge(F,G),pe&&Re==="numeric"){var Ht=G.mask.match(new RegExp(/^[0]+$/gm));if(Ht&&Ht.length===1){var _e=Ht[0].length;if(_e>3)for(F=""+F;F.length<_e;)F="0"+F}}return F},ge.set=function(F,G){if(G){F.setAttribute("data-mask",G);var pe=new Event("input",{bubbles:!0,cancelable:!0});F.dispatchEvent(pe)}},ge.extractDateFromString=function(F,G){var pe=ge(F,{mask:G},!0);if(F>0&&Number(F)==F&&(pe.values.join("")!==pe.value||pe.type=="numeric")){var Ie=new Date(Math.round((F-25569)*86400*1e3));return Ie.getFullYear()+"-"+v.two(Ie.getMonth())+"-"+v.two(Ie.getDate())+" 00:00:00"}var he=!1;return pe.values&&pe.values.length===pe.tokens.length&&pe.values[pe.values.length-1].length>=pe.tokens[pe.tokens.length-1].length&&(he=!0),pe.date[0]&&pe.date[1]&&(pe.date[2]||he)?(pe.date[2]||(pe.date[2]=1),pe.date[0]+"-"+v.two(pe.date[1])+"-"+v.two(pe.date[2])+" "+v.two(pe.date[3])+":"+v.two(pe.date[4])+":"+v.two(pe.date[5])):""},ge.getDateString=function(F,G){if(!G)var G={};if(G&&typeof G=="object"){if(G.format)var pe=G.format;else if(G.mask)var pe=G.mask}else var pe=G;if(pe||(pe="YYYY-MM-DD"),pe.indexOf("[h]")>=0){var Ie=0;if(F&&v.isNumeric(F)&&(Ie=parseFloat(24*Number(F)),pe.indexOf("mm")>=0)){var he=(""+Ie).split(".");if(he[1]){var Re=60*parseFloat("0."+he[1]);Re=parseFloat(Re.toFixed(2))}else var Re=0;Ie=parseInt(he[0])+":"+v.two(Re)}return Ie}F instanceof Date?F=P.now(F):F&&v.isNumeric(F)&&(F=P.numToDate(F));for(var Ve=["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."],ut=new RegExp(Ve.join("|"),"gi"),Xe=pe.match(ut),bt=0;bt<Xe.length;bt++)Xe[bt].toUpperCase()=="MM"&&(Xe[bt-1]&&Xe[bt-1].toUpperCase().indexOf("H")>=0||Xe[bt-2]&&Xe[bt-2].toUpperCase().indexOf("H")>=0||Xe[bt+1]&&Xe[bt+1].toUpperCase().indexOf("S")>=0||Xe[bt+2]&&Xe[bt+2].toUpperCase().indexOf("S")>=0)&&(Xe[bt]="mi");var Ct={tokens:Xe};if(F){var Re=""+F,Ht=Re.indexOf("T")!==-1?"T":" ";Re=Re.split(Ht);var he=0,_e=0,qe=0;Re[1]&&(he=Re[1].split(":"),_e=he[1]?he[1]:0,qe=he[2]?he[2]:0,he=he[0]?he[0]:0),Re=Re[0].split("-");let rn=new Date(Re[0],Re[1],0).getDate();if(Re[0]&&Re[1]&&Re[2]&&Re[0]>0&&Re[1]>0&&Re[1]<13&&Re[2]>0&&Re[2]<=rn){Ct.data=[Re[0],Re[1],Re[2],he,_e,qe],Ct.value=[];for(var Je=new Date(Ct.data[0],Ct.data[1]-1,Ct.data[2],Ct.data[3],Ct.data[4],Ct.data[5]),_t=function(Cn){var $t=this.tokens[Cn],Xt=$t.toUpperCase(),Ft=null;Xt==="YYYY"?Ft=this.data[0]:Xt==="YYY"?Ft=this.data[0].substring(1,4):Xt==="YY"?Ft=this.data[0].substring(2,4):Xt==="Y"?Ft=this.data[0].substring(3,4):$t==="MON"?Ft=P.months[Je.getMonth()].substr(0,3).toUpperCase():$t==="mon"?Ft=P.months[Je.getMonth()].substr(0,3).toLowerCase():$t==="MONTH"?Ft=P.months[Je.getMonth()].toUpperCase():$t==="month"?Ft=P.months[Je.getMonth()].toLowerCase():Xt==="MMMMM"?Ft=P.months[Je.getMonth()].substr(0,1):Xt==="MMMM"||$t==="Month"?Ft=P.months[Je.getMonth()]:Xt==="MMM"||$t=="Mon"?Ft=P.months[Je.getMonth()].substr(0,3):Xt==="MM"?Ft=v.two(this.data[1]):Xt==="M"?Ft=Je.getMonth()+1:$t==="DAY"?Ft=P.weekdays[Je.getDay()].toUpperCase():$t==="day"?Ft=P.weekdays[Je.getDay()].toLowerCase():Xt==="DDDD"||$t=="Day"?Ft=P.weekdays[Je.getDay()]:Xt==="DDD"?Ft=P.weekdays[Je.getDay()].substr(0,3):Xt==="DD"?Ft=v.two(this.data[2]):Xt==="D"?Ft=parseInt(this.data[2]):Xt==="Q"?Ft=Math.floor((Je.getMonth()+3)/3):Xt==="HH24"||Xt==="HH"?(Ft=this.data[3],Ft>12&&this.tokens.indexOf("am/pm")!==-1&&(Ft-=12),Ft=v.two(Ft)):Xt==="HH12"?this.data[3]>12?Ft=v.two(this.data[3]-12):Ft=v.two(this.data[3]):Xt==="H"?(Ft=this.data[3],Ft>12&&this.tokens.indexOf("am/pm")!==-1&&(Ft-=12,Ft=v.two(Ft))):Xt==="MI"?Ft=v.two(this.data[4]):Xt==="SS"?Ft=v.two(this.data[5]):Xt==="MS"?Ft=Je.getMilliseconds():Xt==="AM/PM"?this.data[3]>=12?Ft="PM":Ft="AM":Xt==="WD"&&(Ft=P.weekdays[Je.getDay()]),Ft===null?this.value[Cn]=this.tokens[Cn]:this.value[Cn]=Ft},bt=0;bt<Ct.tokens.length;bt++)_t.call(Ct,bt);F=Ct.value.join("")}else F=""}return F},ge}var j=B();function q(){var H=function(W,D){if(W.calendar)return W.calendar.setOptions(D,!0);var N={type:"calendar"};N.options={},N.date=null,N.setOptions=function(oe,ge){var F={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:P.monthsShort,monthsFull:P.months,weekdays:P.weekdays,textDone:u.translate("Done"),textReset:u.translate("Reset"),textUpdate:u.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:!0,autoSelect:!0};for(var G in F)oe&&oe.hasOwnProperty(G)?N.options[G]=oe[G]:(typeof N.options[G]>"u"||ge===!0)&&(N.options[G]=F[G]);if(N.options.resetButton==!1?z.style.display="none":z.style.display="",N.options.readonly?W.setAttribute("readonly","readonly"):W.removeAttribute("readonly"),N.options.placeholder?W.setAttribute("placeholder",N.options.placeholder):W.removeAttribute("placeholder"),v.isNumeric(N.options.value)&&N.options.value>0&&(N.options.value=H.numToDate(N.options.value),N.options.dataType="numeric"),z.innerHTML=N.options.textReset,ne.innerHTML=N.options.textDone,It.innerHTML=N.options.textUpdate,N.options.format&&W.setAttribute("data-mask",N.options.format.toLowerCase()),!N.options.value&&N.options.today)var pe=H.now();else var pe=N.options.value;return pe&&(N.options.value=null,N.setValue(pe)),N},N.open=function(oe){if(!J.classList.contains("jcalendar-focus")&&!J.classList.contains("jcalendar-inline")){if(H.current=N,b(N,!0),N.getDays(),N.options.type=="year-month-picker"&&N.getMonths(),N.options.time&&(Ce.value=N.date[3],He.value=N.date[4]),J.classList.add("jcalendar-focus"),v.getWindowWidth()<800||N.options.fullscreen)J.classList.add("jcalendar-fullsize"),k.slideBottom(de,1);else{J.classList.remove("jcalendar-fullsize");var ge=W.getBoundingClientRect(),F=de.getBoundingClientRect();if(N.options.position)te.style.position="fixed",window.innerHeight<ge.bottom+F.height?te.style.top=ge.top-(F.height+2)+"px":te.style.top=ge.top+ge.height+2+"px",te.style.left=ge.left+"px";else{if(window.innerHeight<ge.bottom+F.height){var G=-1*(ge.height+F.height+2);G+ge.top<0&&(G=-1*(ge.top+ge.height)),te.style.top=G+"px"}else te.style.top=2+"px";if(window.innerWidth<ge.left+F.width){var G=window.innerWidth-(ge.left+F.width+20);te.style.left=G+"px"}else te.style.left="0px"}}typeof N.options.onopen=="function"&&N.options.onopen(W)}},N.close=function(oe,ge){if(N.options.autoSelect!==!0&&typeof ge>"u"&&(ge=!1),J.classList.contains("jcalendar-focus")){if(ge!==!1){var F=J.querySelector(".jcalendar-selected");if(typeof ge=="string")var G=ge;else if(!F||F.classList.contains("jcalendar-disabled"))var G=N.options.value;else var G=N.getValue();N.setValue(G)}else{let pe=N.options.value||"";N.options.value=null,N.setValue(pe)}!oe&&typeof N.options.onclose=="function"&&N.options.onclose(W),J.classList.remove("jcalendar-focus"),b(N,!1),H.current=null}return N.options.value},N.prev=function(){N.options.mode=="years"?(N.date[0]=N.date[0]-12,N.getYears()):N.options.mode=="months"?(N.date[0]=parseInt(N.date[0])-1,N.getMonths()):(N.date[1]<2?(N.date[0]=N.date[0]-1,N.date[1]=12):N.date[1]=N.date[1]-1,N.getDays())},N.next=function(){N.options.mode=="years"?(N.date[0]=parseInt(N.date[0])+12,N.getYears()):N.options.mode=="months"?(N.date[0]=parseInt(N.date[0])+1,N.getMonths()):(N.date[1]>11?(N.date[0]=parseInt(N.date[0])+1,N.date[1]=1):N.date[1]=parseInt(N.date[1])+1,N.getDays())},N.setToday=function(){var oe=new Date().toISOString().substr(0,10);return N.setValue(oe),oe},N.setValue=function(oe){oe||(oe=""+oe);var ge=oe,F=N.options.value;if(F!=ge){if(ge){N.setLabel(ge,N.options);var pe=ge.split(" ");pe[1]||(pe[1]="00:00:00");var G=pe[1].split(":"),pe=pe[0].split("-"),Ie=parseInt(pe[0]),he=parseInt(pe[1]),Re=parseInt(pe[2]),Ve=parseInt(G[0]),ut=parseInt(G[1]);N.date=[Ie,he,Re,Ve,ut,0];var oe=N.setLabel(ge,N.options),Xe=H.now(new Date(Ie,he-1,Re),!0);if(N.options.validRange){if(!N.options.validRange[0]||Xe>=N.options.validRange[0])var bt=!0;else var bt=!1;if(!N.options.validRange[1]||Xe<=N.options.validRange[1])var Ct=!0;else var Ct=!1;bt&&Ct?(W.classList.remove("jcalendar_warning"),W.title=""):(W.classList.add("jcalendar_warning"),W.title=u.translate("Date outside the valid range"))}else W.classList.remove("jcalendar_warning"),W.title=""}else{N.date=null;var oe="";W.classList.remove("jcalendar_warning"),W.title=""}N.options.value=ge,typeof N.options.onchange=="function"&&N.options.onchange(W,ge,F),W.value!=oe&&(W.value=oe,typeof W.oninput=="function"&&W.oninput({type:"input",target:W,value:W.value}))}N.date&&(N.getDays(),N.options.type=="year-month-picker"&&N.getMonths())},N.getValue=function(){return N.date?N.options.time?v.two(N.date[0])+"-"+v.two(N.date[1])+"-"+v.two(N.date[2])+" "+v.two(N.date[3])+":"+v.two(N.date[4])+":"+v.two(0):v.two(N.date[0])+"-"+v.two(N.date[1])+"-"+v.two(N.date[2])+" "+v.two(0)+":"+v.two(0)+":"+v.two(0):""},N.update=function(oe,ge){if(!oe.classList.contains("jcalendar-disabled")){var F=J.querySelector(".jcalendar-selected");F&&F.classList.remove("jcalendar-selected"),oe.classList.add("jcalendar-selected"),oe.classList.contains("jcalendar-set-month")?(N.date[1]=ge,N.date[2]=1):N.date[2]=oe.innerText,N.options.time?(N.date[3]=Ce.value,N.date[4]=He.value):N.close(null,!0)}be()},N.reset=function(){N.setValue(""),N.date=null,N.close(!1,!1)},N.getDays=function(){N.options.mode="days";var Ve=new Date,oe=N.date&&v.isNumeric(N.date[0])?N.date[0]:parseInt(Ve.getFullYear()),ge=N.date&&v.isNumeric(N.date[1])?N.date[1]:parseInt(Ve.getMonth())+1,F=N.date&&v.isNumeric(N.date[2])?N.date[2]:parseInt(Ve.getDate()),G=N.date&&v.isNumeric(N.date[3])?N.date[3]:parseInt(Ve.getHours()),pe=N.date&&v.isNumeric(N.date[4])?N.date[4]:parseInt(Ve.getMinutes());N.date=[oe,ge,F,G,pe,0],Me.innerHTML=oe,Ae.innerHTML=N.options.months[ge-1];var Ie=Ve.getMonth()==ge-1&&Ve.getFullYear()==oe,he=Ve.getDate(),Ve=new Date(oe,ge,0,0,0),Re=Ve.getDate(),Ve=new Date(oe,ge-1,0,0,0),ut=Ve.getDay()+1,Ht=N.options.startingDay||0;ut=ut-Ht,Ge.innerHTML="";var Xe=document.createElement("tr");Xe.setAttribute("align","center"),Ge.appendChild(Xe);for(var bt=0;bt<7;bt++){var Ct=document.createElement("td");Ct.classList.add("jcalendar-weekday"),Ct.innerHTML=N.options.weekdays[Ht].substr(0,1),Xe.appendChild(Ct),Ht++,Ht>6&&(Ht=0)}for(var Ht=0,_e=0,qe=0;qe<6;qe++){var Xe=document.createElement("tr");Xe.setAttribute("align","center"),Xe.style.height="34px";for(var bt=0;bt<7;bt++){var Ct=document.createElement("td");if(Ct.classList.add("jcalendar-set-day"),Ht>=ut&&Ht<ut+Re){_e++,Ct.innerHTML=_e,_e==F&&Ct.classList.add("jcalendar-selected"),Ie&&he==_e&&(Ct.style.fontWeight="bold");var Je=H.now(new Date(oe,ge-1,_e),!0);if(N.options.validRange){if(!N.options.validRange[0]||Je>=N.options.validRange[0])var _t=!0;else var _t=!1;if(!N.options.validRange[1]||Je<=N.options.validRange[1])var Wt=!0;else var Wt=!1;_t&&Wt||Ct.classList.add("jcalendar-disabled")}}Xe.appendChild(Ct),Ht++}Ge.appendChild(Xe)}N.options.time?pt.style.display="":pt.style.display="none",be()},N.getMonths=function(){N.options.mode="months";var oe=N.options.months;N.options.value;var ge=new Date,F=parseInt(ge.getFullYear()),G=parseInt(ge.getMonth())+1,pe=N.date&&v.isNumeric(N.date[0])?N.date[0]:F,Ie=N.date&&v.isNumeric(N.date[1])?N.date[1]:G;Me.innerHTML=N.date[0],Ae.innerHTML=oe[Ie-1];var he=document.createElement("table");he.setAttribute("width","100%");for(var Re=null,Ve=0;Ve<12;Ve++){if(!(Ve%4)){var Re=document.createElement("tr");Re.setAttribute("align","center"),he.appendChild(Re)}var ut=document.createElement("td");if(ut.classList.add("jcalendar-set-month"),ut.setAttribute("data-value",Ve+1),ut.innerText=oe[Ve],N.options.validRange){var Xe=pe+"-"+v.two(Ve+1);if(!N.options.validRange[0]||Xe>=N.options.validRange[0].substr(0,7))var bt=!0;else var bt=!1;if(!N.options.validRange[1]||Xe<=N.options.validRange[1].substr(0,7))var Ct=!0;else var Ct=!1;bt&&Ct||ut.classList.add("jcalendar-disabled")}Ve+1==Ie&&ut.classList.add("jcalendar-selected"),F==pe&&Ve+1==G&&(ut.style.fontWeight="bold"),Re.appendChild(ut)}Ge.innerHTML='<tr><td colspan="7"></td></tr>',Ge.children[0].children[0].appendChild(he),be()},N.getYears=function(){N.options.mode="years";for(var oe=new Date,ge=oe.getFullYear(),F=N.date&&v.isNumeric(N.date[0])?N.date[0]:parseInt(oe.getFullYear()),G=[],pe=0;pe<25;pe++)G[pe]=parseInt(N.date[0])+(pe-12);var Ie=document.createElement("table");Ie.setAttribute("width","100%");for(var pe=0;pe<25;pe++){if(!(pe%5)){var he=document.createElement("tr");he.setAttribute("align","center"),Ie.appendChild(he)}var Re=document.createElement("td");Re.classList.add("jcalendar-set-year"),Re.innerText=G[pe],F==G[pe]&&Re.classList.add("jcalendar-selected"),ge==G[pe]&&(Re.style.fontWeight="bold"),he.appendChild(Re)}Ge.innerHTML='<tr><td colspan="7"></td></tr>',Ge.firstChild.firstChild.appendChild(Ie),be()},N.setLabel=function(oe,ge){return H.getDateString(oe,ge)},N.fromFormatted=function(oe,ge){return H.extractDateFromString(oe,ge)};var X=function(oe){var ge=v.findElement(oe.target,"jcalendar-container");if(ge){var F=oe.target.className;if(F=="jcalendar-prev")N.prev();else if(F=="jcalendar-next")N.next();else if(F=="jcalendar-month")N.getMonths();else if(F=="jcalendar-year")N.getYears();else if(F=="jcalendar-set-year")N.date[0]=oe.target.innerText,N.options.type=="year-month-picker"?N.getMonths():N.getDays();else if(oe.target.classList.contains("jcalendar-set-month")){var G=parseInt(oe.target.getAttribute("data-value"));N.options.type=="year-month-picker"?N.update(oe.target,G):(N.date[1]=G,N.getDays())}else F=="jcalendar-confirm"||F=="jcalendar-update"||F=="jcalendar-close"?N.close(null,!0):F=="jcalendar-backdrop"?N.close(!1,!1):F=="jcalendar-reset"?N.reset():oe.target.classList.contains("jcalendar-set-day")&&oe.target.innerText&&N.update(oe.target)}else N.close(!1,!1)},Ee=function(oe){if(oe.target.value&&oe.target.value.length>3){var ge=H.extractDateFromString(oe.target.value,N.options.format);ge&&N.setValue(ge)}},be=function(){var oe=J.querySelector(".jcalendar-selected");oe&&oe.classList.contains("jcalendar-disabled")?(It.setAttribute("disabled","disabled"),Ce.setAttribute("disabled","disabled"),He.setAttribute("disabled","disabled")):(It.removeAttribute("disabled"),Ce.removeAttribute("disabled"),He.removeAttribute("disabled")),typeof N.options.onupdate=="function"&&N.options.onupdate(W,N.getValue())},J=null,z=null,ne=null,te=null,de=null,Me=null,Ae=null,De=null,Ge=null,ct=null,pt=null,Dt=null,It=null,Ce=null,He=null,it=function(){W.tagName=="INPUT"&&W.value&&(D.value=W.value),z=document.createElement("div"),z.className="jcalendar-reset",ne=document.createElement("div"),ne.className="jcalendar-confirm",ct=document.createElement("div"),ct.className="jcalendar-controls",ct.style.borderBottom="1px solid #ddd",ct.appendChild(z),ct.appendChild(ne),te=document.createElement("div"),te.className="jcalendar-container",de=document.createElement("div"),de.className="jcalendar-content",te.appendChild(de),W.tagName=="DIV"?(J=W,J.classList.add("jcalendar-inline")):(de.appendChild(ct),J=document.createElement("div"),J.className="jcalendar"),J.classList.add("jcalendar-container"),J.appendChild(te);var oe=document.createElement("div");oe.className="jcalendar-table",de.appendChild(oe);var ge=document.createElement("td");ge.setAttribute("colspan","2"),ge.className="jcalendar-prev",Me=document.createElement("span"),Me.className="jcalendar-year",Ae=document.createElement("span"),Ae.className="jcalendar-month";var F=document.createElement("td");F.className="jcalendar-header",F.setAttribute("colspan","3"),F.appendChild(Ae),F.appendChild(Me);var G=document.createElement("td");G.setAttribute("colspan","2"),G.className="jcalendar-next";var pe=document.createElement("thead"),Ie=document.createElement("tr");Ie.appendChild(ge),Ie.appendChild(F),Ie.appendChild(G),pe.appendChild(Ie),De=document.createElement("table"),Ge=document.createElement("tbody"),De.setAttribute("cellpadding","0"),De.setAttribute("cellspacing","0"),De.appendChild(pe),De.appendChild(Ge),oe.appendChild(De),Ce=document.createElement("select"),Ce.className="jcalendar-select",Ce.onchange=function(){N.date[3]=this.value,typeof N.options.onupdate=="function"&&N.options.onupdate(W,N.getValue())};for(var he=0;he<24;he++){var Re=document.createElement("option");Re.value=he,Re.innerHTML=v.two(he),Ce.appendChild(Re)}He=document.createElement("select"),He.className="jcalendar-select",He.onchange=function(){N.date[4]=this.value,typeof N.options.onupdate=="function"&&N.options.onupdate(W,N.getValue())};for(var he=0;he<60;he++){var Re=document.createElement("option");Re.value=he,Re.innerHTML=v.two(he),He.appendChild(Re)}var Ve=document.createElement("div");Ve.className="jcalendar-controls",pt=document.createElement("div"),pt.className="jcalendar-time",pt.style.maxWidth="140px",pt.appendChild(Ce),pt.appendChild(He),It=document.createElement("button"),It.setAttribute("type","button"),It.className="jcalendar-update",Dt=document.createElement("div"),Dt.style.flexGrow="10",Dt.appendChild(It),Ve.appendChild(pt),W.tagName=="INPUT"&&Ve.appendChild(Dt),de.appendChild(Ve);var ut=document.createElement("div");ut.className="jcalendar-backdrop",J.appendChild(ut),W.addEventListener("keyup",Ee),J.addEventListener("swipeleft",function(Xe){k.slideLeft(De,0,function(){N.next(),k.slideRight(De,1)}),Xe.preventDefault(),Xe.stopPropagation()}),J.addEventListener("swiperight",function(Xe){k.slideRight(De,0,function(){N.prev(),k.slideLeft(De,1)}),Xe.preventDefault(),Xe.stopPropagation()}),"ontouchend"in document.documentElement?(J.addEventListener("touchend",X),W.addEventListener("touchend",N.open)):(J.addEventListener("mouseup",X),W.addEventListener("mouseup",N.open)),H.hasEvents||(H.hasEvents=!0,document.addEventListener("keydown",H.keydown)),N.setOptions(D),W.tagName=="INPUT"?(W.parentNode.insertBefore(J,W.nextSibling),W.setAttribute("autocomplete","off"),W.classList.add("jcalendar-input"),W.value=N.setLabel(N.getValue(),N.options)):(N.getDays(),N.options.time&&(Ce.value=N.date[3],He.value=N.date[4])),N.options.opened==!0&&N.open(),N.options.controls==!1&&te.classList.add("jcalendar-hide-controls"),W.change=N.setValue,W.val=function(Xe){if(Xe===void 0)return N.getValue();N.setValue(Xe)},W.calendar=J.calendar=N};return it(),N};return H.keydown=function(W){var D=null;(D=H.current)&&(W.which==13?D.close(!1,!0):W.which==27&&D.close(!1,!1))},H.prettify=function(W,D){if(!D)var D={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};W.indexOf("GMT")===-1&&W.indexOf("Z")===-1&&(W+=" GMT");var N=new Date,X=new Date(W),Ee=parseInt((N-X)/1e3/60);if(String.prototype.format=function(J){return this.replace("{0}",J)},Ee==0)var be=D.justNow;else if(Ee<90)var be=D.xMinutesAgo.format(Ee);else if(Ee<1440)var be=D.xHoursAgo.format(Math.round(Ee/60));else if(Ee<20160)var be=D.xDaysAgo.format(Math.round(Ee/1440));else if(Ee<43200)var be=D.xWeeksAgo.format(Math.round(Ee/10080));else if(Ee<1036800)var be=D.xMonthsAgo.format(Math.round(Ee/43200));else var be=D.xYearsAgo.format(Math.round(Ee/525600));return be},H.prettifyAll=function(){for(var W=document.querySelectorAll(".prettydate"),D=0;D<W.length;D++)W[D].getAttribute("data-date")?W[D].innerHTML=H.prettify(W[D].getAttribute("data-date")):W[D].innerHTML&&(W[D].setAttribute("title",W[D].innerHTML),W[D].setAttribute("data-date",W[D].innerHTML),W[D].innerHTML=H.prettify(W[D].innerHTML))},H.now=P.now,H.toArray=P.toArray,H.dateToNum=P.dateToNum,H.numToDate=P.numToDate,H.weekdays=P.weekdays,H.months=P.months,H.weekdaysShort=P.weekdaysShort,H.monthsShort=P.monthsShort,H.extractDateFromString=j.extractDateFromString,H.getDateString=j.getDateString,H}var Y=q();function ae(){var H={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},W=function(D){return H[D]?H[D]:H.material};return W.get=function(D){return H[D]?H[D]:H},W.set=function(D,N){H[D]=N},W}var me=ae();function Q(H,W){var D={};D.options={};var N={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var X in N)W&&W.hasOwnProperty(X)?D.options[X]=W[X]:D.options[X]=N[X];H.classList.add("jtabs");var Ee=null,be=null,J=null;const z=function(Ae){D.options.animation&&setTimeout(function(){let De=D.headers.children[Ae].getBoundingClientRect();D.options.palette==="modern"?(J.style.width=De.width-4+"px",J.style.left=D.headers.children[Ae].offsetLeft+2+"px"):(J.style.width=De.width+"px",J.style.left=D.headers.children[Ae].offsetLeft+"px"),D.options.position==="bottom"?J.style.top="0px":J.style.bottom="0px"},50)};var ne=function(Ae){typeof D.headers.scrollTo=="function"?D.headers.scrollTo({left:Ae,behavior:"smooth"}):D.headers.scrollLeft=Ae,Ae<=1?Ee.classList.add("disabled"):Ee.classList.remove("disabled"),Ae>=D.headers.scrollWidth-D.headers.offsetWidth?be.classList.add("disabled"):be.classList.remove("disabled"),D.headers.scrollWidth<=D.headers.offsetWidth?(Ee.style.display="none",be.style.display="none"):(Ee.style.display="",be.style.display="")};if(D.setBorder=z,D.open=function(Ae){if(Array.from(D.content.children),!!D.content.children[Ae]){for(var De=null,Ge=0;Ge<D.headers.children.length;Ge++)D.headers.children[Ge].classList.contains("jtabs-selected")&&(De=Ge),D.headers.children[Ge].classList.remove("jtabs-selected"),D.headers.children[Ge].removeAttribute("aria-selected"),D.content.children[Ge]&&D.content.children[Ge].classList.remove("jtabs-selected");if(D.headers.children[Ae].classList.add("jtabs-selected"),D.headers.children[Ae].setAttribute("aria-selected","true"),D.content.children[Ae]&&D.content.children[Ae].classList.add("jtabs-selected"),De!=Ae&&typeof D.options.onchange=="function"&&D.content.children[Ae]&&D.options.onchange(H,D,Ae,D.headers.children[Ae],D.content.children[Ae]),D.options.hideHeaders==!0&&D.headers.children.length<3&&D.options.allowCreate==!1)D.headers.parentNode.style.display="none";else{D.headers.parentNode.style.display="";var ct=D.headers.children[Ae].offsetLeft,pt=ct+D.headers.children[Ae].offsetWidth,Dt=D.headers.scrollLeft,It=Dt+D.headers.offsetWidth;Dt<=ct&&It>=pt||ne(ct-1),z(Ae)}}},D.selectIndex=function(Ae){var De=Array.prototype.indexOf.call(D.headers.children,Ae);return De>=0&&D.open(De),De},D.rename=function(Ae,De){De||(De=prompt("New title",D.headers.children[Ae].innerText)),D.headers.children[Ae].innerText=De,z(D.getActive())},D.create=function(Ae,De){if(typeof D.options.onbeforecreate=="function"){var Ge=D.options.onbeforecreate(H,Ae);if(Ge===!1)return!1;Ae=Ge}var ct=D.appendElement(Ae);return typeof D.options.oncreate=="function"&&D.options.oncreate(H,ct),z(D.getActive()),ct},D.remove=function(Ae){return D.deleteElement(Ae)},D.nextNumber=function(){for(var Ae=0,De=0;De<D.headers.children.length;De++){var Ge=D.headers.children[De].innerText.match(/[0-9].*/);Ge>Ae&&(Ae=parseInt(Ge))}return Ae?Ae++:Ae=1,Ae},D.deleteElement=function(Ae){let De=D.getActive();if(D.headers.children[Ae])D.headers.removeChild(D.headers.children[Ae]),D.content.removeChild(D.content.children[Ae]);else return!1;if(De===Ae)D.open(0);else{let Ge=D.getActive()||0;z(Ge)}typeof D.options.ondelete=="function"&&D.options.ondelete(H,Ae)},D.appendElement=function(Ae,De,Ge,ct){if(!Ae)var Ae=prompt("Title?","");if(Ae){let It=v.guid(),Ce=v.guid();var pt=document.createElement("div");pt.setAttribute("id",Ce),pt.setAttribute("role","tabpanel"),pt.setAttribute("aria-labelledby",It);var Dt=document.createElement("div");if(Dt.setAttribute("id",It),Dt.setAttribute("role","tab"),Dt.setAttribute("aria-controls",Ce),Dt.innerHTML=Ae,Dt.content=pt,typeof ct>"u")D.content.appendChild(pt),D.headers.insertBefore(Dt,D.headers.lastChild);else{let He=D.content.children[ct];He?D.content.insertBefore(pt,He):D.content.appendChild(pt),He=D.headers.children[ct]||D.headers.lastChild,D.headers.insertBefore(Dt,He)}return D.options.allowChangePosition&&Dt.setAttribute("draggable","true"),Ge!==!1&&D.selectIndex(Dt),typeof De=="function"&&De(pt,Dt),pt}},D.getActive=function(){for(var Ae=0;Ae<D.headers.children.length;Ae++)if(D.headers.children[Ae].classList.contains("jtabs-selected"))return Ae;return!1},D.updateContent=function(Ae,De){if(typeof De!="string")var Ge=De;else{var Ge=document.createElement("div");Ge.innerHTML=De}D.content.children[Ae].classList.contains("jtabs-selected")&&De.classList.add("jtabs-selected"),D.content.replaceChild(De,D.content.children[Ae]),z()},D.updatePosition=function(Ae,De,Ge,ct){if(Ae>De?D.content.insertBefore(D.content.children[Ae],D.content.children[De]):D.content.insertBefore(D.content.children[Ae],D.content.children[De].nextSibling),ct!==!1)D.open(De);else{const pt=D.getActive();De<pt&&D.setBorder(pt)}!Ge&&typeof D.options.onchangeposition=="function"&&D.options.onchangeposition(D.headers,Ae,De)},D.move=function(Ae,De,Ge,ct){Ae>De?D.headers.insertBefore(D.headers.children[Ae],D.headers.children[De]):D.headers.insertBefore(D.headers.children[Ae],D.headers.children[De].nextSibling),D.updatePosition(Ae,De,Ge,ct)},D.setBorder=z,D.init=function(){H.innerHTML="",D.headers=document.createElement("div"),D.content=document.createElement("div"),D.headers.classList.add("jtabs-headers"),D.headers.setAttribute("role","tablist"),D.content.classList.add("jtabs-content"),D.content.setAttribute("role","region"),D.content.setAttribute("aria-label","Tab Panels"),D.options.palette?H.classList.add("jtabs-modern"):H.classList.remove("jtabs-modern"),D.options.padding&&(D.content.style.padding=parseInt(D.options.padding)+"px");var Ae=document.createElement("div");Ae.className="jtabs-headers-container",Ae.appendChild(D.headers),D.options.maxWidth&&(Ae.style.maxWidth=parseInt(D.options.maxWidth)+"px");var De=document.createElement("div");if(De.className="jtabs-controls",De.setAttribute("draggable","false"),Ae.appendChild(De),D.options.position=="bottom"?(H.appendChild(D.content),H.appendChild(Ae)):(H.appendChild(Ae),H.appendChild(D.content)),D.options.allowCreate==!0){var Ge=document.createElement("div");Ge.className="jtabs-add",Ge.onclick=function(){D.create()},De.appendChild(Ge)}Ee=document.createElement("div"),Ee.className="jtabs-prev",Ee.onclick=function(){ne(D.headers.scrollLeft-D.headers.offsetWidth)},De.appendChild(Ee),be=document.createElement("div"),be.className="jtabs-next",be.onclick=function(){ne(D.headers.scrollLeft+D.headers.offsetWidth)},De.appendChild(be);for(var ct=0;ct<D.options.data.length;ct++){if(D.options.data[ct].titleElement)var pt=D.options.data[ct].titleElement;else var pt=document.createElement("div");if(D.options.data[ct].icon){var Dt=document.createElement("div"),It=document.createElement("i");It.classList.add("material-icons"),It.innerHTML=D.options.data[ct].icon,Dt.appendChild(It),pt.appendChild(Dt)}if(D.options.data[ct].title){var Ce=document.createTextNode(D.options.data[ct].title);pt.appendChild(Ce)}if(D.options.data[ct].width&&(pt.style.width=D.options.data[ct].width),D.options.data[ct].contentElement)var He=D.options.data[ct].contentElement;else{var He=document.createElement("div");He.innerHTML=D.options.data[ct].content}D.headers.appendChild(pt),D.content.appendChild(He)}J=document.createElement("div"),J.className="jtabs-border",D.headers.appendChild(J),D.options.animation&&H.classList.add("jtabs-animation"),D.headers.addEventListener("click",function(it){if(it.target.parentNode.classList.contains("jtabs-headers"))var oe=it.target;else if(it.target.tagName=="I")var oe=it.target.parentNode.parentNode;else var oe=it.target.parentNode;var ge=D.selectIndex(oe);typeof D.options.onclick=="function"&&D.options.onclick(H,D,ge,D.headers.children[ge],D.content.children[ge])}),D.headers.addEventListener("contextmenu",function(it){D.selectIndex(it.target)}),D.headers.children.length&&D.open(0),ne(0),D.options.allowChangePosition==!0&&w(D.headers,{direction:1,ondrop:function(it,oe,ge){D.updatePosition(oe,ge)}}),typeof D.options.onload=="function"&&D.options.onload(H,D)},H.children[0]&&H.children[0].children.length)for(var te=0;te<H.children[0].children.length;te++){var de=D.options.data&&D.options.data[te]?D.options.data[te]:{};H.children[1]&&H.children[1].children[te]?(de.titleElement=H.children[0].children[te],de.contentElement=H.children[1].children[te]):de.contentElement=H.children[0].children[te],D.options.data[te]=de}var Me=!1;if(D.options.data)for(var te=0;te<D.options.data.length;te++)D.options.data[te].url&&(O({url:D.options.data[te].url,type:"GET",dataType:"text/html",index:te,success:function(De){D.options.data[this.index].content=De},complete:function(){D.init()}}),Me=!0);return Me||D.init(),H.tabs=D,D}function le(H,W){if(H.color)return H.color.setOptions(W,!0);var D={type:"color"};D.options={};var N=null,X=null,Ee=null,be=null,J=null,z=null,ne=null;D.setOptions=function(F,G){var pe={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};F||(F={}),F&&!F.palette&&(F.palette=me());for(var Ie in pe)F&&F.hasOwnProperty(Ie)?D.options[Ie]=F[Ie]:(typeof D.options[Ie]>"u"||G===!0)&&(D.options[Ie]=pe[Ie]);return be&&(be.innerHTML=D.options.resetLabel),J&&(J.innerHTML=D.options.doneLabel),D.options.palette&&ne&&ne.updateContent(0,De()),typeof D.options.value=="string"&&(H.value=D.options.value,H.tagName==="INPUT"&&(H.style.color=H.value,H.style.backgroundColor=H.value)),D.options.placeholder?H.setAttribute("placeholder",D.options.placeholder):H.getAttribute("placeholder")&&H.removeAttribute("placeholder"),D},D.select=function(F){var G=N.querySelector(".jcolor-selected");G&&G.classList.remove("jcolor-selected"),D.values[F]&&D.values[F].classList.add("jcolor-selected"),D.options.value=F},D.open=function(){if(!N.classList.contains("jcolor-focus")){b(D,!0),N.classList.add("jcolor-focus"),D.options.value&&D.select(D.options.value),Ee.style.marginTop="",Ee.style.marginLeft="";var F=Ee.getBoundingClientRect(),G=v.getWindowWidth(),pe=v.getWindowHeight();if(G<800||D.options.fullscreen==!0?(Ee.classList.add("jcolor-fullscreen"),k.slideBottom(Ee,1),X.style.display="block"):(Ee.classList.contains("jcolor-fullscreen")&&(Ee.classList.remove("jcolor-fullscreen"),X.style.display=""),D.options.position?Ee.style.position="fixed":Ee.style.position="",F.left+F.width>G&&(Ee.style.marginLeft=-1*(F.left+F.width-(G-20))+"px"),F.top+F.height>pe&&(Ee.style.marginTop=-1*(F.top+F.height-(pe-20))+"px")),typeof D.options.onopen=="function"&&D.options.onopen(H,D),ne.setBorder(ne.getActive()),D.options.value){var Ie=Ae(D.options.value);He.forEach(function(he,Re){he.value=Ie[Re],he.dispatchEvent(new Event("input"))})}}},D.close=function(F){return N.classList.contains("jcolor-focus")&&(N.classList.remove("jcolor-focus"),X.style.display="",!F&&typeof D.options.onclose=="function"&&D.options.onclose(H,D),b(D,!1)),D.options.value},D.setValue=function(F){F||(F=""),F!=D.options.value&&(D.options.value=F,Ce=F,D.select(F),typeof D.options.onchange=="function"&&D.options.onchange(H,F,D),H.value!=D.options.value&&(H.value=D.options.value,H.tagName==="INPUT"&&(H.style.color=H.value,H.style.backgroundColor=H.value),typeof H.oninput=="function"&&H.oninput({type:"input",target:H,value:H.value})),D.options.closeOnChange==!0&&D.close())},D.getValue=function(){return D.options.value};var te=function(F){var G=F.toString(16);return G.length===1?"0"+G:G},de=function(F,G,pe){return"#"+te(F)+te(G)+te(pe)},Me=function(F){return parseInt("0x"+F)},Ae=function(F){return[Me(F.substr(1,2)),Me(F.substr(3,2)),Me(F.substr(5,2))]},De=function(){var F=document.createElement("div");F.className="jcolor-grid",D.values=[];var G=document.createElement("table");G.setAttribute("cellpadding","7"),G.setAttribute("cellspacing","0");for(var pe=0;pe<D.options.palette.length;pe++){for(var Ie=document.createElement("tr"),he=0;he<D.options.palette[pe].length;he++){var Re=document.createElement("td"),Ve=D.options.palette[pe][he];Ve.length<7&&Ve.substr(0,1)!=="#"&&(Ve="#"+Ve),Re.style.backgroundColor=Ve,Re.setAttribute("data-value",Ve),Re.innerHTML="",Ie.appendChild(Re),D.options.value==Ve&&Re.classList.add("jcolor-selected"),D.values[Ve]=Re}G.appendChild(Ie)}return F.appendChild(G),F},Ge=document.createElement("canvas");Ge.width=200,Ge.height=160;var ct=Ge.getContext("2d"),pt=function(){var F=z.firstChild.getBoundingClientRect();Ge.width=F.width-14,Dt()},Dt=function(){var F=ct.createLinearGradient(0,0,Ge.width,0);F.addColorStop(0,"rgb(255,0,0)"),F.addColorStop(.15,"rgb(255,0,255)"),F.addColorStop(.33,"rgb(0,0,255)"),F.addColorStop(.49,"rgb(0,255,255)"),F.addColorStop(.67,"rgb(0,255,0)"),F.addColorStop(.84,"rgb(255,255,0)"),F.addColorStop(1,"rgb(255,0,0)"),ct.fillStyle=F,ct.fillRect(0,0,Ge.width,Ge.height),F=ct.createLinearGradient(0,0,0,Ge.height),F.addColorStop(0,"rgba(255,255,255,1)"),F.addColorStop(.5,"rgba(255,255,255,0)"),F.addColorStop(.5,"rgba(0,0,0,0)"),F.addColorStop(1,"rgba(0,0,0,1)"),ct.fillStyle=F,ct.fillRect(0,0,Ge.width,Ge.height)},It=function(){var F=document.createElement("div");F.className="jcolor-hsl";var G=document.createElement("div");G.className="jcolor-point";var pe=document.createElement("div");pe.appendChild(Ge),pe.appendChild(G),F.appendChild(pe);var Ie=function(he,Re,Ve){if(he===1){var ut=F.getBoundingClientRect(),Xe=Re-ut.left,bt=Ve-ut.top;Xe<0&&(Xe=0),bt<0&&(bt=0),Xe>ut.width&&(Xe=ut.width),bt>ut.height&&(bt=ut.height),G.style.left=Xe+"px",G.style.top=bt+"px";var Ct=ct.getImageData(Xe,bt,1,1).data;Ce=de(Ct[0],Ct[1],Ct[2])}};return F.addEventListener("mousedown",function(he){Ie(he.buttons,he.clientX,he.clientY)}),F.addEventListener("mousemove",function(he){Ie(he.buttons,he.clientX,he.clientY)}),F.addEventListener("touchmove",function(he){Ie(1,he.changedTouches[0].clientX,he.changedTouches[0].clientY)}),F},Ce="",He=[],it=function(){if(Ce!=="")for(var F=0;F<He.length;F++){var G=Ae(Ce);G[F]=0;var pe="linear-gradient(90deg, rgb(";pe+=G.join(", "),pe+="), rgb(",G[F]=255,pe+=G.join(", "),pe+="))",He[F].style.backgroundImage=pe}},oe=function(){var F=document.createElement("div");F.className="jcolor-sliders";var G=document.createElement("div"),pe=function(Ve){var ut=document.createElement("div");ut.className="jcolor-sliders-input-container";var Xe=document.createElement("label");Xe.innerText=Ve;var bt=document.createElement("div");bt.className="jcolor-sliders-input-subcontainer";var Ct=document.createElement("input");Ct.type="range",Ct.min=0,Ct.max=255,Ct.value=0,Ct.setAttribute("aria-label","Color value"),Ct.setAttribute("aria-valuemin","0"),Ct.setAttribute("aria-valuemax","255"),Ct.setAttribute("aria-valuenow","0"),ut.appendChild(Xe),bt.appendChild(Ct);var Ht=document.createElement("div");return Ht.innerText=Ct.value,Ct.addEventListener("input",function(){Ht.innerText=Ct.value}),bt.appendChild(Ht),ut.appendChild(bt),G.appendChild(ut),Ct};He=[pe("Red"),pe("Green"),pe("Blue")],F.appendChild(G);var Ie=document.createElement("div");Ie.className="jcolor-sliders-final-color";var he=document.createElement("div");he.style.visibility="hidden",he.innerText="a",Ie.appendChild(he);var Re=function(){var Ve=de(parseInt(He[0].value),parseInt(He[1].value),parseInt(He[2].value));he.innerText=Ve,he.style.color=Ve,he.style.removeProperty("visibility"),Ce=Ve};return He.forEach(function(Ve){Ve.addEventListener("input",function(){Re(),it()})}),F.appendChild(Ie),F},ge=function(){D.setOptions(W),H.tagName=="INPUT"&&(H.classList.add("jcolor-input"),H.readOnly=!0),N=document.createElement("div"),N.className="jcolor",X=document.createElement("div"),X.className="jcolor-backdrop",N.appendChild(X),Ee=document.createElement("div"),Ee.className="jcolor-content";var F=document.createElement("div");F.className="jcolor-controls",Ee.appendChild(F),be=document.createElement("div"),be.className="jcolor-reset",be.innerHTML=D.options.resetLabel,F.appendChild(be),J=document.createElement("div"),J.className="jcolor-close",J.innerHTML=D.options.doneLabel,F.appendChild(J),z=document.createElement("div"),Ee.appendChild(z),ne=Q(z,{animation:!0,data:[{title:"Grid",contentElement:De()},{title:"Spectrum",contentElement:It()},{title:"Sliders",contentElement:oe()}],onchange:function(G,pe,Ie){if(Ie===1)pt();else{var he=Ce!==""?Ce:D.getValue();if(Ie===2&&he){var Re=Ae(he);He.forEach(function(Ve,ut){Ve.value=Re[ut],Ve.dispatchEvent(new Event("input"))})}}},palette:"modern"}),N.appendChild(Ee),H.tagName=="INPUT"?H.parentNode.insertBefore(N,H.nextSibling):H.appendChild(N),N.addEventListener("click",function(G){if(G.target.tagName=="TD"){var pe=G.target.getAttribute("data-value");pe&&D.setValue(pe)}else G.target.classList.contains("jcolor-reset")?(D.setValue(""),D.close()):G.target.classList.contains("jcolor-close")?(ne.getActive()>0&&D.setValue(Ce),D.close()):G.target.classList.contains("jcolor-backdrop")?D.close():D.open()}),H.addEventListener("mouseup",function(G){D.open()}),window.addEventListener("resize",function(){N.classList.contains("jcolor-focus")&&ne.getActive()==1&&pt()}),D.options.opened==!0&&D.open(),H.change=D.setValue,H.val=function(G){if(G===void 0)return D.getValue();D.setValue(G)},H.color=D,N.color=D};return D.toHex=function(F){var G=function(pe){return("0"+parseInt(pe).toString(16)).slice(-2)};if(F)return/^#[0-9A-F]{6}$/i.test(F)?F:(F=F.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),F&&F.length?"#"+G(F[1])+G(F[2])+G(F[3]):"")},ge(),D}function Se(){var H=function(W,D){var N={type:"contextmenu"};N.options={};var X={items:null,onclick:null};for(var Ee in X)D&&D.hasOwnProperty(Ee)?N.options[Ee]=D[Ee]:N.options[Ee]=X[Ee];W.classList.add("jcontextmenu"),N.open=function(z,ne){if(ne&&(N.options.items=ne,N.create(ne)),H.current&&H.current.close(),b(N,!0),W.classList.add("jcontextmenu-focus"),H.current=N,N.options.items&&N.options.items.length>0||W.children.length){if(z.target)if(z.changedTouches&&z.changedTouches[0])te=z.changedTouches[0].clientX,de=z.changedTouches[0].clientY;else var te=z.clientX,de=z.clientY;else var te=z.x,de=z.y;var Me=W.getBoundingClientRect();if(window.innerHeight<de+Me.height){var Ae=de-Me.height;Ae<0&&(Ae=0),W.style.top=Ae+"px"}else W.style.top=de+"px";window.innerWidth<te+Me.width?te-Me.width>0?W.style.left=te-Me.width+"px":W.style.left="10px":W.style.left=te+"px"}},N.isOpened=function(){return!!W.classList.contains("jcontextmenu-focus")},N.close=function(){W.classList.contains("jcontextmenu-focus")&&W.classList.remove("jcontextmenu-focus"),b(N,!1)},N.create=function(z){W.innerHTML="";var ne=be();W.appendChild(ne);for(var te=0;te<z.length;te++){var de=J(z[te]);W.appendChild(de)}};function be(){var z=document.createElement("div");z.classList.add("header"),z.addEventListener("click",function(de){de.preventDefault(),de.stopPropagation()});var ne=document.createElement("a");ne.classList.add("title"),ne.innerHTML=u.translate("Menu"),z.appendChild(ne);var te=document.createElement("a");return te.classList.add("close"),te.innerHTML=u.translate("close"),te.addEventListener("click",function(de){N.close()}),z.appendChild(te),z}function J(z){if(z.type&&(z.type=="line"||z.type=="divisor"))var ne=document.createElement("hr");else{var ne=document.createElement("div"),te=document.createElement("a");if(te.innerHTML=z.title,z.tooltip&&ne.setAttribute("title",z.tooltip),z.icon&&ne.setAttribute("data-icon",z.icon),z.id&&(ne.id=z.id),z.disabled?ne.className="jcontextmenu-disabled":z.onclick&&(ne.method=z.onclick,ne.addEventListener("mousedown",function(Dt){Dt.preventDefault()}),ne.addEventListener("mouseup",function(Dt){this.method(this,Dt)})),ne.appendChild(te),z.submenu){var de=document.createElement("span");de.innerHTML="&#9658;",ne.appendChild(de),ne.classList.add("jcontexthassubmenu");var Me=document.createElement("div");Me.classList.add("jcontextmenu"),Me.setAttribute("tabindex","900");for(var Ae=z.submenu,De=0;De<Ae.length;De++){var Ge=J(Ae[De]);Me.appendChild(Ge)}ne.appendChild(Me)}else if(z.shortcut){var ct=document.createElement("span");ct.innerHTML=z.shortcut,ne.appendChild(ct)}}return ne}return typeof N.options.onclick=="function"&&W.addEventListener("click",function(z){N.options.onclick(N,z)}),N.options.items&&N.create(N.options.items),window.addEventListener("mousewheel",function(){N.close()}),W.contextmenu=N,N};return H}var ve=Se();function fe(){var H=function(W,D){if(W.dropdown)return W.dropdown.setOptions(D,!0);var N={type:"dropdown"};N.options={};var X=function(oe,ge){oe&&oe.length&&(N.options.sortResults!==!1&&(typeof N.options.sortResults=="function"?oe.sort(N.options.sortResults):oe.sort(Ee)),N.setData(oe)),typeof N.options.onload=="function"&&N.options.onload(W,N,oe,ge),ge&&J(ge),ge==null&&(N.options.value=""),W.value=N.options.value,N.options.opened==!0&&N.open()},Ee=function(oe,ge){var F,G;return typeof oe=="string"?F=oe:oe.text?F=oe.text:oe.name&&(F=oe.name),typeof ge=="string"?G=ge:ge.text?G=ge.text:ge.name&&(G=ge.name),typeof F=="string"||typeof G=="string"?(typeof F!="string"&&(F=""+F),typeof G!="string"&&(G=""+G),F.localeCompare(G)):F-G},be=function(){N.value={};for(var oe=0;oe<N.items.length;oe++)N.items[oe].selected==!0&&(N.items[oe].element&&N.items[oe].element.classList.remove("jdropdown-selected"),N.items[oe].selected=null);N.options.value="",W.value=""},J=function(oe){if(be(),oe!==null)if(!oe)typeof N.value[""]<"u"&&(N.value[""]="");else{Array.isArray(oe)||(oe=(""+oe).split(";"));for(var ge=0;ge<oe.length;ge++)N.value[oe[ge]]=""}for(var ge=0;ge<N.items.length;ge++)typeof N.value[z(ge)]<"u"&&(N.items[ge].element&&N.items[ge].element.classList.add("jdropdown-selected"),N.items[ge].selected=!0,N.value[z(ge)]=ne(ge));N.options.value=Object.keys(N.value).join(";"),N.header.value=N.getText()},z=function(oe,ge){if(N.options.format)var F="id";else var F="value";return N.items[oe]?ge!==void 0?N.items[oe].data[F]=ge:N.items[oe].data[F]:""},ne=function(oe,ge){if(N.options.format)var F="name";else var F="text";return N.items[oe]?ge!==void 0?N.items[oe].data[F]=ge:N.items[oe].data[F]:""},te=function(){return Object.keys(N.value)},de=function(){for(var oe=[],ge=Object.keys(N.value),F=0;F<ge.length;F++)oe.push(N.value[ge[F]]);return oe};N.setOptions=function(oe,ge){oe||(oe={});var F={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,onsearch:null,onbeforesearch:null,sortResults:!1,autofocus:!1,prompt:null,allowEmpty:!0};for(var G in F)oe&&oe.hasOwnProperty(G)?N.options[G]=oe[G]:(typeof N.options[G]>"u"||ge===!0)&&(N.options[G]=F[G]);return(N.options.remoteSearch==!0||N.options.type==="searchbar")&&(N.options.autocomplete=!0),N.options.newOptions==!0?N.header.classList.add("jdropdown-add"):N.header.classList.remove("jdropdown-add"),N.options.autocomplete==!0?N.header.removeAttribute("readonly"):N.header.setAttribute("readonly","readonly"),N.options.placeholder?N.header.setAttribute("placeholder",N.options.placeholder):N.header.removeAttribute("placeholder"),W.classList.remove("jdropdown-searchbar"),W.classList.remove("jdropdown-picker"),W.classList.remove("jdropdown-list"),N.options.type=="searchbar"?W.classList.add("jdropdown-searchbar"):N.options.type=="list"?W.classList.add("jdropdown-list"):N.options.type=="picker"?W.classList.add("jdropdown-picker"):v.getWindowWidth()<800?N.options.autocomplete?(W.classList.add("jdropdown-searchbar"),N.options.type="searchbar"):(W.classList.add("jdropdown-picker"),N.options.type="picker"):(N.options.width?(W.style.width=N.options.width,W.style.minWidth=N.options.width):(W.style.removeProperty("width"),W.style.removeProperty("min-width")),W.classList.add("jdropdown-default"),N.options.type="default"),N.options.type=="searchbar"?Me.appendChild(Ge):Ae.insertBefore(Ge,Ae.firstChild),N.options.url&&!oe.data?O({url:N.options.url,method:"GET",dataType:"json",success:function(pe){pe&&X(pe,N.options.value)}}):X(N.options.data,N.options.value),N};var Me=null,Ae=null,De=null,Ge=null,ct=null,pt=null,Dt=null,It=function(){if(D||(D={}),W.tagName=="SELECT"){var oe=H.extractFromDom(W,D);W=oe.el,D=oe.options}!D.placeholder&&W.getAttribute("placeholder")&&(D.placeholder=W.getAttribute("placeholder")),N.value={},N.items=[],N.groups=[],N.search="",N.results=null,W.classList.add("jdropdown"),Me=document.createElement("div"),Me.className="jdropdown-container-header",N.header=document.createElement("input"),N.header.className="jdropdown-header jss_object",N.header.type="text",N.header.setAttribute("autocomplete","off"),N.header.onfocus=function(){typeof N.options.onfocus=="function"&&N.options.onfocus(W)},N.header.onblur=function(){typeof N.options.onblur=="function"&&N.options.onblur(W)},N.header.onkeyup=function(ge){N.options.autocomplete==!0&&!Dt?(N.search!=N.header.value.trim()&&(Dt=setTimeout(function(){N.find(N.header.value.trim()),Dt=null},400)),W.classList.contains("jdropdown-focus")||N.open()):N.options.autocomplete||N.next(ge.key)},H.hasEvents||(H.hasEvents=!0,document.addEventListener("keydown",H.keydown)),Ae=document.createElement("div"),Ae.className="jdropdown-container",De=document.createElement("div"),De.className="jdropdown-content",Ge=document.createElement("div"),Ge.className="jdropdown-close",Ge.textContent="Done",ct=document.createElement("div"),ct.className="jdropdown-reset",ct.textContent="x",ct.onclick=function(){N.reset(),N.close()},pt=document.createElement("div"),pt.className="jdropdown-backdrop",Me.appendChild(N.header),Ae.appendChild(De),W.appendChild(Me),W.appendChild(Ae),W.appendChild(pt),N.setOptions(D),"ontouchsend"in document.documentElement?W.addEventListener("touchsend",H.mouseup):W.addEventListener("mouseup",H.mouseup),N.options.lazyLoading==!0&&A(De,{loadUp:N.loadUp,loadDown:N.loadDown}),De.onwheel=function(ge){ge.stopPropagation()},W.change=N.setValue,W.val=function(ge){if(ge===void 0)return N.getValue(!!N.options.multiple);N.setValue(ge)},W.dropdown=N};N.getUrl=function(){return N.options.url},N.setUrl=function(oe,ge){N.options.url=oe,O({url:N.options.url,method:"GET",dataType:"json",success:function(F){N.setData(F),typeof ge=="function"&&ge(N)}})},N.setId=function(oe,ge){if(N.options.format)var F="id";else var F="value";typeof oe=="object"?oe[F]=ge:N.items[oe].data[F]=ge};const Ce=function(oe,ge){if(!oe){let pe=N.options.autocomplete==!0?N.header.value:"";if(oe=prompt(u.translate("Add A New Option"),pe),!oe)return!1}if(ge||(ge=v.guid()),N.options.format)var F={id:ge,name:oe};else var F={value:ge,text:oe};if(typeof N.options.onbeforeinsert=="function"){let pe=N.options.onbeforeinsert(N,F);if(pe===!1)return!1;pe&&(F=pe)}N.options.data.push(F);var G=N.createItem(F);return De.appendChild(G.element),typeof N.options.oninsert=="function"&&N.options.oninsert(N,F,G),De.style.display=="none"&&(De.style.display=""),N.results&&N.results.push(G),F};N.add=function(oe,ge){return typeof N.options.prompt=="function"?N.options.prompt.call(N,Ce):Ce(oe,ge)},N.createItem=function(oe,ge,F){N.options.format?(!oe.id&&oe.value!==void 0&&(oe.id=oe.value),!oe.name&&oe.text!==void 0&&(oe.name=oe.text)):(!oe.value&&oe.id!==void 0&&(oe.value=oe.id),!oe.text&&oe.name!==void 0&&(oe.text=oe.name));var G={};if(G.element=document.createElement("div"),G.element.className="jdropdown-item",G.element.indexValue=N.items.length,G.data=oe,ge&&(G.group=ge),oe.id&&G.element.setAttribute("id",oe.id),oe.disabled==!0&&G.element.setAttribute("data-disabled",!0),oe.tooltip&&G.element.setAttribute("title",oe.tooltip),oe.image){var pe=document.createElement("img");pe.className="jdropdown-image",pe.src=oe.image,oe.title||pe.classList.add("jdropdown-image-small"),G.element.appendChild(pe)}else if(oe.icon){var Ie=document.createElement("span");Ie.className="jdropdown-icon material-icons",Ie.innerText=oe.icon,oe.title||Ie.classList.add("jdropdown-icon-small"),oe.color&&(Ie.style.color=oe.color),G.element.appendChild(Ie)}else if(oe.color){var he=document.createElement("div");he.className="jdropdown-color",he.style.backgroundColor=oe.color,G.element.appendChild(he)}if(N.options.format)var Re=oe.name;else var Re=oe.text;var Ve=document.createElement("div");if(Ve.className="jdropdown-description",Ve.textContent=Re||"&nbsp;",oe.title){var ut=document.createElement("div");ut.className="jdropdown-title",ut.innerText=oe.title,Ve.appendChild(ut)}if(N.options.format)var Xe=oe.id;else var Xe=oe.value;return N.value[Xe]&&(G.element.classList.add("jdropdown-selected"),G.selected=!0),N.items.push(G),G.element.appendChild(Ve),G},N.appendData=function(oe){if(oe.length){for(var ge=[],F=[],G=0;G<oe.length;G++)oe[G].group?(F[oe[G].group]||(F[oe[G].group]=[]),F[oe[G].group].push(G)):ge.push(G);var pe=0,Ie=Object.keys(F);if(Ie.length>0)for(var G=0;G<Ie.length;G++){var he=document.createElement("div");he.className="jdropdown-group";var Re=document.createElement("div");Re.className="jdropdown-group-name",Re.textContent=Ie[G];var Ve=document.createElement("i");Ve.className="jdropdown-group-arrow jdropdown-group-arrow-down",Re.appendChild(Ve);var ut=document.createElement("div");ut.className="jdropdown-group-items";for(var Xe=0;Xe<F[Ie[G]].length;Xe++){var bt=N.createItem(oe[F[Ie[G]][Xe]],he,Ie[G]);(N.options.lazyLoading==!1||pe<200)&&(ut.appendChild(bt.element),pe++)}he.appendChild(Re),he.appendChild(ut),N.groups.push(he),ut.children.length>0&&De.appendChild(he)}if(ge.length)for(var G=0;G<ge.length;G++){var bt=N.createItem(oe[ge[G]]);(N.options.lazyLoading==!1||pe<200)&&(De.appendChild(bt.element),pe++)}}},N.setData=function(oe){if(be(),De.textContent="",N.header.value="",N.items=[],oe&&oe.length){for(var ge=0;ge<oe.length;ge++)typeof oe[ge]!="object"&&(N.options.format?oe[ge]={id:oe[ge],name:oe[ge]}:oe[ge]={value:oe[ge],text:oe[ge]});N.appendData(oe),N.options.data=oe}else N.options.data=[];N.close()},N.getData=function(){return N.options.data},N.getPosition=function(oe){for(var ge=0;ge<N.items.length;ge++)if(z(ge)==oe)return ge;return!1},N.getText=function(oe){var ge=de();return oe?ge:ge.join("; ")},N.getValue=function(oe){var ge=te();return oe?ge:ge.join(";")};var He=function(oe){W.value!=N.options.value&&(W.value=N.options.value,typeof W.oninput=="function"&&W.oninput({type:"input",target:W,value:W.value})),typeof N.options.onchange=="function"&&N.options.onchange(W,N,oe,N.options.value)};N.setValue=function(oe){var ge=N.getValue();Array.isArray(oe)&&(oe=oe.join(";")),ge!==oe&&(J(oe),He(ge))},N.resetSelected=function(){N.setValue(null)},N.selectIndex=function(F,ge){var F=parseInt(F);if(N.items&&N.items[F]&&(ge===!0||N.items[F].data.disabled!==!0))if(N.setCursor(F,!1),!N.options.multiple)N.items[F].selected?N.options.allowEmpty!==!1&&N.setValue(null):N.setValue(z(F)),N.close();else{var G=N.options.value;N.items[F].selected?(N.items[F].element.classList.remove("jdropdown-selected"),N.items[F].selected=!1,delete N.value[z(F)]):(N.items[F].element.classList.add("jdropdown-selected"),N.items[F].selected=!0,N.value[z(F)]=ne(F)),N.options.value=Object.keys(N.value).join(";"),N.options.autocomplete==!1&&(N.header.value=de().join("; ")),He(G)}},N.selectItem=function(oe){N.selectIndex(oe.indexValue)};var it=function(oe,ge){for(var F=0;F<ge.length;F++)if(N.options.format){if(ge[F].id==oe)return!0}else if(ge[F].value==oe)return!0;return!1};return N.find=function(oe){if(N.search==oe.trim())return!1;if(N.search=oe,N.setCursor(),N.groups.length)for(var ge=0;ge<N.groups.length;ge++)N.groups[ge].lastChild.textContent="";if(De.textContent="",N.options.remoteSearch==!0){N.results=null;var F=N.options.url;let ut={url:F,method:"GET",data:{q:oe},dataType:"json",success:function(Xe){N.items=[];var bt=Object.keys(N.value);if(bt.length)for(var Ct=0;Ct<bt.length;Ct++)it(bt[Ct],Xe)||(N.options.format?Xe.unshift({id:bt[Ct],name:N.value[bt[Ct]]}):Xe.unshift({value:bt[Ct],text:N.value[bt[Ct]]}));N.appendData(Xe),Xe.length?De.style.display="":De.style.display="none",typeof N.options.onsearch=="function"&&N.options.onsearch(N,Xe)}};if(typeof N.options.onbeforesearch=="function"){let Xe=N.options.onbeforesearch(N,ut);if(Xe===!1)return;typeof Xe=="object"&&(ut=Xe)}O(ut)}else{oe=new RegExp(oe,"gi");for(var G=[],ge=0;ge<N.items.length;ge++){var pe=ne(ge),Ie=N.items[ge].data.title||"",he=N.items[ge].data.group||"",Re=N.items[ge].data.synonym||"";Re&&(Re=Re.join(" ")),(oe==null||N.items[ge].selected==!0||pe.toString().match(oe)||Ie.match(oe)||he.match(oe)||Re.match(oe))&&G.push(N.items[ge])}if(!G.length)De.style.display="none",N.results=null;else{De.style.display="",N.results=G;var Ve=G.length||0;N.options.lazyLoading==!0&&Ve>200&&(Ve=200);for(var ge=0;ge<Ve;ge++)N.results[ge].group?(N.results[ge].group.parentNode||De.appendChild(N.results[ge].group),N.results[ge].group.lastChild.appendChild(N.results[ge].element)):De.appendChild(N.results[ge].element)}}N.options.autofocus==!0&&N.first()},N.open=function(){if(!W.classList.contains("jdropdown-focus")){H.current=N,b(N,!0),W.classList.add("jdropdown-focus"),v.getWindowWidth()<800&&(N.options.type==null||N.options.type=="picker")&&k.slideBottom(Ae,1),N.options.autocomplete==!0&&(N.header.value=N.search,N.header.focus());var oe=te();if(oe[0]){var ge=N.getPosition(oe[0]);ge!==!1&&N.setCursor(ge)}if(!N.options.type||N.options.type=="default"){var F=W.getBoundingClientRect(),G=Ae.getBoundingClientRect();N.options.position?(Ae.style.position="fixed",window.innerHeight<F.bottom+G.height?(Ae.style.top="",Ae.style.bottom=window.innerHeight-F.top+1+"px"):(Ae.style.top=F.bottom+"px",Ae.style.bottom=""),Ae.style.left=F.left+"px"):window.innerHeight<F.bottom+G.height?(Ae.style.top="",Ae.style.bottom=F.height+1+"px"):(Ae.style.top="",Ae.style.bottom=""),Ae.style.minWidth=F.width+"px",N.options.maxWidth&&(Ae.style.maxWidth=N.options.maxWidth),!N.items.length&&N.options.autocomplete==!0?De.style.display="none":De.style.display=""}}typeof N.options.onopen=="function"&&N.options.onopen(W)},N.close=function(oe){return W.classList.contains("jdropdown-focus")&&(N.header.value=N.getText(),N.setCursor(),!oe&&typeof N.options.onclose=="function"&&N.options.onclose(W),N.header.blur&&N.header.blur(),W.classList.remove("jdropdown-focus"),b(N,!1),H.current=null),N.getValue()},N.setCursor=function(oe,ge){if(N.currentIndex!=null&&N.items&&N.items[N.currentIndex]&&N.items[N.currentIndex].element.classList.remove("jdropdown-cursor"),oe==null)N.currentIndex=null;else if(oe=parseInt(oe),N.items[oe].element.parentNode&&(N.items[oe].element.classList.add("jdropdown-cursor"),N.currentIndex=oe,ge!==!1&&N.items[N.currentIndex].element)){De.scrollTop;var F=N.items[N.currentIndex].element;De.scrollTop=F.offsetTop-F.scrollTop+F.clientTop-95}},N.resetCursor=N.setCursor,N.updateCursor=N.setCursor,N.reset=function(){N.setCursor(),N.setValue(null)},N.first=function(){N.options.lazyLoading===!0&&N.loadFirst();var oe=De.querySelectorAll(".jdropdown-item");if(oe.length){var ge=oe[0].indexValue;N.setCursor(ge)}},N.last=function(){N.options.lazyLoading===!0&&N.loadLast();var oe=De.querySelectorAll(".jdropdown-item");if(oe.length){var ge=oe[oe.length-1].indexValue;N.setCursor(ge)}},N.next=function(oe){var ge=null;if(oe){if(oe.length==1){var F=N.currentIndex||-1;oe=oe.toLowerCase();var G=null,pe=null,Ie=De.querySelectorAll(".jdropdown-item");if(Ie.length){for(var he=0;he<Ie.length;he++)if(Ie[he].indexValue>F&&(G=N.items[Ie[he].indexValue])&&(pe=G.element.innerText[0])&&(pe=pe.toLowerCase(),oe==pe)){ge=Ie[he].indexValue;break}N.setCursor(ge)}}}else if(N.currentIndex==null||N.currentIndex==null)N.first();else{var Re=N.items[N.currentIndex].element,Ve=Re.nextElementSibling;Ve?(Ve.classList.contains("jdropdown-group")&&(Ve=Ve.lastChild.firstChild),ge=Ve.indexValue):Re.parentNode.classList.contains("jdropdown-group-items")&&((Ve=Re.parentNode.parentNode.nextElementSibling)&&(Ve.classList.contains("jdropdown-group")?Ve=Ve.lastChild.firstChild:Ve.classList.contains("jdropdown-item")?ge=Ve.indexValue:Ve=null),Ve&&(ge=Ve.indexValue)),ge!==null&&N.setCursor(ge)}},N.prev=function(){var oe=null;if(N.currentIndex===null)N.first();else{var ge=N.items[N.currentIndex].element,F=ge.previousElementSibling;F?(F.classList.contains("jdropdown-group")&&(F=F.lastChild.lastChild),oe=F.indexValue):ge.parentNode.classList.contains("jdropdown-group-items")&&((F=ge.parentNode.parentNode.previousElementSibling)&&(F.classList.contains("jdropdown-group")?F=F.lastChild.lastChild:F.classList.contains("jdropdown-item")?oe=F.indexValue:F=null),F&&(oe=F.indexValue))}oe!==null&&N.setCursor(oe)},N.loadFirst=function(){if(N.results)var oe=N.results;else var oe=N.items;var ge=oe.length||0;N.options.lazyLoading==!0&&ge>200&&(ge=200),De.textContent="";for(var F=0;F<ge;F++)oe[F].group?(oe[F].group.parentNode||De.appendChild(oe[F].group),oe[F].group.lastChild.appendChild(oe[F].element)):De.appendChild(oe[F].element);De.scrollTop=0},N.loadLast=function(){if(N.results)var oe=N.results;else var oe=N.items;var ge=oe.length;if(ge>200){ge=ge-200,De.textContent="";for(var F=ge;F<oe.length;F++)oe[F].group?(oe[F].group.parentNode||De.appendChild(oe[F].group),oe[F].group.lastChild.appendChild(oe[F].element)):De.appendChild(oe[F].element);De.scrollTop=De.scrollHeight}},N.loadUp=function(){var oe=!1;if(N.results)var ge=N.results;else var ge=N.items;var F=De.querySelectorAll(".jdropdown-item"),G=F[0].indexValue;G=N.items[G];var pe=ge.indexOf(G)-1;if(pe>0){for(var Ie=0;pe>0&&ge[pe]&&Ie<200;)ge[pe].group?(ge[pe].group.parentNode||De.insertBefore(ge[pe].group,De.firstChild),ge[pe].group.lastChild.insertBefore(ge[pe].element,ge[pe].group.lastChild.firstChild)):De.insertBefore(ge[pe].element,De.firstChild),pe--,Ie++;oe=!0}return oe},N.loadDown=function(){var oe=!1;if(N.results)var ge=N.results;else var ge=N.items;var F=De.querySelectorAll(".jdropdown-item"),G=F[F.length-1].indexValue;G=N.items[G];var pe=ge.indexOf(G)+1;if(pe<ge.length){for(var Ie=0;pe<ge.length&&ge[pe]&&Ie<200;)ge[pe].group?(ge[pe].group.parentNode||De.appendChild(ge[pe].group),ge[pe].group.lastChild.appendChild(ge[pe].element)):De.appendChild(ge[pe].element),pe++,Ie++;oe=!0}return oe},It(),N};return H.keydown=function(W){var D=null;if(D=H.current){if(W.which==13||W.which==9)D.header.value&&D.currentIndex==null&&D.options.newOptions?D.add():(D.currentIndex==null&&D.options.autocomplete==!0&&D.header.value!=""&&D.find(D.header.value),D.selectIndex(D.currentIndex));else if(W.which==38)D.currentIndex==null?D.first():D.currentIndex>0&&D.prev(),W.preventDefault();else if(W.which==40)D.currentIndex==null?D.first():D.currentIndex+1<D.items.length&&D.next(),W.preventDefault();else if(W.which==36)D.first(),W.target.classList.contains("jdropdown-header")||W.preventDefault();else if(W.which==35)D.last(),W.target.classList.contains("jdropdown-header")||W.preventDefault();else if(W.which==27)D.close();else if(W.which==33){if(D.currentIndex==null)D.first();else if(D.currentIndex>0)for(var N=0;N<7;N++)D.prev();W.preventDefault()}else if(W.which==34){if(D.currentIndex==null)D.first();else if(D.currentIndex+1<D.items.length)for(var N=0;N<7;N++)D.next();W.preventDefault()}}},H.mouseup=function(W){var D=v.findElement(W.target,"jdropdown");if(D){var N=D.dropdown;if(W.target.classList.contains("jdropdown-header"))if(D.classList.contains("jdropdown-focus")&&D.classList.contains("jdropdown-default")){var X=D.getBoundingClientRect();if(W.changedTouches&&W.changedTouches[0]){var Ee=W.changedTouches[0].clientX;W.changedTouches[0].clientY}else{var Ee=W.clientX;W.clientY}X.width-(Ee-X.left)<30?W.target.classList.contains("jdropdown-add")?N.add():N.close():N.options.autocomplete==!1&&N.close()}else N.open();else if(W.target.classList.contains("jdropdown-group-name")){var be=W.target.nextSibling.children;if(W.target.nextSibling.style.display!="none")for(var J=0;J<be.length;J++)be[J].style.display!="none"&&N.selectItem(be[J])}else W.target.classList.contains("jdropdown-group-arrow")?W.target.classList.contains("jdropdown-group-arrow-down")?(W.target.classList.remove("jdropdown-group-arrow-down"),W.target.classList.add("jdropdown-group-arrow-up"),W.target.parentNode.nextSibling.style.display="none"):(W.target.classList.remove("jdropdown-group-arrow-up"),W.target.classList.add("jdropdown-group-arrow-down"),W.target.parentNode.nextSibling.style.display=""):W.target.classList.contains("jdropdown-item")?N.selectItem(W.target):W.target.classList.contains("jdropdown-image")||W.target.classList.contains("jdropdown-description")?N.selectItem(W.target.parentNode):W.target.classList.contains("jdropdown-title")?N.selectItem(W.target.parentNode.parentNode):(W.target.classList.contains("jdropdown-close")||W.target.classList.contains("jdropdown-backdrop"))&&N.close()}},H.extractFromDom=function(W,D){var N=W;if(D||(D={}),W.getAttribute("multiple")&&(!D||D.multiple==null)&&(D.multiple=!0),W.getAttribute("placeholder")&&(!D||D.placeholder==null)&&(D.placeholder=W.getAttribute("placeholder")),W.getAttribute("data-autocomplete")&&(!D||D.autocomplete==null)&&(D.autocomplete=!0),(!D||D.width==null)&&(D.width=W.offsetWidth),W.value&&(!D||D.value==null)&&(D.value=W.value),!D||D.data==null){D.data=[];for(var X=0;X<W.children.length;X++)if(W.children[X].tagName=="OPTGROUP")for(var Ee=0;Ee<W.children[X].children.length;Ee++)D.data.push({value:W.children[X].children[Ee].value,text:W.children[X].children[Ee].textContent,group:W.children[X].getAttribute("label")});else D.data.push({value:W.children[X].value,text:W.children[X].textContent})}(!D||D.onchange==null)&&(D.onchange=function(J,z,ne,te){D.multiple==!0?obj.items[z].classList.contains("jdropdown-selected")?N.options[z].setAttribute("selected","selected"):N.options[z].removeAttribute("selected"):N.value=te});var be=document.createElement("div");return W.parentNode.insertBefore(be,W),W.style.display="none",W=be,{el:W,options:D}},H}var Ne=fe();function st(H,W){if(H.picker)return H.picker.setOptions(W,!0);var D={type:"picker"};D.options={};var N=null,X=null,Ee=function(z){return z instanceof Element||z instanceof HTMLDocument},be=function(){X.innerHTML="";for(var z=Object.keys(D.options.data),ne=0;ne<z.length;ne++){var te=document.createElement("div");te.classList.add("jpicker-item"),te.setAttribute("role","option"),te.k=z[ne],te.v=D.options.data[z[ne]];var de=D.getLabel(z[ne],te);Ee(de)?te.appendChild(de):te.innerHTML=de,X.appendChild(te)}};D.setOptions=function(z,ne){var te={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,bottom:!1,content:!1,columns:null,grid:null,height:null};z&&z.options&&(z.data=z.options);for(var de in te)z&&z.hasOwnProperty(de)?D.options[de]=z[de]:(typeof D.options[de]>"u"||ne===!0)&&(D.options[de]=te[de]);return D.options.header===!1?N.style.display="none":N.style.display="",D.options.width?N.style.width=parseInt(D.options.width)+"px":N.style.width="",D.options.height?(X.style.maxHeight=D.options.height+"px",X.style.overflow="scroll"):X.style.overflow="",D.options.columns>0&&(D.options.grid?(X.classList.add("jpicker-grid"),X.style.gridTemplateColumns="repeat("+D.options.grid+", 1fr)"):(X.classList.add("jpicker-columns"),X.style.width=D.options.width?D.options.width:36*D.options.columns+"px")),isNaN(parseInt(D.options.value))&&(D.options.value=0),be(),D.setValue(D.options.value),D},D.getValue=function(){return D.options.value},D.setValue=function(z,ne){if(D.setLabel(z),D.options.value=String(z),H.value!=D.options.value&&(H.value=D.options.value,typeof H.oninput=="function"&&H.oninput({type:"input",target:H,value:H.value})),X.children[z]&&X.children[z].getAttribute("type")!=="generic"&&D.close(),ne&&typeof D.options.onchange=="function"){var te=D.options.data[z];D.options.onchange(H,D,te,te,z,ne)}},D.getLabel=function(z,ne){var te=D.options.data[z]||null;return typeof D.options.render=="function"&&(te=D.options.render(te,ne)),te},D.setLabel=function(z){var ne;D.options.content?ne='<i class="material-icons">'+D.options.content+"</i>":ne=D.getLabel(z,null),Ee(ne)?(N.innerHTML="",N.appendChild(ne)):N.innerHTML=ne},D.open=function(){if(!H.classList.contains("jpicker-focus")){b(D,!0),H.classList.add("jpicker-focus"),H.focus();var z=0,ne=0;X.style.marginLeft="";var te=N.getBoundingClientRect(),de=X.getBoundingClientRect();window.innerHeight<te.bottom+de.height||D.options.bottom?z=-1*(de.height+4):z=te.height+4,D.options.right===!0&&(ne=-1*de.width+te.width),de.left+ne<0&&(ne=ne+de.left+10),de.left+de.width>window.innerWidth&&(ne=-1*(10+de.left+de.width-window.innerWidth)),X.style.marginTop=parseInt(z)+"px",X.style.marginLeft=parseInt(ne)+"px",typeof D.options.onopen=="function"&&D.options.onopen(H,D)}},D.close=function(){H.classList.contains("jpicker-focus")&&(H.classList.remove("jpicker-focus"),b(D,!1),typeof D.options.onclose=="function"&&D.options.onclose(H,D))};var J=function(){let z=v.guid();H.classList.add("jpicker"),H.setAttribute("role","combobox"),H.setAttribute("aria-haspopup","listbox"),H.setAttribute("aria-expanded","false"),H.setAttribute("aria-controls",z),H.setAttribute("tabindex","0"),H.onmousedown=function(ne){H.classList.contains("jpicker-focus")||D.open()},N=document.createElement("div"),N.classList.add("jpicker-header"),X=document.createElement("div"),X.setAttribute("id",z),X.setAttribute("role","listbox"),X.classList.add("jpicker-content"),X.onclick=function(ne){var te=v.findElement(ne.target,"jpicker-item");te&&te.parentNode===X&&D.setValue(te.k,ne)},H.appendChild(N),H.appendChild(X),H.value=W.value||0,D.setOptions(W),typeof D.options.onload=="function"&&D.options.onload(H,D),H.change=D.setValue,H.val=function(ne){if(ne===void 0)return D.getValue();D.setValue(ne)},H.picker=D};return J(),D}function ft(H,W){var D={type:"toolbar"};D.options={};var N={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var X in N)W&&W.hasOwnProperty(X)?D.options[X]=W[X]:D.options[X]=N[X];!H&&W.app&&W.app.el&&(H=document.createElement("div"),W.app.el.appendChild(H));var Ee=document.createElement("div");Ee.classList.add("jtoolbar-item"),Ee.classList.add("jtoolbar-arrow");var be=document.createElement("div");be.classList.add("jtoolbar-floating"),Ee.appendChild(be),D.selectItem=function(z){for(var ne=J.children,te=0;te<ne.length;te++)z!=ne[te]&&ne[te].classList.remove("jtoolbar-selected");z.classList.add("jtoolbar-selected")},D.hide=function(){k.slideBottom(H,0,function(){H.style.display="none"})},D.show=function(){H.style.display="",k.slideBottom(H,1)},D.get=function(){return H},D.setBadge=function(z,ne){J.children[z].children[1].firstChild.innerHTML=ne},D.destroy=function(){toolbar.remove(),H.innerHTML=""},D.update=function(z,ne){for(var te=0;te<J.children.length;te++){var de=J.children[te];typeof de.updateState=="function"&&de.updateState(H,D,de,z,ne)}for(var te=0;te<be.children.length;te++){var de=be.children[te];typeof de.updateState=="function"&&de.updateState(H,D,de,z,ne)}},D.create=function(z){J.innerHTML="";for(var ne=0;ne<z.length;ne++){var te=document.createElement("div");if(te.classList.add("jtoolbar-item"),z[ne].width&&(te.style.width=parseInt(z[ne].width)+"px"),z[ne].k&&(te.k=z[ne].k),z[ne].tooltip&&(te.setAttribute("title",z[ne].tooltip),te.setAttribute("aria-label",z[ne].tooltip)),z[ne].id&&te.setAttribute("id",z[ne].id),z[ne].updateState&&(te.updateState=z[ne].updateState),z[ne].active&&te.classList.add("jtoolbar-active"),z[ne].disabled&&te.classList.add("jtoolbar-disabled"),z[ne].type=="select"||z[ne].type=="dropdown")st(te,z[ne]);else if(z[ne].type=="divisor")te.classList.add("jtoolbar-divisor");else if(z[ne].type=="label")te.classList.add("jtoolbar-label"),te.innerHTML=z[ne].content;else{var de=document.createElement("i");if(typeof z[ne].class>"u")de.classList.add("material-icons");else for(var Me=z[ne].class.split(" "),Ae=0;Ae<Me.length;Ae++)de.classList.add(Me[Ae]);if(de.innerHTML=z[ne].content?z[ne].content:"",te.setAttribute("role","button"),te.appendChild(de),D.options.badge==!0){var De=document.createElement("div");De.classList.add("jbadge");var Ge=document.createElement("div");Ge.innerHTML=z[ne].badge?z[ne].badge:"",De.appendChild(Ge),te.appendChild(De)}if(z[ne].title)if(D.options.title==!0){var ct=document.createElement("span");ct.innerHTML=z[ne].title,te.appendChild(ct)}else te.setAttribute("title",z[ne].title);D.options.app&&z[ne].route&&(te.route=z[ne].route,te.onclick=function(){D.options.app.pages(this.route)},D.options.app.pages(z[ne].route,{toolbarItem:te,closed:!0})),typeof z[ne].render=="function"&&z[ne].render(te,z[ne])}z[ne].onclick&&(te.onclick=z[ne].onclick.bind(z[ne],H,D,te)),J.appendChild(te)}setTimeout(function(){D.refresh()},0)},D.open=function(){Ee.classList.add("jtoolbar-arrow-selected"),H.getBoundingClientRect();var z=be.getBoundingClientRect();z.bottom>window.innerHeight||D.options.bottom?be.style.bottom="0":be.style.removeProperty("bottom"),be.style.right="0",Ee.children[0].focus(),b(D,!0)},D.close=function(){Ee.classList.remove("jtoolbar-arrow-selected"),b(D,!1)},D.refresh=function(){if(D.options.responsive==!0){var z=H.parentNode.getBoundingClientRect();D.options.maxWidth||(D.options.maxWidth=z.width);var ne=parseInt(D.options.maxWidth);for(Ee.parentNode&&Ee.parentNode.removeChild(Ee);be.firstChild;)J.appendChild(be.firstChild);if(ne<J.offsetWidth)for(ne-=50;J.lastChild&&ne<J.offsetWidth;)be.insertBefore(J.lastChild,be.firstChild);be.children.length>0&&J.appendChild(Ee)}},D.setReadonly=function(z){z=z?"add":"remove",H.classList[z]("jtoolbar-disabled")},H.onclick=function(z){var ne=v.findElement(z.target,"jtoolbar-item");ne&&D.selectItem(ne),z.target.classList.contains("jtoolbar-arrow")&&D.open()},window.addEventListener("resize",function(){D.refresh()}),H.classList.add("jtoolbar"),H.innerHTML="",D.options.container==!0&&H.classList.add("jtoolbar-container");var J=document.createElement("div");return H.appendChild(J),D.options.app&&H.classList.add("jtoolbar-mobile"),D.create(D.options.items),H.toolbar=D,D}function et(){var H=function(W,D){var N={type:"editor"};N.options={};var X={url:null,value:"",snippet:null,toolbar:!0,toolbarOnTop:!1,remoteParser:null,placeholder:null,filterPaste:!0,dropZone:!0,dropAsSnippet:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(var Ee in X)D&&D.hasOwnProperty(Ee)?N.options[Ee]=D[Ee]:N.options[Ee]=X[Ee];var be=null,J=null,z=[];N.el=W,typeof N.options.onclick=="function"&&(W.onclick=function(_e){N.options.onclick(W,N,_e)}),W.classList.add("jeditor-container");var ne=document.createElement("div");ne.className="jsnippet",ne.setAttribute("contenteditable",!1);var te=document.createElement("div");if(te.className="jeditor-toolbar",N.editor=document.createElement("div"),N.editor.setAttribute("contenteditable",!0),N.editor.setAttribute("spellcheck",!1),N.editor.classList.add("jeditor"),N.options.placeholder&&N.editor.setAttribute("data-placeholder",N.options.placeholder),(N.options.maxHeight||N.options.height)&&(N.editor.style.overflowY="auto",N.options.maxHeight&&(N.editor.style.maxHeight=N.options.maxHeight),N.options.height&&(N.editor.style.height=N.options.height)),N.options.url)O({url:N.options.url,dataType:"html",success:function(_e){N.editor.innerHTML=_e,H.setCursor(N.editor,N.options.focus=="initial")}});else if(N.options.value)N.editor.innerHTML=N.options.value;else for(var de=0;de<W.children.length;de++)N.editor.appendChild(W.children[de]);W.innerHTML="";var Me=function(_e){typeof N.options.onchange=="function"&&N.options.onchange(W,N,_e),N.options.value=N.getData(),W.value!=N.options.value&&(W.value=N.options.value,typeof W.oninput=="function"&&W.oninput({type:"input",target:W,value:W.value}))},Ae=function(_e){var qe=document.createElement("div");qe.innerHTML=_e;var Je=qe.querySelectorAll("img");if(Je.length)for(var _t=0;_t<Je.length;_t++)N.addImage(Je[_t].src)},De=function(){var _e=null;if(_e=ne.children[0]){_e.classList.contains("jslider-grid")||_e.classList.add("jslider-grid");var qe=_e.children.length;_e.setAttribute("data-number",qe>4?4:qe),qe>4?_e.setAttribute("data-total",qe-4):_e.removeAttribute("data-total")}},Ge=function(_e){ne.innerHTML||N.appendSnippet({}),ne.children[0].appendChild(_e),De()};N.appendSnippet=function(_e){ne.innerHTML="";for(var qe=["image","title","description","host","url"],Je=0;Je<qe.length;Je++){var _t=document.createElement("div");if(_t.className="jsnippet-"+qe[Je],_t.setAttribute("data-k",qe[Je]),ne.appendChild(_t),_e[qe[Je]])if(qe[Je]=="image"){Array.isArray(_e.image)||(_e.image=[_e.image]);for(var Wt=0;Wt<_e.image.length;Wt++){var Pt=document.createElement("img");Pt.src=_e.image[Wt],_t.appendChild(Pt)}}else _t.innerHTML=_e[qe[Je]]}N.editor.appendChild(document.createElement("br")),N.editor.appendChild(ne)},N.setData=function(_e){typeof _e=="object"?N.editor.innerHTML=_e.content:N.editor.innerHTML=_e,N.options.focus&&H.setCursor(N.editor,!0),z=[]},N.getFiles=function(){for(var _e=N.editor.querySelectorAll(".jfile"),qe=[],Je=0;Je<_e.length;Je++)z[_e[Je].src]&&qe.push(z[_e[Je].src]);return qe},N.getText=function(){return N.editor.innerText},N.getData=function(_e){if(_e){var qe={content:""};if(ne.innerHTML){qe.snippet={};for(var Je=0;Je<ne.children.length;Je++){var _t=ne.children[Je].getAttribute("data-k");if(_t)if(_t=="image"){qe.snippet.image||(qe.snippet.image=[]);for(var Wt=0;Wt<ne.children[Je].children.length;Wt++)qe.snippet.image.push(ne.children[Je].children[Wt].getAttribute("src"))}else qe.snippet[_t]=ne.children[Je].innerHTML}}var Pt=Object.keys(z);if(Pt.length){qe.files=[];for(var Je=0;Je<Pt.length;Je++)qe.files.push(z[Pt[Je]])}var rn=document.createElement("div");rn.innerHTML=N.editor.innerHTML;var Cn=rn.querySelector(".jsnippet");Cn&&Cn.remove();var $t=rn.innerHTML;$t=$t.replace(/<br>/g,`
`),$t=$t.replace(/<\/div>/g,`</div>
`),$t=$t.replace(/<(?:.|\n)*?>/gm,""),qe.content=$t.trim(),bt("getData",qe)}else var qe=N.editor.innerHTML;return qe},N.reset=function(){N.editor.innerHTML="",ne.innerHTML="",z=[]},N.addPdf=function(_e){if(_e.result.substr(0,4)!="data")console.error("Invalid source");else{var qe=document.createElement("canvas");qe.width=60,qe.height=60;var Je=new Image,_t=qe.getContext("2d");_t.drawImage(Je,0,0,qe.width,qe.height),qe.toBlob(function(Wt){var Pt=document.createElement("img");Pt.src=window.URL.createObjectURL(Wt),Pt.title=_e.name,Pt.className="jfile pdf",z[Pt.src]={file:Pt.src,extension:"pdf",content:_e.result},document.execCommand("insertHtml",!1,Pt.outerHTML)})}},N.addImage=function(_e,qe){if(N.options.acceptImages)if(_e||(_e=""),_e.substr(0,4)!="data"&&!N.options.remoteParser)console.error("remoteParser not defined in your initialization");else{if(_e.substr(0,4)=="data"){var Je=_e.split(";");Je=Je[0].split("/"),Je=Je[1]}else{var Je=_e.substr(_e.lastIndexOf(".")+1);_e=N.options.remoteParser+_e}var _t=new Image;_t.onload=function(){var Pt=document.createElement("canvas");Pt.width=_t.width,Pt.height=_t.height;var rn=Pt.getContext("2d");rn.drawImage(_t,0,0,Pt.width,Pt.height),Pt.toBlob(function(Cn){var $t=document.createElement("img");$t.src=window.URL.createObjectURL(Cn),$t.classList.add("jfile"),$t.setAttribute("tabindex","900"),$t.setAttribute("width",_t.width),$t.setAttribute("height",_t.height),z[$t.src]={file:$t.src,extension:Je,content:Pt.toDataURL()},N.options.dropAsSnippet||qe?(Ge($t),z[$t.src].snippet=!0):document.execCommand("insertHtml",!1,$t.outerHTML),Me()})},_t.src=_e}},N.addFile=function(_e){for(var qe=[],Je=0;Je<_e.length;Je++)if(_e[Je].size>N.options.maxFileSize)alert("The file is too big");else{var _t=_e[Je].type.split("/");_t[0]=="image"?_t=1:_t[1]=="pdf"?_t=2:_t=0,_t?(qe[Je]=new FileReader,qe[Je].index=Je,qe[Je].type=_t,qe[Je].name=_e[Je].name,qe[Je].date=_e[Je].lastModified,qe[Je].size=_e[Je].size,qe[Je].addEventListener("load",function(Wt){Wt.target.type==2?N.options.acceptFiles==!0&&N.addPdf(Wt.target):N.addImage(Wt.target.result)},!1),qe[Je].readAsDataURL(_e[Je])):alert("The extension is not allowed")}},N.destroy=function(){N.editor.removeEventListener("mouseup",Ve),N.editor.removeEventListener("mousedown",ut),N.editor.removeEventListener("mousemove",Xe),N.editor.removeEventListener("keyup",he),N.editor.removeEventListener("keydown",Re),N.editor.removeEventListener("dragstart",oe),N.editor.removeEventListener("dragenter",ge),N.editor.removeEventListener("dragover",F),N.editor.removeEventListener("drop",G),N.editor.removeEventListener("paste",it),N.editor.removeEventListener("blur",pe),N.editor.removeEventListener("focus",Ie),W.editor=null,W.classList.remove("jeditor-container"),te.remove(),ne.remove(),N.editor.remove()},N.upload=function(){v.click(N.file)};const ct=["html","body","address","span","div","h1","h2","h3","h4","h5","h6","p","b","i","blockquote","strong","em","ul","ol","li","a","code","pre","hr","br","img","figure","picture","figcaption","iframe","table","thead","tbody","tfoot","tr","th","td","caption","u","del","ins","sub","sup","small","mark","input","textarea","select","option","button","label","fieldset","legend","audio","video","abbr","cite","kbd","section","article","nav","aside","header","footer","main","details","summary","svg","line","source"],pt=["width","height","align","border","src","tabindex"],Dt=["color","font-weight","font-size","background","background-color","margin"],It=function(_e){if(_e.tagName&&ct.indexOf(_e.tagName.toLowerCase())===-1&&_e.innerText&&(_e.innerHTML=_e.innerText),_e.attributes&&_e.attributes.length){let qe=null,Je=_e.getAttribute("style");if(Je){qe=[];let Wt=Je.split(";");for(let Pt=0;Pt<Wt.length;Pt++){let rn=Wt[Pt].trim().split(":");if(Dt.indexOf(rn[0].trim())>=0){let Cn=rn.shift();rn=rn.join(":"),qe.push(Cn+":"+rn)}}}_e.tagName.toUpperCase()==="IMG"&&(!N.options.acceptImages||!_e.src?_e.parentNode.removeChild(_e):(_e.setAttribute("tabindex","900"),N.addImage(_e.src)));let _t=[];for(let Wt=0;Wt<_e.attributes.length;Wt++)_t.push(_e.attributes[Wt].name);_t.length&&_t.forEach(function(Wt){pt.indexOf(Wt)===-1?_e.removeAttribute(Wt):_e.attributes&&_e.attributes[de]&&_e.attributes[de].value.indexOf("<")!==-1&&_e.attributes[de].value.replace("<","&#60;")}),_e.style="",qe&&qe.length&&_e.setAttribute("style",qe.join(";"))}if(_e.children.length)for(let qe=_e.children.length;qe>0;qe--)It(_e.children[qe-1])};var Ce=function(_e){var qe=window.getSelection(),Je=document.createRange();Je.selectNode(_e),qe.addRange(Je)},He=function(_e){_e&&(_e=_e.replace(new RegExp("<!--(.*?)-->","gsi"),""));var qe=new DOMParser,Je=qe.parseFromString(_e,"text/html");It(Je);var _t=document.createElement("div");return _t.innerHTML=Je.firstChild.innerHTML,_t},it=function(_e){if(N.options.filterPaste==!0){if(_e.clipboardData||_e.originalEvent.clipboardData)var qe=(_e.originalEvent||_e).clipboardData.getData("text/html"),Je=(_e.originalEvent||_e).clipboardData.getData("text/plain"),_t=(_e.originalEvent||_e).clipboardData.files;else if(window.clipboardData)var qe=window.clipboardData.getData("Html"),Je=window.clipboardData.getData("Text"),_t=window.clipboardData.files;if(_t.length)N.addFile(_t);else if(!qe)qe=Je.split(`\r
`),_e.target.innerText?(qe=qe.map(function(Pt){return"<div>"+Pt+"</div>"}),document.execCommand("insertText",!1,qe.join(""))):qe.map(function(Pt){var rn=document.createElement("div");rn.innerText=Pt,N.editor.appendChild(rn)});else{var Wt=He(qe);document.execCommand("insertHtml",!1,Wt.innerHTML)}_e.preventDefault()}},oe=function(_e){J&&J.e&&_e.preventDefault()},ge=function(_e){J||N.options.dropZone==!1||(W.classList.add("jeditor-dragging"),_e.preventDefault())},F=function(_e){J||N.options.dropZone==!1||(be&&clearTimeout(be),be=setTimeout(function(){W.classList.remove("jeditor-dragging")},100),_e.preventDefault())},G=function(_e){if(!(J||N.options.dropZone==!1)){var qe=null;document.caretRangeFromPoint?qe=document.caretRangeFromPoint(_e.clientX,_e.clientY):_e.rangeParent&&(qe=document.createRange(),qe.setStart(_e.rangeParent,_e.rangeOffset));var Je=window.getSelection();Je.removeAllRanges(),Je.addRange(qe),Je.anchorNode.parentNode.focus();var _t=(_e.originalEvent||_e).dataTransfer.getData("text/html"),Wt=(_e.originalEvent||_e).dataTransfer.getData("text/plain"),Pt=(_e.originalEvent||_e).dataTransfer.files;Pt.length?N.addFile(Pt):Wt&&Ae(_t),W.classList.remove("jeditor-dragging"),_e.preventDefault()}},pe=function(_e){bt("onevent",_e),Me(_e),typeof N.options.onblur=="function"&&N.options.onblur(W,N,_e)},Ie=function(_e){typeof N.options.onfocus=="function"&&N.options.onfocus(W,N,_e)},he=function(_e){N.editor.innerHTML||(N.editor.innerHTML="<div><br></div>"),typeof N.options.onkeyup=="function"&&N.options.onkeyup(W,N,_e)},Re=function(_e){if(bt("onevent",_e),_e.key=="Delete"&&_e.target.tagName=="IMG"){var qe=_e.target.parentNode;Ce(_e.target),qe.classList.contains("jsnippet-image")&&De()}typeof N.options.onkeydown=="function"&&N.options.onkeydown(W,N,_e)},Ve=function(_e){if(J&&J.e&&(J.e.classList.remove("resizing"),J.e.changed==!0)){var qe=J.e.cloneNode();qe.width=parseInt(J.e.style.width)||J.e.getAttribute("width"),qe.height=parseInt(J.e.style.height)||J.e.getAttribute("height"),J.e.style.width="",J.e.style.height="",Ce(J.e),document.execCommand("insertHtml",!1,qe.outerHTML)}J=!1},ut=function(_e){var qe=function(Pt){var rn=Pt.getBoundingClientRect();rn.width-(_e.clientX-rn.left)<40&&_e.clientY-rn.top<40&&(Pt.innerHTML="",Pt.remove())};if(_e.target.tagName=="IMG")if(_e.target.style.cursor){var Je=_e.target.getBoundingClientRect();J={e:_e.target,x:_e.clientX,y:_e.clientY,w:Je.width,h:Je.height,d:_e.target.style.cursor},_e.target.getAttribute("width")||_e.target.setAttribute("width",Je.width),_e.target.getAttribute("height")||_e.target.setAttribute("height",Je.height);var _t=window.getSelection();if(_t.rangeCount)for(var Wt=0;Wt<_t.rangeCount;Wt++)_t.removeRange(_t.getRangeAt(Wt));_e.target.classList.add("resizing")}else J=!0;else _e.target.classList.contains("jsnippet")?qe(_e.target):_e.target.parentNode.classList.contains("jsnippet")&&qe(_e.target.parentNode),J=!0},Xe=function(_e){if(_e.target.tagName=="IMG"&&!_e.target.parentNode.classList.contains("jsnippet-image")&&N.options.allowImageResize==!0&&_e.target.getAttribute("tabindex")){var qe=_e.target.getBoundingClientRect();_e.clientY-qe.top<5?qe.width-(_e.clientX-qe.left)<5?_e.target.style.cursor="ne-resize":_e.clientX-qe.left<5?_e.target.style.cursor="nw-resize":_e.target.style.cursor="n-resize":qe.height-(_e.clientY-qe.top)<5?qe.width-(_e.clientX-qe.left)<5?_e.target.style.cursor="se-resize":_e.clientX-qe.left<5?_e.target.style.cursor="sw-resize":_e.target.style.cursor="s-resize":qe.width-(_e.clientX-qe.left)<5?_e.target.style.cursor="e-resize":_e.clientX-qe.left<5?_e.target.style.cursor="w-resize":_e.target.style.cursor=""}if(_e.which==1&&J&&J.d){if(J.d=="e-resize"||J.d=="ne-resize"||J.d=="se-resize")if(J.e.style.width=J.w+(_e.clientX-J.x),_e.shiftKey){var Je=(_e.clientX-J.x)*(J.h/J.w);J.e.style.height=J.h+Je}else var Je=null;Je||(J.d=="s-resize"||J.d=="se-resize"||J.d=="sw-resize")&&(_e.shiftKey||(J.e.style.height=J.h+(_e.clientY-J.y))),J.e.changed=!0}},bt=function(_e,qe){if(N.options.extensions){var Je=Object.keys(N.options.extensions);if(Je.length)for(var _t=0;_t<Je.length;_t++)N.options.extensions[Je[_t]]&&typeof N.options.extensions[Je[_t]][_e]=="function"&&N.options.extensions[Je[_t]][_e].call(N,qe)}},Ct=function(){if(N.options.extensions){var _e=Object.keys(N.options.extensions);if(_e.length)for(var qe=0;qe<_e.length;qe++)N.options.extensions[_e[qe]]&&typeof N.options.extensions[_e[qe]]=="function"&&(N.options.extensions[_e[qe]]=N.options.extensions[_e[qe]](W,N))}};if(document.addEventListener("mouseup",Ve),document.addEventListener("mousemove",Xe),N.editor.addEventListener("mousedown",ut),N.editor.addEventListener("keyup",he),N.editor.addEventListener("keydown",Re),N.editor.addEventListener("dragstart",oe),N.editor.addEventListener("dragenter",ge),N.editor.addEventListener("dragover",F),N.editor.addEventListener("drop",G),N.editor.addEventListener("paste",it),N.editor.addEventListener("focus",Ie),N.editor.addEventListener("blur",pe),W.appendChild(N.editor),N.options.snippet&&N.appendSnippet(N.options.snippet),N.options.toolbar){if(Array.isArray(N.options.toolbar))var Ht={container:!0,responsive:!0,items:N.options.toolbar};else if(N.options.toolbar===!0)var Ht={container:!0,responsive:!0,items:[]};else var Ht=N.options.toolbar;Ht.items&&Ht.items.length||(Ht.items=H.getDefaultToolbar(N)),N.options.toolbarOnTop?(W.classList.add("toolbar-on-top"),W.insertBefore(te,W.firstChild)):(N.editor.style.padding="15px",W.appendChild(te)),ft(te,Ht),te.addEventListener("click",function(){N.editor.focus()})}return N.file=document.createElement("input"),N.file.style.display="none",N.file.type="file",N.file.setAttribute("accept","image/*"),N.file.onchange=function(){N.addFile(this.files)},W.appendChild(N.file),N.options.focus&&H.setCursor(N.editor,N.options.focus=="initial"),W.change=N.setData,W.val=function(_e){if(_e===void 0){var qe=W.getAttribute("data-html")!=="true";return N.getData(qe)}else N.setData(_e)},Ct(),W.editor=N,typeof N.options.onload=="function"&&N.options.onload(W,N,N.editor),N};return H.setCursor=function(W,D){W.focus(),document.execCommand("selectAll");var N=window.getSelection(),X=N.getRangeAt(0);if(D==!0)var Ee=X.startContainer,be=0;else var Ee=X.endContainer,be=Ee.length;X.setStart(Ee,be),X.setEnd(Ee,be),N.removeAllRanges(),N.addRange(X)},H.getDefaultToolbar=function(W){var D=function(X,Ee,be){be.color||(le(be,{onchange:function(J,z){be.k==="color"?document.execCommand("foreColor",!1,z):document.execCommand("backColor",!1,z)}}),be.color.open())},N=[];return N.push({content:"undo",onclick:function(){document.execCommand("undo")}}),N.push({content:"redo",onclick:function(){document.execCommand("redo")}}),N.push({type:"divisor"}),W.options.toolbarOnTop&&(N.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(X){return'<span style="font-family:'+X+'">'+X+"</span>"},onchange:function(X,Ee,be,J,z){document.execCommand("fontName",!1,J)}}),N.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(X){return'<span style="font-size:'+X+'">'+X+"</span>"},onchange:function(X,Ee,be,J,z){document.execCommand("fontSize",!1,parseInt(z)+1)}}),N.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(X){return'<i class="material-icons">'+X+"</i>"},onchange:function(X,Ee,be,J,z){var ne=["JustifyLeft","justifyCenter","justifyRight","justifyFull"];document.execCommand(ne[z])}}),N.push({type:"divisor"}),N.push({content:"format_color_text",k:"color",onclick:D}),N.push({content:"format_color_fill",k:"background-color",onclick:D})),N.push({content:"format_bold",onclick:function(X,Ee,be){document.execCommand("bold"),document.queryCommandState("bold")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({content:"format_italic",onclick:function(X,Ee,be){document.execCommand("italic"),document.queryCommandState("italic")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({content:"format_underline",onclick:function(X,Ee,be){document.execCommand("underline"),document.queryCommandState("underline")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({type:"divisor"}),N.push({content:"format_list_bulleted",onclick:function(X,Ee,be){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({content:"format_list_numbered",onclick:function(X,Ee,be){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({content:"format_indent_increase",onclick:function(X,Ee,be){document.execCommand("indent",!0,null),document.queryCommandState("indent")?be.classList.add("selected"):be.classList.remove("selected")}}),N.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}),W.options.toolbarOnTop&&(N.push({type:"divisor"}),N.push({content:"photo",onclick:function(){W.upload()}}),N.push({type:"select",content:"table_view",columns:8,grid:8,right:!0,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7"],render:function(X,Ee){Ee&&(Ee.onmouseover=this.onmouseover,X=X.split("x"),Ee.setAttribute("data-x",X[0]),Ee.setAttribute("data-y",X[1]));var be=document.createElement("div");return Ee.style.margin="1px",Ee.style.border="1px solid #ddd",be},onmouseover:function(X){for(var Ee=parseInt(X.target.getAttribute("data-x")),be=parseInt(X.target.getAttribute("data-y")),J=0;J<X.target.parentNode.children.length;J++){var z=X.target.parentNode.children[J],ne=parseInt(z.getAttribute("data-x")),te=parseInt(z.getAttribute("data-y"));ne<=Ee&&te<=be?(z.style.backgroundColor="#cae1fc",z.style.borderColor="#2977ff"):(z.style.backgroundColor="",z.style.borderColor="#ddd")}},onchange:function(X,Ee,be){be=be.split("x");for(var J=document.createElement("table"),z=document.createElement("tbody"),ne=0;ne<=be[1];ne++){for(var te=document.createElement("tr"),de=0;de<=be[0];de++){var Me=document.createElement("td");Me.innerHTML="",te.appendChild(Me)}z.appendChild(te)}J.appendChild(z),J.setAttribute("width","100%"),J.setAttribute("cellpadding","6"),J.setAttribute("cellspacing","0"),document.execCommand("insertHTML",!1,J.outerHTML)}})),N},H}var Nt=et();function re(){var H=function(W,D){var N={};N.options={};var X={type:"big",title:"Untitled",width:510,height:472};for(var Ee in X)D&&D.hasOwnProperty(Ee)?N.options[Ee]=D[Ee]:N.options[Ee]=X[Ee];var be=function(){for(var ne=document.createElement("div");W.children[0];)ne.appendChild(W.children[0]);for(N.content=document.createElement("div"),N.content.className="jfloating_content",N.content.innerHTML=W.innerHTML;ne.children[0];)N.content.appendChild(ne.children[0]);N.container=document.createElement("div"),N.container.className="jfloating",N.container.appendChild(N.content),N.options.title?N.container.setAttribute("title",N.options.title):N.container.classList.add("no-title"),N.options.width&&(N.container.style.width=parseInt(N.options.width)+"px"),N.options.height&&(N.container.style.height=parseInt(N.options.height)+"px"),W.innerHTML="",W.appendChild(N.container)},J=function(){N.container&&N.container.addEventListener("click",function(ne){var te=ne.target.getBoundingClientRect();if(ne.target.classList.contains("jfloating")){if(ne.changedTouches&&ne.changedTouches[0])var de=ne.changedTouches[0].clientX,Me=ne.changedTouches[0].clientY;else var de=ne.clientX,Me=ne.clientY;te.width-(de-te.left)<50&&Me-te.top<50?setTimeout(function(){N.close()},100):N.setState()}})},z=function(){N.container.classList.add("jfloating-"+N.options.type)};return N.state={isMinized:!1},N.setState=function(){N.state.isMinized?N.container.classList.remove("jfloating-minimized"):N.container.classList.add("jfloating-minimized"),N.state.isMinized=!N.state.isMinized},N.close=function(){Components.elements.splice(H.elements.indexOf(N.container),1),N.updatePosition(),W.remove()},N.updatePosition=function(){for(var ne=0;ne<H.elements.length;ne++){var te=H.elements[ne],de=H.elements[ne-1];te.style.right=ne*(de?de.offsetWidth:te.offsetWidth)*1.01+"px"}},N.init=function(){be(),J(),z(),H.elements.push(N.container),N.updatePosition(),W.floating=N},N.init(),N};return H.elements=[],H}var Ue=re();function gt(){const H=function(J){return!isNaN(J)&&J!==null&&(typeof J!="string"||J.trim()!=="")},W={between:function(J,z){return J>=z[0]&&J<=z[1]},"not between":function(J,z){return J<z[0]||J>z[1]},"<":function(J,z){return J<z[0]},"<=":function(J,z){return J<=z[0]},">":function(J,z){return J>z[0]},">=":function(J,z){return J>=z[0]},"=":function(J,z){return J==z[0]},"!=":function(J,z){return J!=z[0]}},D={"valid date":function(){return!0},"=":function(J,z){return J===z[0]},"!=":function(J,z){return J!==z[0]},"<":function(J,z){return J<z[0]},"<=":function(J,z){return J<=z[0]},">":function(J,z){return J>z[0]},">=":function(J,z){return J>=z[0]},between:function(J,z){return J>=z[0]&&J<=z[1]},"not between":function(J,z){return J<z[0]||J>z[1]}},N={contains:function(J,z){return J.includes(z[0])},"not contains":function(J,z){return!J.includes(z[0])},"begins with":function(J,z){return J.startsWith(z[0])},"ends with":function(J,z){return J.endsWith(z[0])},"=":function(J,z){return J===z[0]},"!=":function(J,z){return J!==z[0]},"valid email":function(J){var z=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return z.test(J)},"valid url":function(J){var z=new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig);return z.test(J)}},X=function(J,z){return typeof X[z.type]=="function"?z.allowBlank&&(typeof J>"u"||J===""||J===null)?!0:X[z.type].call(this,J,z):null};X.url=function(J){var z=new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig);return!!z.test(J)},X.email=function(J){var z=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!!(J&&z.test(J))},X.required=function(J){return!!(J&&J.trim())},X.empty=function(J){return typeof J>"u"||J===null||typeof J=="string"&&!J.toString().trim()},X["not exist"]=X.empty,X.notEmpty=function(J){return!X.empty(J)},X.exist=X.notEmpty,X.number=function(J,z){if(!H(J))return!1;if(!z||!z.criteria)return!0;if(!W[z.criteria])return!1;let ne=z.value.map(function(te){return parseFloat(te)});return W[z.criteria](J,ne)},X.login=function(J){let z=new RegExp(/^[a-zA-Z0-9._-]+$/);return!!(J&&z.test(J))},X.list=function(J,z){let ne=typeof J;if(ne!=="string"&&ne!=="number")return!1;let te;return typeof z.value[0]=="string"?z.source?te=z.source:te=z.value[0].split(","):te=z.value[0],Array.isArray(te)?te.findIndex(function(Me){return Me==J})>-1:!1};const Ee=function(){let J=new Date;return J.setHours(0,0,0,0),J},be={"one year ago":function(){let J=Ee();return J.setFullYear(J.getFullYear()-1),J},"one month ago":function(){let J=Ee();return J.setMonth(J.getMonth()-1),J},"one week ago":function(){let J=Ee();return J.setDate(J.getDate()-7),J},yesterday:function(){let J=Ee();return J.setDate(J.getDate()-1),J},today:Ee,tomorrow:function(){let J=Ee();return J.setDate(J.getDate()+1),J}};return X.date=function(J,z){if(H(J)&&J>0&&J<1e6&&(J=P.numToDate(J)),new Date(J)=="Invalid Date")return!1;if(!z||!z.criteria)return!0;if(!D[z.criteria])return!1;let ne=z.value.map(function(te){return typeof te=="string"&&be[te]?be[te]().getTime():new Date(te).getTime()});return D[z.criteria](new Date(J).getTime(),ne)},X.text=function(J,z){if(typeof J>"u"||J===null)J="";else if(typeof J!="string")return!1;return!z||!z.criteria?!0:N[z.criteria]?N[z.criteria](J,z.value):!1},X.textLength=function(J,z){let ne;return typeof J=="string"?ne=J.length:typeof J<"u"&&J!==null&&typeof J.toString=="function"?ne=J.toString().length:ne=0,X.number(ne,z)},X}var Mt=gt();function Ze(){var H=function(W,D){var N={};N.options={};var X={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(z,ne){alert(ne)}};for(var Ee in X)D&&D.hasOwnProperty(Ee)?N.options[Ee]=D[Ee]:N.options[Ee]=X[Ee];N.options.validations||(N.options.validations={}),N.options.submitButton||(N.options.submitButton=W.querySelector("input[type=submit]")),N.options.submitButton&&N.options.url&&(N.options.submitButton.onclick=function(){N.save()}),N.options.validations.email||(N.options.validations.email=Mt.email),N.options.validations.length||(N.options.validations.length=Mt.length),N.options.validations.required||(N.options.validations.required=Mt.required),N.setUrl=function(z){N.options.url=z},N.load=function(){O({url:N.options.url,method:"GET",dataType:"json",queue:!0,success:function(z){if(typeof N.options.onbeforeload=="function"){var ne=N.options.onbeforeload(W,z);ne&&(z=ne)}H.setElements(W,z),typeof N.options.onload=="function"&&N.options.onload(W,z)}})},N.save=function(){var z=N.validate();if(z)N.options.onerror(W,z);else{var ne=H.getElements(W,!0);if(typeof N.options.onbeforesave=="function"){var ne=N.options.onbeforesave(W,ne);if(ne===!1)return}O({url:N.options.url,method:"POST",dataType:"json",data:ne,success:function(te){typeof N.options.onsave=="function"&&N.options.onsave(W,ne,te)}})}},N.remove=function(){if(typeof N.options.onbeforeremove=="function"){var z=N.options.onbeforeremove(W,N);if(z===!1)return!1}O({url:N.options.url,method:"DELETE",dataType:"json",success:function(ne){typeof N.options.onremove=="function"&&N.options.onremove(W,N,ne),N.reset()}})};var be=function(z){z.classList.add("error"),N.options.submitButton&&N.options.submitButton.setAttribute("disabled",!0);var ne=z.getAttribute("data-error")||"There is an error in the form";return z.setAttribute("title",ne),ne},J=function(z){var ne=!1;z.classList.remove("error"),z.removeAttribute("title");for(var te=W.querySelectorAll("input, select, textarea, div[name]"),de=0;de<te.length;de++)te[de].getAttribute("data-validation")&&te[de].classList.contains("error")&&(ne=!0);N.options.submitButton&&(ne?N.options.submitButton.setAttribute("disabled",!0):N.options.submitButton.removeAttribute("disabled"))};return N.validateElement=function(z){var ne=!1,te=H.getValue(z),de=z.getAttribute("data-validation");return typeof N.options.validations[de]=="function"&&!N.options.validations[de](te,z)?ne=be(z):z.classList.contains("error")&&J(z),ne},N.reset=function(){for(var z=W.querySelectorAll("input, select, textarea, div[name]"),ne=0;ne<z.length;ne++)z[ne].getAttribute("name")&&(z[ne].type=="checkbox"||z[ne].type=="radio"?z[ne].checked=!1:typeof z[ne].val=="function"?z[ne].val(""):z[ne].value="")},N.validate=function(){for(var z=[],ne=W.querySelectorAll("input, select, textarea, div[name]"),te=0;te<ne.length;te++)if(ne[te].getAttribute("data-validation")){var de=N.validateElement(ne[te]);de&&z.push(de)}return z.length>0?z.join("<br>"):!1},N.getError=function(){return!!N.validation()},N.setHash=function(){return N.getHash(H.getElements(W))},N.getHash=function(z){var ne=0,te,de;if(z.length===0)return ne;for(te=0;te<z.length;te++)de=z.charCodeAt(te),ne=(ne<<5)-ne+de,ne|=0;return ne},N.isChanged=function(){var z=N.setHash();return N.options.currentHash!=z},N.resetTracker=function(){N.options.currentHash=N.setHash(),N.options.ignore=!1},N.setIgnore=function(z){N.options.ignore=!!z},setTimeout(function(){N.options.currentHash=N.setHash()},1e3),W.addEventListener("keyup",function(z){z.target.getAttribute("data-validation")&&N.validateElement(z.target)}),H.hasEvents||(window.addEventListener("beforeunload",function(z){if(N.isChanged()&&N.options.ignore==!1){var ne=N.options.message?N.options.message:"o/";return ne?(typeof z>"u"&&(z=window.event),z&&(z.returnValue=ne),ne):void 0}}),H.hasEvents=!0),W.form=N,N};return H.getValue=function(W){var D=null;if(W.type=="checkbox")W.checked==!0&&(D=W.value||!0);else if(W.type=="radio")W.checked==!0&&(D=W.value);else if(W.type=="file")D=W.files;else if(W.tagName=="select"&&W.multiple==!0){D=[];for(var N=W.querySelectorAll("options[selected]"),X=0;X<N.length;X++)D.push(N[X].value)}else typeof W.val=="function"?D=W.val():D=W.value||"";return D},H.getElements=function(W,D){for(var N={},X=null,Ee=W.querySelectorAll("input, select, textarea, div[name]"),be=0;be<Ee.length;be++)(X=Ee[be].getAttribute("name"))&&(N[X]=H.getValue(Ee[be])||"");return D==!0?N:JSON.stringify(N)},H.setElements=function(W,D){for(var N=null,X=null,Ee=W.querySelectorAll("input, select, textarea, div[name]"),be=0;be<Ee.length;be++){var J=Ee[be].getAttribute("type");if(N=Ee[be].getAttribute("name")){if(N=N.replace(new RegExp(/\[(.*?)\]/ig),".$1"),X=null,N.match(/\./)){var z=g.call(D,N)||"";typeof z<"u"&&(X=z)}else typeof D[N]<"u"&&(X=D[N]);X!==null&&(J=="checkbox"||J=="radio"?Ee[be].checked=!!X:J=="file"||(typeof Ee[be].val=="function"?Ee[be].val(X):Ee[be].value=X))}}},H}var Fe=Ze();function Ye(){var H=function(){var D=null,N=function(J){if(J.which==27)for(var z=document.querySelectorAll(".jmodal"),ne=0;ne<z.length;ne++)z[ne].parentNode.modal.close()},X=function(J){let z=J.composedPath();var ne=v.findElement(z[0],"jmodal");if(ne){var te=ne.getBoundingClientRect();if(J.changedTouches&&J.changedTouches[0])var de=J.changedTouches[0].clientX,Me=J.changedTouches[0].clientY;else var de=J.clientX,Me=J.clientY;te.width-(de-te.left)<50&&Me-te.top<50&&ne.parentNode.modal.close()}D&&(D.element.style.cursor="auto",D=null)},Ee=function(J){let z=J.composedPath();var ne=v.findElement(z[0],"jmodal");if(ne){var te=ne.getBoundingClientRect();if(J.changedTouches&&J.changedTouches[0])var de=J.changedTouches[0].clientX,Me=J.changedTouches[0].clientY;else var de=J.clientX,Me=J.clientY;te.width-(de-te.left)<50&&Me-te.top<50||Me-te.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),D={left:te.left,top:te.top,x:J.clientX,y:J.clientY,width:te.width,height:te.height,element:ne})}},be=function(J){if(D){if(J=J||window.event,J.buttons)var z=J.buttons;else if(J.button)var z=J.button;else var z=J.which;z?(D.element.style.top=D.top+(J.clientY-D.y)+D.height/2+"px",D.element.style.left=D.left+(J.clientX-D.x)+D.width/2+"px",D.element.style.cursor="move"):D.element.style.cursor="auto"}};document.addEventListener("keydown",N),document.addEventListener("mouseup",X),document.addEventListener("mousedown",Ee),document.addEventListener("mousemove",be)},W=function(D,N){var X={};X.options={};var Ee={url:null,onopen:null,onclose:null,onload:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0,icon:null};for(var be in Ee)N&&N.hasOwnProperty(be)?X.options[be]=N[be]:X.options[be]=Ee[be];!X.options.title&&D.getAttribute("title")&&(X.options.title=D.getAttribute("title"));for(var J=document.createElement("div");D.children[0];)J.appendChild(D.children[0]);for(X.title=document.createElement("div"),X.title.className="jmodal_title",X.options.icon&&X.title.setAttribute("data-icon",X.options.icon),X.content=document.createElement("div"),X.content.className="jmodal_content",X.content.innerHTML=D.innerHTML;J.children[0];)X.content.appendChild(J.children[0]);if(X.container=document.createElement("div"),X.container.className="jmodal",X.container.appendChild(X.title),X.container.appendChild(X.content),X.options.padding&&(X.content.style.padding=X.options.padding),X.options.width&&(X.container.style.width=X.options.width),X.options.height&&(X.container.style.height=X.options.height),X.options.title){var z=document.createElement("h4");z.innerText=X.options.title,X.title.appendChild(z)}if(D.innerHTML="",D.style.display="none",D.appendChild(X.container),X.options.backdrop){var ne=document.createElement("div");ne.className="jmodal_backdrop",ne.onclick=function(){X.close()},D.appendChild(ne)}return X.open=function(){D.style.display="block";var te=X.container.getBoundingClientRect();v.getWindowWidth()<te.width?(X.container.style.top="",X.container.style.left="",X.container.classList.add("jmodal_fullscreen"),k.slideBottom(X.container,1)):X.options.backdrop&&(ne.style.display="block"),typeof X.options.onopen=="function"&&X.options.onopen(D,X)},X.resetPosition=function(){X.container.style.top="",X.container.style.left=""},X.isOpen=function(){return D.style.display!="none"},X.close=function(){X.isOpen()&&(D.style.display="none",X.options.backdrop&&(ne.style.display=""),X.container.classList.remove("jmodal_fullscreen"),typeof X.options.onclose=="function"&&X.options.onclose(D,X))},X.options.url?O({url:X.options.url,method:"GET",dataType:"text/html",success:function(te){X.content.innerHTML=te,X.options.closed||X.open(),typeof X.options.onload=="function"&&X.options.onload(X)}}):(X.options.closed||X.open(),typeof X.options.onload=="function"&&X.options.onload(X)),D.modal=X,H(),H=function(){},X};return W}var ht=Ye();function vt(){var H=function(W){var D={};D.options={};var N={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var X in N)W&&W.hasOwnProperty(X)?D.options[X]=W[X]:D.options[X]=N[X];var Ee=document.createElement("div");Ee.className="jnotification",D.options.error&&Ee.classList.add("jnotification-error");var be=document.createElement("div");be.className="jnotification-container",Ee.appendChild(be);var J=document.createElement("div");J.className="jnotification-header",be.appendChild(J);var z=document.createElement("div");if(z.className="jnotification-image",J.appendChild(z),D.options.icon){var ne=document.createElement("img");ne.src=D.options.icon,z.appendChild(ne)}var te=document.createElement("div");if(te.className="jnotification-name",te.innerHTML=D.options.name,J.appendChild(te),D.options.closeable==!0){var de=document.createElement("div");de.className="jnotification-close",de.onclick=function(){D.hide()},J.appendChild(de)}var Me=document.createElement("div");Me.className="jnotification-date",J.appendChild(Me);var Ae=document.createElement("div");if(Ae.className="jnotification-content",be.appendChild(Ae),D.options.title){var De=document.createElement("div");De.className="jnotification-title",De.innerHTML=D.options.title,Ae.appendChild(De)}var Ge=document.createElement("div");if(Ge.className="jnotification-message",Ge.innerHTML=D.options.message,Ae.appendChild(Ge),D.show=function(){document.body.appendChild(Ee),v.getWindowWidth()>800?k.fadeIn(Ee):k.slideTop(Ee,1)},D.hide=function(){v.getWindowWidth()>800?k.fadeOut(Ee,function(){Ee.parentNode&&(Ee.parentNode.removeChild(Ee),ct&&clearTimeout(ct))}):k.slideTop(Ee,0,function(){Ee.parentNode&&(Ee.parentNode.removeChild(Ee),ct&&clearTimeout(ct))})},D.show(),D.options.autoHide==!0)var ct=setTimeout(function(){D.hide()},D.options.timeout);return v.getWindowWidth()<800&&Ee.addEventListener("swipeup",function(pt){D.hide(),pt.preventDefault(),pt.stopPropagation()}),D};return H.isVisible=function(){var W=document.querySelector(".jnotification");return!!(W&&W.parentNode)},H}var ye=vt();function we(H,W){var D={};D.options={};var N={value:0,onchange:null,width:null};for(var X in N)W&&W.hasOwnProperty(X)?D.options[X]=W[X]:D.options[X]=N[X];H.classList.add("jprogressbar"),H.setAttribute("tabindex",1),H.setAttribute("data-value",D.options.value);var Ee=document.createElement("div");Ee.style.width=D.options.value+"%",Ee.style.color="#fff",H.appendChild(Ee),D.options.width&&(H.style.width=D.options.width),D.setValue=function(J){J=parseInt(J),D.options.value=J,Ee.style.width=J+"%",H.setAttribute("data-value",J+"%"),J<6?H.style.color="#000":H.style.color="#fff",D.options.value=J,typeof D.options.onchange=="function"&&D.options.onchange(H,J),H.value!=D.options.value&&(H.value=D.options.value,typeof H.oninput=="function"&&H.oninput({type:"input",target:H,value:H.value}))},D.getValue=function(){return D.options.value};var be=function(J){if(J.which){var z=H.getBoundingClientRect();if(J.changedTouches&&J.changedTouches[0]){var ne=J.changedTouches[0].clientX;J.changedTouches[0].clientY}else{var ne=J.clientX;J.clientY}D.setValue(Math.round((ne-z.left)/z.width*100))}};return"touchstart"in document.documentElement?(H.addEventListener("touchstart",be),H.addEventListener("touchend",be)):(H.addEventListener("mousedown",be),H.addEventListener("mousemove",be)),H.change=D.setValue,H.val=function(J){if(J===void 0)return D.getValue();D.setValue(J)},H.progressbar=D,D}function Pe(H,W){if(H.rating)return H.rating.setOptions(W,!0);var D={};D.options={},D.setOptions=function(X,Ee){var be={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var J in be)X&&X.hasOwnProperty(J)?D.options[J]=X[J]:(typeof D.options[J]>"u"||Ee===!0)&&(D.options[J]=be[J]);H.innerHTML="";for(var z=0;z<D.options.number;z++){var ne=document.createElement("div");ne.setAttribute("data-index",z+1),ne.setAttribute("title",D.options.tooltip[z]),H.appendChild(ne)}if(D.options.value)for(var z=0;z<D.options.number;z++)z<D.options.value&&H.children[z].classList.add("jrating-selected");return D},D.setValue=function(X){for(var Ee=0;Ee<D.options.number;Ee++)Ee<X?H.children[Ee].classList.add("jrating-selected"):(H.children[Ee].classList.remove("jrating-over"),H.children[Ee].classList.remove("jrating-selected"));D.options.value=X,typeof D.options.onchange=="function"&&D.options.onchange(H,X),H.value!=D.options.value&&(H.value=D.options.value,typeof H.oninput=="function"&&H.oninput({type:"input",target:H,value:H.value}))},D.getValue=function(){return D.options.value};var N=function(){D.setOptions(W),H.classList.add("jrating"),H.addEventListener("click",function(X){var Ee=X.target.getAttribute("data-index");Ee!=null&&(Ee==D.options.value?D.setValue(0):D.setValue(Ee))}),H.addEventListener("mouseover",function(X){for(var Ee=X.target.getAttribute("data-index"),be=0;be<D.options.number;be++)be<Ee?H.children[be].classList.add("jrating-over"):H.children[be].classList.remove("jrating-over")}),H.addEventListener("mouseout",function(X){for(var Ee=0;Ee<D.options.number;Ee++)H.children[Ee].classList.remove("jrating-over")}),H.change=D.setValue,H.val=function(X){if(X===void 0)return D.getValue();D.setValue(X)},H.rating=D};return N(),D}function je(H,W){if(H.search)return H.search;var D=null,N=function(ne){if(ne.target.classList.contains("jsearch_item"))var te=ne.target;else var te=ne.target.parentNode;J.selectIndex(te),ne.preventDefault()},X=function(ne){if(typeof J.options.onsearch=="function"){var te=J.options.onsearch(J,ne);te&&(ne=te)}if(z.innerHTML="",!ne.length)H.style.display="";else{H.style.display="block";for(var de=ne.length<11?ne.length:10,Me=0;Me<de;Me++){if(typeof ne[Me]=="string")var Ae=ne[Me],De=ne[Me];else{var Ae=ne[Me].text;!Ae&&ne[Me].name&&(Ae=ne[Me].name);var De=ne[Me].value;!De&&ne[Me].id&&(De=ne[Me].id)}var Ge=document.createElement("div");Ge.setAttribute("data-value",De),Ge.setAttribute("data-text",Ae),Ge.className="jsearch_item",ne[Me].id&&Ge.setAttribute("id",ne[Me].id),J.options.forceSelect&&Me==0&&Ge.classList.add("selected");var ct=document.createElement("img");ne[Me].image?ct.src=ne[Me].image:ct.style.display="none",Ge.appendChild(ct);var pt=document.createElement("div");pt.innerHTML=Ae,Ge.appendChild(pt),z.appendChild(Ge)}}},Ee=function(ne){if(ne!=J.terms)if(J.terms=ne,J.options.forceSelect?D=0:D=null,Array.isArray(J.options.data)){var te=function(Me){if(typeof Me=="string"){if((""+Me).toLowerCase().search(ne.toLowerCase())>=0)return!0}else for(var Ae in Me){var De=Me[Ae];if((""+De).toLowerCase().search(ne.toLowerCase())>=0)return!0}return!1},de=J.options.data.filter(function(Me){return te(Me)});X(de)}else O({url:J.options.data+ne,method:"GET",dataType:"json",success:function(Me){X(Me)}})},be=null,J=function(ne){be&&clearTimeout(be),be=setTimeout(function(){Ee(ne)},500)};W.forceSelect===null&&(W.forceSelect=!0),J.options={data:W.data||null,input:W.input||null,searchByNode:W.searchByNode||null,onselect:W.onselect||null,forceSelect:W.forceSelect,onsearch:W.onsearch||null,onbeforesearch:W.onbeforesearch||null},J.selectIndex=function(ne){var te=ne.getAttribute("id"),de=ne.getAttribute("data-text"),Me=ne.getAttribute("data-value"),Ae=ne.children[0].src||"";typeof J.options.onselect=="function"&&J.options.onselect(J,de,Me,te,Ae),J.close()},J.open=function(){H.style.display="block"},J.close=function(){be&&clearTimeout(be),J.terms="",z.innerHTML="",H.style.display=""},J.isOpened=function(){return!!H.style.display},J.keydown=function(ne){J.isOpened()&&(ne.key=="Enter"?D!==null&&z.children[D]?(J.selectIndex(z.children[D]),ne.preventDefault()):J.close():ne.key==="ArrowUp"?(D!==null&&z.children[0]&&(z.children[D].classList.remove("selected"),!J.options.forceSelect&&D===0?D=null:(D=Math.max(0,D-1),z.children[D].classList.add("selected"))),ne.preventDefault()):ne.key==="ArrowDown"&&(D==null?D=-1:z.children[D].classList.remove("selected"),D<9&&z.children[D+1]&&D++,z.children[D].classList.add("selected"),ne.preventDefault()))},J.keyup=function(ne){if(!J.options.searchByNode&&J.options.input)if(J.options.input.tagName==="DIV")var te=J.options.input.innerText;else var te=J.options.input.value;else{var de=v.getNode();if(de)var te=de.innerText}if(typeof J.options.onbeforesearch=="function"){var Me=J.options.onbeforesearch(J,te);if(Me)te=Me;else if(Me===!1)return}J(te)},J.blur=function(ne){J.close()},J.options.input&&(J.options.input.addEventListener("keyup",J.keyup),J.options.input.addEventListener("keydown",J.keydown),J.options.input.addEventListener("blur",J.blur));var z=document.createElement("div");return z.classList.add("jsearch_container"),z.onmousedown=N,H.appendChild(z),H.classList.add("jsearch"),H.search=J,J}function ze(H,W){var D={};if(D.options={},D.currentImage=null,W&&(D.options=W),H.setAttribute("tabindex","900"),D.options.items=[],!H.classList.contains("jslider")){if(H.classList.add("jslider"),H.classList.add("unselectable"),D.options.height&&(H.style.minHeight=parseInt(D.options.height)+"px"),D.options.width&&(H.style.width=parseInt(D.options.width)+"px"),D.options.grid){H.classList.add("jslider-grid");var N=H.children.length;N>4&&H.setAttribute("data-total",N-4),H.setAttribute("data-number",N>4?4:N)}var X=document.createElement("div");if(X.classList.add("jslider-counter"),H.children.length>0)for(var Ee=0;Ee<H.children.length;Ee++){D.options.items.push(H.children[Ee]);var be=document.createElement("div");be.onclick=function(){var de=Array.prototype.slice.call(X.children).indexOf(this);D.show(D.currentImage=D.options.items[de])},X.appendChild(be)}var J=document.createElement("div");J.className="jslider-caption";var z=document.createElement("div"),ne=document.createElement("div");ne.className="jslider-close",ne.innerHTML="",ne.onclick=function(){D.close()},z.appendChild(J),z.appendChild(ne)}D.updateCounter=function(de){for(var Me=0;Me<X.children.length;Me++)if(X.children[Me].classList.contains("jslider-counter-focus")){X.children[Me].classList.remove("jslider-counter-focus");break}X.children[de].classList.add("jslider-counter-focus")},D.show=function(de){if(!de)var de=H.children[0];H.classList.add("jslider-focus"),H.classList.remove("jslider-grid"),H.appendChild(z),H.appendChild(X);var Me=D.options.items.indexOf(de);D.updateCounter(Me);for(var Ae=0;Ae<H.children.length;Ae++)H.children[Ae].style.display="";de.style.display="block",de.previousElementSibling?H.classList.add("jslider-left"):H.classList.remove("jslider-left"),de.nextElementSibling&&de.nextElementSibling.tagName=="IMG"?H.classList.add("jslider-right"):H.classList.remove("jslider-right"),D.currentImage=de,D.currentImage.offsetHeight>D.currentImage.offsetWidth&&D.currentImage.classList.add("jslider-vertical"),z.children[0].innerText=D.currentImage.getAttribute("title")},D.open=function(){D.show(),typeof D.options.onopen=="function"&&D.options.onopen(H)},D.close=function(){H.classList.remove("jslider-focus"),H.classList.remove("jslider-left"),H.classList.remove("jslider-right"),D.options.grid&&H.classList.add("jslider-grid");for(var de=0;de<H.children.length;de++)H.children[de].style.display="";X.remove(),z.remove(),D.currentImage=null,typeof D.options.onclose=="function"&&D.options.onclose(H)},D.reset=function(){H.innerHTML=""},D.next=function(){var de=D.currentImage.nextElementSibling;de&&de.tagName==="IMG"&&D.show(D.currentImage.nextElementSibling)},D.prev=function(){D.currentImage.previousElementSibling&&D.show(D.currentImage.previousElementSibling)};var te=function(de){if(de.target.tagName=="IMG")D.show(de.target);else if(!de.target.classList.contains("jslider-close")&&!(de.target.parentNode.classList.contains("jslider-counter")||de.target.classList.contains("jslider-counter"))){var Me=de.offsetX||de.changedTouches[0].clientX;de.target.clientWidth-Me<40?D.next():Me<40&&D.prev()}};return"ontouchend"in document.documentElement?H.addEventListener("touchend",te):H.addEventListener("mouseup",te),H.addEventListener("swipeleft",function(de){D.next(),de.preventDefault(),de.stopPropagation()}),H.addEventListener("swiperight",function(de){D.prev(),de.preventDefault(),de.stopPropagation()}),H.addEventListener("keydown",function(de){de.which==27&&D.close()}),H.slider=D,D}function rt(H,W){if(H.tags)return H.tags.setOptions(W,!0);var D={type:"tags"};D.options={};var N=function(){return!!(D.options.limit&&H.children.length>=D.options.limit)},X=null,Ee=null;D.setOptions=function(Ce,He){var it={value:"",limit:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onremoveitem:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null};for(var oe in it)Ce&&Ce.hasOwnProperty(oe)?D.options[oe]=Ce[oe]:(typeof D.options[oe]>"u"||He===!0)&&(D.options[oe]=it[oe]);return D.options.placeholder?H.setAttribute("data-placeholder",D.options.placeholder):H.removeAttribute("data-placeholder"),H.placeholder=D.options.placeholder,D.setValue(D.options.value),ne(),D.options.search?Ee||(Ee=document.createElement("div"),H.parentNode.insertBefore(Ee,H.nextSibling),X=je(Ee,{data:D.options.search,onselect:function(ge,F,G){D.selectIndex(F,G)}})):Ee&&(X=null,Ee.remove(),Ee=null),D},D.add=function(Ce,He){if(typeof D.options.onbeforechange=="function"){var it=D.options.onbeforechange(H,D,D.options.value,Ce);if(it===!1)return!1;it!=null&&(Ce=it)}if(X&&X.close(),N())typeof D.options.onlimit=="function"?D.options.onlimit(D,D.options.limit):alert(u.translate("You reach the limit number of entries")+" "+D.options.limit);else{var oe=v.getNode();if(oe&&oe.parentNode&&oe.parentNode.classList.contains("jtags")&&oe.nextSibling&&!(oe.nextSibling.innerText&&oe.nextSibling.innerText.trim()))ge=oe.nextSibling;else{if(H.lastChild&&(H.lastChild.innerText.trim()||H.removeChild(H.lastChild)),!Ce||typeof Ce=="string")var ge=J(Ce,Ce,oe);else for(var F=0;F<=Ce.length;F++)if(!N()){if(!Ce[F]||typeof Ce[F]=="string")var G=Ce[F]||"",pe=null;else var G=Ce[F].text,pe=Ce[F].value;var ge=J(G,pe)}z()}He&&be(ge)}},D.setLimit=function(Ce){for(D.options.limit=Ce,H.children.length-Ce;H.children.length>Ce;)H.removeChild(H.lastChild)},D.remove=function(Ce){Ce.parentNode.removeChild(Ce),H.children.length?z():D.add("",!0),typeof D.options.onremoveitem=="function"&&D.options.onremoveitem(H,D,Ce)},D.getData=function(){for(var Ce=[],He=0;He<H.children.length;He++){var it=H.children[He].innerText.replace(`
`,""),oe=H.children[He].getAttribute("data-value");oe||(oe=it),(it||oe)&&Ce.push({text:it,value:oe})}return Ce},D.getValue=function(Ce){var He=null;if(Ce!=null)He=H.children[Ce].getAttribute("data-value"),He||(He=H.children[Ce].innerText.replace(`
`,""));else{for(var it=[],oe=0;oe<H.children.length;oe++)He=H.children[oe].innerText.replace(`
`,""),He&&it.push(D.getValue(oe));He=it.join(",")}return He},D.setValue=function(Ce){if(!Ce)D.reset();else if(H.value!=Ce)if(Array.isArray(Ce))D.add(Ce);else{var He=(""+Ce).trim(),it=de(He);H.innerHTML="",D.add(it)}},D.reset=function(){H.classList.add("jtags-empty"),H.innerHTML="<div></div>",z()},D.isValid=function(){for(var Ce=0,He=0;He<H.children.length;He++)H.children[He].classList.contains("jtags_error")&&Ce++;return Ce==0},D.selectIndex=function(Ce,He){var it=v.getNode();it&&(it.innerText=Ce,He&&it.setAttribute("data-value",He),it.classList.remove("jtags_error"),N()||D.add("",!0))},D.search=function(Ce){Ce.innerText},D.destroy=function(){H.removeEventListener("mouseup",ct),H.removeEventListener("keydown",Ae),H.removeEventListener("keyup",De),H.removeEventListener("paste",Ge),H.removeEventListener("focus",pt),H.removeEventListener("blur",Dt),H.parentNode.removeChild(H)};var be=function(Ce){if(H.children.length){var He=document.createRange(),it=window.getSelection();if(!Ce)var Ce=H.childNodes[H.childNodes.length-1];He.setStart(Ce,Ce.length),He.collapse(!0),it.removeAllRanges(),it.addRange(He),H.scrollLeft=H.scrollWidth}},J=function(Ce,He,it){var oe=document.createElement("div");return oe.textContent=Ce||"",He&&oe.setAttribute("data-value",He),it&&it.parentNode.classList.contains("jtags")?H.insertBefore(oe,it.nextSibling):H.appendChild(oe),oe},z=function(){var Ce=D.getValue();Ce!=D.options.value&&(D.options.value=Ce,typeof D.options.onchange=="function"&&D.options.onchange(H,D,D.options.value),H.value!=D.options.value&&(H.value=D.options.value,typeof H.oninput=="function"&&H.oninput({type:"input",target:H,value:H.value}))),ne()},ne=function(){for(var Ce=0;Ce<H.children.length;Ce++)H.children[Ce].tagName==="DIV"&&(D.getValue(Ce)?(H.children[Ce].classList.add("jtags_label"),typeof D.options.validation=="function"&&D.getValue(Ce)?D.options.validation(H.children[Ce],H.children[Ce].innerText,H.children[Ce].getAttribute("data-value"))?H.children[Ce].classList.remove("jtags_error"):H.children[Ce].classList.add("jtags_error"):H.children[Ce].classList.remove("jtags_error")):H.children[Ce].classList.remove("jtags_label"));te()},te=function(){H.innerText.trim()?H.classList.remove("jtags-empty"):(!H.children.length||H.children[0].tagName==="BR")&&(H.innerHTML="",be(J()))},de=function(Ce){var He=[],it="";if(Ce=Ce.trim(),Ce){for(var oe=0;oe<Ce.length;oe++)Ce[oe]==","||Ce[oe]==";"||Ce[oe]==`
`?it&&(He.push(it.trim()),it=""):it+=Ce[oe];it&&He.push(it)}return He},Me=0,Ae=function(Ce){if(Me=window.getSelection().anchorOffset,te(),Ce.key==="Tab"||Ce.key===";"||Ce.key===","){var He=window.getSelection().anchorOffset;He>1&&(N()?typeof D.options.onlimit=="function"&&D.options.onlimit(D,D.options.limit):D.add("",!0)),Ce.preventDefault()}else if(Ce.key=="Enter"){if(!X||!X.isOpened()){var He=window.getSelection().anchorOffset;He>1&&(N()||D.add("",!0)),Ce.preventDefault()}}else Ce.key=="Backspace"&&H.children.length==1&&window.getSelection().anchorOffset<1&&Ce.preventDefault();X&&X.keydown(Ce),te()},De=function(Ce){if(Ce.which==39){var He=window.getSelection().anchorOffset;He>1&&He==Me&&D.add("",!0)}else Ce.which==13||Ce.which==38||Ce.which==40?Ce.preventDefault():X&&X.keyup(Ce);ne()},Ge=function(Ce){if(Ce.clipboardData||Ce.originalEvent.clipboardData)var He=(Ce.originalEvent||Ce).clipboardData.getData("text/plain");else if(window.clipboardData)var He=window.clipboardData.getData("Text");var it=de(He);if(typeof D.options.onbeforepaste=="function"){var oe=D.options.onbeforepaste(H,D,it);if(oe===!1)return Ce.preventDefault(),!1;oe&&(it=oe)}it.length>1?(D.add(it,!0),Ce.preventDefault()):it[0]&&(document.execCommand("insertText",!1,it[0]),Ce.preventDefault())},ct=function(Ce){if(Ce.target.parentNode&&Ce.target.parentNode.classList.contains("jtags")&&(Ce.target.classList.contains("jtags_label")||Ce.target.classList.contains("jtags_error"))){var He=Ce.target.getBoundingClientRect();He.width-(Ce.clientX-He.left)<16&&D.remove(Ce.target)}Ce.target==H&&be()},pt=function(){H.classList.contains("jtags-focus")||((!H.children.length||D.getValue(H.children.length-1))&&(N()||J("")),typeof D.options.onfocus=="function"&&D.options.onfocus(H,D,D.getValue()),H.classList.add("jtags-focus"))},Dt=function(){if(H.classList.contains("jtags-focus")){X&&X.close();for(var Ce=0;Ce<H.children.length-1;Ce++)D.getValue(Ce)||H.removeChild(H.children[Ce]);z(),H.classList.remove("jtags-focus"),typeof D.options.onblur=="function"&&D.options.onblur(H,D,D.getValue())}},It=function(){"touchend"in document.documentElement?H.addEventListener("touchend",ct):H.addEventListener("mouseup",ct),H.addEventListener("keydown",Ae),H.addEventListener("keyup",De),H.addEventListener("paste",Ge),H.addEventListener("focus",pt),H.addEventListener("blur",Dt),H.setAttribute("contenteditable",!0),H.classList.add("jtags"),D.setOptions(W),typeof D.options.onload=="function"&&D.options.onload(H,D),H.change=D.setValue,H.val=function(Ce){if(Ce===void 0)return D.getValue();D.setValue(Ce)},H.tags=D};return It(),D}function mt(H,W){var D={};D.options={};var N={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null};for(var X in N)W&&W.hasOwnProperty(X)?D.options[X]=W[X]:D.options[X]=N[X];D.options.multiple==!0&&H.setAttribute("data-multiple",!0),H.content=[],H.classList.add("jupload"),D.options.input==!0&&H.classList.add("input"),D.add=function(z){if(D.options.multiple==!1&&(H.content=[],H.innerText=""),D.options.type=="image"){var ne=document.createElement("img");ne.setAttribute("src",z.file),ne.setAttribute("tabindex",-1),H.getAttribute("name")||(ne.className="jfile",ne.content=z),H.appendChild(ne)}else{if(z.name)var te=z.name;else var te=z.file;var de=document.createElement("div");de.innerText=te||D.options.type,de.classList.add("jupload-item"),de.setAttribute("tabindex",-1),H.appendChild(de)}z.content&&(z.file=v.guid()),H.content.push(z),typeof D.options.onchange=="function"&&D.options.onchange(H,z)},D.addFromFile=function(z){var ne=z.type.split("/");if(ne[0]==D.options.type){var te=new FileReader;te.addEventListener("load",function(de){var Me={file:de.srcElement.result,extension:z.name.substr(z.name.lastIndexOf(".")+1),name:z.name,size:z.size,lastmodified:z.lastModified,content:de.srcElement.result};D.add(Me)}),te.readAsDataURL(z)}else alert(u.translate("This extension is not allowed"))},D.addFromUrl=function(z){if(z.substr(0,4)!="data"&&!D.options.remoteParser)console.error("remoteParser not defined in your initialization");else if(z.substr(0,4)=="data"){var ne=z.split(";");ne=ne[0].split("/");var te=ne[0].replace("data:","");if(te==D.options.type){var de={file:z,name:"",extension:ne[1],content:z};D.add(de)}else alert(D.options.text.extensionNotAllowed)}else{var ne=z.substr(z.lastIndexOf(".")+1);z=D.options.remoteParser+z,O({url:z,type:"GET",dataType:"blob",success:function(Ae){}})}};var Ee=D.options.type+"/"+D.options.extension,be=document.createElement("input");be.type="file",be.setAttribute("accept",Ee),be.onchange=function(){for(var z=0;z<this.files.length;z++)D.addFromFile(this.files[z])},D.options.multiple==!0&&be.setAttribute("multiple",!0);var J=null;return H.addEventListener("click",function(z){J=null,!H.children.length||z.target===H?v.click(be):z.target.parentNode==H&&(J=z.target)}),H.addEventListener("dblclick",function(z){v.click(be)}),H.addEventListener("dragenter",function(z){H.style.border="1px dashed #000"}),H.addEventListener("dragleave",function(z){H.style.border="1px solid #eee"}),H.addEventListener("dragstop",function(z){H.style.border="1px solid #eee"}),H.addEventListener("dragover",function(z){z.preventDefault()}),H.addEventListener("keydown",function(z){if(J&&z.which==46){var ne=Array.prototype.indexOf.call(H.children,J);ne>=0&&(H.content.splice(ne,1),J.remove(),J=null)}}),H.addEventListener("drop",function(z){z.preventDefault(),z.stopPropagation();var ne=(z.originalEvent||z).dataTransfer.getData("text/html"),te=(z.originalEvent||z).dataTransfer.files;if(te.length)for(var de=0;de<z.dataTransfer.files.length;de++)D.addFromFile(z.dataTransfer.files[de]);else if(ne){D.options.multiple==!1&&(H.innerText="");var Me=document.createElement("div");Me.innerHTML=ne;var Ae=Me.querySelectorAll("img");if(Ae.length)for(var de=0;de<Ae.length;de++)D.addFromUrl(Ae[de].src)}return H.style.border="1px solid #eee",!1}),H.val=function(z){if(z===void 0)return H.content&&H.content.length?H.content:null;if(H.innerText="",H.content=[],z)if(Array.isArray(z))for(var ne=0;ne<z.length;ne++)typeof z[ne]=="string"?D.add({file:z[ne]}):D.add(z[ne]);else typeof z=="string"&&D.add({file:z})},H.upload=H.image=D,D}var dt=s(195),lt=s.n(dt),We={...u,...v,version:"5.9.2",setExtensions:function(H){if(typeof H=="object")for(var W=Object.keys(H),D=0;D<W.length;D++)We[W[D]]=H[W[D]]},tracking:b,path:g,sorting:w,lazyLoading:A,ajax:O,animation:k,calendar:Y,color:le,contextmenu:ve,dropdown:Ne,editor:Nt,floating:Ue,form:Fe,mask:j,modal:ht,notification:ye,palette:me,picker:st,progressbar:we,rating:Pe,search:je,slider:ze,tabs:Q,tags:rt,toolbar:ft,upload:mt,validations:Mt};We.image=mt,We.image.create=function(H){var W=document.createElement("img");return W.setAttribute("src",H.file),W.className="jfile",W.setAttribute("tabindex",-1),W.content=H,W},We.tracker=Fe,We.loading=k.loading,We.sha512=lt(),typeof document<"u"&&function(){if(typeof window.jSuitesStateControl>"u")window.jSuitesStateControl=[];else return;const H=function(Ce,He){return Ce[He.type]&&Ce[He.type]==He||Ce.component&&Ce.component==He?!0:Ce.parentNode?H(Ce.parentNode,He):!1},W=function(Ce){let He=window.jSuitesStateControl;if(He&&He.length>0)for(let it=0;it<He.length;it++)He[it]&&!H(Ce,He[it])&&He[it].close()};let D=15,N=!1,X={x:null,y:null},Ee=document.createElement("div");Ee.classList.add("jtooltip");const be=function(Ce){return Ce&&(Ce.shadowRoot||Ce.tagName&&Ce.tagName.includes("-"))},J=function(Ce){let He,it,oe=Ce.path||Ce.composedPath&&Ce.composedPath();return oe?(it=oe[0],it&&be(it)&&!it.shadowRoot&&Ce.toElement&&(it=Ce.toElement)):(Ce.target&&be(Ce.target)?He=Ce.target.shadowRoot:He=document,it=He.elementFromPoint(x,y)),it},z=function(Ce){if(Ce.changedTouches&&Ce.changedTouches[0])var He=Ce.changedTouches[0].clientX,it=Ce.changedTouches[0].clientY;else var He=Ce.clientX,it=Ce.clientY;let oe=J(Ce),ge=oe&&oe.tagName==="DIV"&&oe.getAttribute("contentEditable"),F=We.findElement(oe,"jpanel");if(F&&!F.classList.contains("readonly")&&!ge){let G=F.getBoundingClientRect(),pe=0;F.style.rotate&&(pe=parseFloat(F.style.rotate));let Ie="move";oe.getAttribute("data-action")?Ie=oe.getAttribute("data-action"):F.style.cursor?Ie="resize":F.style.cursor="move",N={action:Ie,a:pe,e:F,x:He,y:it,l:G.left,t:G.top,b:G.bottom,r:G.right,w:G.width,h:G.height,d:F.style.cursor,actioned:!1},F.style.width||(F.style.width=G.width+"px"),F.style.height||(F.style.height=G.height+"px")}else N=!1;W(oe),De(Ce)},ne=function(Ce,He,it,oe,ge,F){const G=it-Ce,pe=oe-He,Ie=ge-Ce,he=F-He;let Re=Math.atan2(pe,G),ut=Math.atan2(he,Ie)-Re;return ut=ut*(180/Math.PI),ut<0&&(ut+=360),ut},te=function(Ce){N&&N.e&&(typeof N.e.refresh=="function"&&X.actioned&&N.e.refresh(),N.e.style.cursor=""),X={x:null,y:null},N=!1},de=function(Ce){if(N){let F=Ce.clientX||Ce.pageX,G=Ce.clientY||Ce.pageY;if(X.x==null&&X.y==null&&(X.x=F,X.y=G),N.action==="move"){var He=F-X.x,it=G-X.y,oe=N.e.offsetTop+it,ge=N.e.offsetLeft+He;N.e.style.top=oe+"px",N.e.style.left=ge+"px",typeof N.e.refresh=="function"&&(X.actioned=!0,N.e.refresh("position",oe,ge))}else if(N.action==="rotate"){let pe=N.l+N.w/2,Ie=N.t+N.h/2,he=ne(pe,Ie,N.x,N.y,F,G);he=he+N.a%360,he=Math.round(he/2)*2,N.e.style.rotate=`${he}deg`,typeof N.e.refresh=="function"&&(X.actioned=!0,N.e.refresh("rotate",he))}else if(N.action==="resize"){let pe=null,Ie=null,he=null,Re=null;N.d=="e-resize"||N.d=="ne-resize"||N.d=="se-resize"?(he=N.e.offsetWidth+(F-X.x),Ce.shiftKey&&(Re=N.e.offsetHeight+(F-X.x)*(N.e.offsetHeight/N.e.offsetWidth))):(N.d==="w-resize"||N.d=="nw-resize"||N.d=="sw-resize")&&(Ie=N.e.offsetLeft+(F-X.x),he=N.e.offsetLeft+N.e.offsetWidth-Ie,Ce.shiftKey&&(Re=N.e.offsetHeight-(F-X.x)*(N.e.offsetHeight/N.e.offsetWidth))),N.d=="s-resize"||N.d=="se-resize"||N.d=="sw-resize"?Re||(Re=N.e.offsetHeight+(G-X.y)):(N.d==="n-resize"||N.d=="ne-resize"||N.d=="nw-resize")&&(pe=N.e.offsetTop+(G-X.y),Re=N.e.offsetTop+N.e.offsetHeight-pe),pe&&(N.e.style.top=pe+"px"),Ie&&(N.e.style.left=Ie+"px"),he&&(N.e.style.width=he+"px"),Re&&(N.e.style.height=Re+"px"),typeof N.e.refresh=="function"&&(X.actioned=!0,N.e.refresh("dimensions",he,Re))}X.x=F,X.y=G}else{let F=J(Ce),G=We.findElement(F,"jpanel");if(G){if(G.classList.contains("jpanel-controls")){let Ie=F.getAttribute("data-position");Ie?G.style.cursor=Ie:G.style.cursor=""}else if(G.getAttribute("tabindex")){let Ie=G.getBoundingClientRect();Ce.clientY-Ie.top<D?Ie.width-(Ce.clientX-Ie.left)<D?G.style.cursor="ne-resize":Ce.clientX-Ie.left<D?G.style.cursor="nw-resize":G.style.cursor="n-resize":Ie.height-(Ce.clientY-Ie.top)<D?Ie.width-(Ce.clientX-Ie.left)<D?G.style.cursor="se-resize":Ce.clientX-Ie.left<D?G.style.cursor="sw-resize":G.style.cursor="s-resize":Ie.width-(Ce.clientX-Ie.left)<D?G.style.cursor="e-resize":Ce.clientX-Ie.left<D?G.style.cursor="w-resize":G.style.cursor=""}}}};let Me=["n","ne","e","se","s","sw","w","nw","rotate"];Me.forEach(function(Ce,He){Me[He]=document.createElement("div"),Me[He].classList.add("jpanel-action"),Ce==="rotate"?Me[He].setAttribute("data-action","rotate"):(Me[He].setAttribute("data-action","resize"),Me[He].setAttribute("data-position",Ce+"-resize"))});let Ae;const De=function(Ce){let He=J(Ce),it=We.findElement(He,"jpanel");it&&!it.classList.contains("readonly")&&it.classList.contains("jpanel-controls")?(it.append(...Me),it.classList.contains("jpanel-rotate")||Me[Me.length-1].remove(),Ae=it):Ge()},Ge=function(Ce){Ae&&(Me.forEach(function(He){He.remove()}),Ae=null)},ct=function(Ce){var it=J(Ce).getAttribute("data-tooltip");if(it){if(Ee.innerText=it,Ce.changedTouches&&Ce.changedTouches[0])var oe=Ce.changedTouches[0].clientX,ge=Ce.changedTouches[0].clientY;else var oe=Ce.clientX,ge=Ce.clientY;Ee.style.top=ge+"px",Ee.style.left=oe+"px",document.body.appendChild(Ee)}else Ee.innerText&&(Ee.innerText="",document.body.removeChild(Ee))},pt=function(Ce){var He=document.activeElement;if(He&&typeof He.contextmenu=="function")He.contextmenu(Ce),Ce.preventDefault(),Ce.stopImmediatePropagation();else if(He=We.findElement(Ce.target,function(oe){return oe.tagName&&oe.getAttribute("aria-contextmenu-id")}),He){var it=document.querySelector("#"+He);it?(it.contextmenu.open(Ce),Ce.preventDefault(),Ce.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+He)}},Dt=function(Ce){let He=document.activeElement;He&&Ce.key==="Delete"&&typeof He.delete=="function"&&(He.delete(),Ce.preventDefault(),Ce.stopImmediatePropagation());let it=window.jSuitesStateControl;it&&it.length>0&&(He=it[it.length-1],He&&Ce.key==="Escape"&&typeof He.isOpened=="function"&&typeof He.close=="function"&&He.isOpened()&&(He.close(),Ce.preventDefault(),Ce.stopImmediatePropagation()))},It=function(Ce){(Ce.target.getAttribute("data-mask")||Ce.target.mask)&&We.mask(Ce)};document.addEventListener("focusin",De),document.addEventListener("mouseup",te),document.addEventListener("mousedown",z),document.addEventListener("mousemove",de),document.addEventListener("mouseover",ct),document.addEventListener("keydown",Dt),document.addEventListener("contextmenu",pt),document.addEventListener("input",It)}();var Et=We})(),n=a.default}(),n})}(jsuites)),jsuitesExports}var distExports={},dist={get exports(){return distExports},set exports(t){distExports=t}},hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){var n;return function(){var r={765:function(c,l){var u;u=function(f){f.version="1.0.2";var b=Math;function S(ve,fe){for(var Ne=0,st=0;Ne<ve.length;++Ne)st=fe*st+ve[Ne];return st}function v(ve,fe,Ne,st,ft){if(fe===0)return Ne;if(fe===1)return st;for(var et=2/ve,Nt=st,re=1;re<fe;++re)Nt=st*re*et+ft*Ne,Ne=st,st=Nt;return Nt}function g(ve,fe,Ne,st,ft){return function(et,Nt){if(st){if(et===0)return st==1?-1/0:1/0;if(et<0)return NaN}return Nt===0?ve(et):Nt===1?fe(et):Nt<0?NaN:v(et,Nt|=0,ve(et),fe(et),ft)}}var w,A,T,O,R,k,V,P,B,j,q,Y,ae,me=function(){var ve=.636619772,fe=[57568490574,-13362590354,6516196407e-1,-1121442418e-2,77392.33017,-184.9052456].reverse(),Ne=[57568490411,1029532985,9494680718e-3,59272.64853,267.8532712,1].reverse(),st=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),ft=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934935152e-16].reverse();function et(Ze){var Fe=0,Ye=0,ht=0,vt=Ze*Ze;if(Ze<8)Fe=(Ye=S(fe,vt))/(ht=S(Ne,vt));else{var ye=Ze-.785398164;Ye=S(st,vt=64/vt),ht=S(ft,vt),Fe=b.sqrt(ve/Ze)*(b.cos(ye)*Ye-b.sin(ye)*ht*8/Ze)}return Fe}var Nt=[72362614232,-7895059235,2423968531e-1,-2972611439e-3,15704.4826,-30.16036606].reverse(),re=[144725228442,2300535178,1858330474e-2,99447.43394,376.9991397,1].reverse(),Ue=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),gt=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function Mt(Ze){var Fe=0,Ye=0,ht=0,vt=Ze*Ze,ye=b.abs(Ze)-2.356194491;return Math.abs(Ze)<8?Fe=(Ye=Ze*S(Nt,vt))/(ht=S(re,vt)):(Ye=S(Ue,vt=64/vt),ht=S(gt,vt),Fe=b.sqrt(ve/b.abs(Ze))*(b.cos(ye)*Ye-b.sin(ye)*ht*8/b.abs(Ze)),Ze<0&&(Fe=-Fe)),Fe}return function Ze(Fe,Ye){if(Ye=Math.round(Ye),!isFinite(Fe))return isNaN(Fe)?Fe:0;if(Ye<0)return(Ye%2?-1:1)*Ze(Fe,-Ye);if(Fe<0)return(Ye%2?-1:1)*Ze(-Fe,Ye);if(Ye===0)return et(Fe);if(Ye===1)return Mt(Fe);if(Fe===0)return 0;var ht=0;if(Fe>Ye)ht=v(Fe,Ye,et(Fe),Mt(Fe),-1);else{for(var vt=!1,ye=0,we=0,Pe=1,je=0,ze=2/Fe,rt=2*b.floor((Ye+b.floor(b.sqrt(40*Ye)))/2);rt>0;rt--)je=rt*ze*Pe-ye,ye=Pe,Pe=je,b.abs(Pe)>1e10&&(Pe*=1e-10,ye*=1e-10,ht*=1e-10,we*=1e-10),vt&&(we+=Pe),vt=!vt,rt==Ye&&(ht=ye);ht/=we=2*we-Pe}return ht}}(),Q=(w=.636619772,A=[-2957821389,7062834065,-5123598036e-1,1087988129e-2,-86327.92757,228.4622733].reverse(),T=[40076544269,7452499648e-1,7189466438e-3,47447.2647,226.1030244,1].reverse(),O=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),R=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934945152e-16].reverse(),k=[-4900604943e3,127527439e4,-51534381390,7349264551e-1,-4237922726e-3,8511.937935].reverse(),V=[249958057e5,424441966400,3733650367,2245904002e-2,102042.605,354.9632885,1].reverse(),P=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),B=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse(),g(function(ve){var fe=0,Ne=0,st=0,ft=ve*ve,et=ve-.785398164;return ve<8?fe=(Ne=S(A,ft))/(st=S(T,ft))+w*me(ve,0)*b.log(ve):(Ne=S(O,ft=64/ft),st=S(R,ft),fe=b.sqrt(w/ve)*(b.sin(et)*Ne+b.cos(et)*st*8/ve)),fe},function(ve){var fe=0,Ne=0,st=0,ft=ve*ve,et=ve-2.356194491;return ve<8?fe=(Ne=ve*S(k,ft))/(st=S(V,ft))+w*(me(ve,1)*b.log(ve)-1/ve):(Ne=S(P,ft=64/ft),st=S(B,ft),fe=b.sqrt(w/ve)*(b.sin(et)*Ne+b.cos(et)*st*8/ve)),fe},0,1,-1)),le=(j=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),q=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),Y=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),ae=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse(),function ve(fe,Ne){if((Ne=Math.round(Ne))===0)return function(gt){return gt<=3.75?S(j,gt*gt/14.0625):b.exp(b.abs(gt))/b.sqrt(b.abs(gt))*S(q,3.75/b.abs(gt))}(fe);if(Ne===1)return function(gt){return gt<3.75?gt*S(Y,gt*gt/14.0625):(gt<0?-1:1)*b.exp(b.abs(gt))/b.sqrt(b.abs(gt))*S(ae,3.75/b.abs(gt))}(fe);if(Ne<0)return NaN;if(b.abs(fe)===0)return 0;if(fe==1/0)return 1/0;var st,ft=0,et=2/b.abs(fe),Nt=0,re=1,Ue=0;for(st=2*b.round((Ne+b.round(b.sqrt(40*Ne)))/2);st>0;st--)Ue=st*et*re+Nt,Nt=re,re=Ue,b.abs(re)>1e10&&(re*=1e-10,Nt*=1e-10,ft*=1e-10),st==Ne&&(ft=Nt);return ft*=ve(fe,0)/re,fe<0&&Ne%2?-ft:ft}),Se=function(){var ve=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),fe=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),Ne=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),st=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return g(function(ft){return ft<=2?-b.log(ft/2)*le(ft,0)+S(ve,ft*ft/4):b.exp(-ft)/b.sqrt(ft)*S(fe,2/ft)},function(ft){return ft<=2?b.log(ft/2)*le(ft,1)+1/ft*S(Ne,ft*ft/4):b.exp(-ft)/b.sqrt(ft)*S(st,2/ft)},0,2,1)}();f.besselj=me,f.bessely=Q,f.besseli=le,f.besselk=Se},u(typeof DO_NOT_EXPORT_BESSEL>"u"?l:{})},162:function(c){var l;c.exports=(l=function(u,f){var b=Array.prototype.concat,S=Array.prototype.slice,v=Object.prototype.toString;function g(B,j){var q=B>j?B:j;return u.pow(10,17-~~(u.log(q>0?q:-q)*u.LOG10E))}var w=Array.isArray||function(B){return v.call(B)==="[object Array]"};function A(B){return v.call(B)==="[object Function]"}function T(B){return typeof B=="number"&&B-B==0}function O(){return new O._init(arguments)}function R(){return 0}function k(){return 1}function V(B,j){return B===j?1:0}O.fn=O.prototype,O._init=function(B){if(w(B[0]))if(w(B[0][0])){A(B[1])&&(B[0]=O.map(B[0],B[1]));for(var j=0;j<B[0].length;j++)this[j]=B[0][j];this.length=B[0].length}else this[0]=A(B[1])?O.map(B[0],B[1]):B[0],this.length=1;else if(T(B[0]))this[0]=O.seq.apply(null,B),this.length=1;else{if(B[0]instanceof O)return O(B[0].toArray());this[0]=[],this.length=1}return this},O._init.prototype=O.prototype,O._init.constructor=O,O.utils={calcRdx:g,isArray:w,isFunction:A,isNumber:T,toVector:function(B){return b.apply([],B)}},O._random_fn=u.random,O.setRandom=function(B){if(typeof B!="function")throw new TypeError("fn is not a function");O._random_fn=B},O.extend=function(B){var j,q;if(arguments.length===1){for(q in B)O[q]=B[q];return this}for(j=1;j<arguments.length;j++)for(q in arguments[j])B[q]=arguments[j][q];return B},O.rows=function(B){return B.length||1},O.cols=function(B){return B[0].length||1},O.dimensions=function(B){return{rows:O.rows(B),cols:O.cols(B)}},O.row=function(B,j){return w(j)?j.map(function(q){return O.row(B,q)}):B[j]},O.rowa=function(B,j){return O.row(B,j)},O.col=function(B,j){if(w(j)){var q=O.arange(B.length).map(function(){return new Array(j.length)});return j.forEach(function(me,Q){O.arange(B.length).forEach(function(le){q[le][Q]=B[le][me]})}),q}for(var Y=new Array(B.length),ae=0;ae<B.length;ae++)Y[ae]=[B[ae][j]];return Y},O.cola=function(B,j){return O.col(B,j).map(function(q){return q[0]})},O.diag=function(B){for(var j=O.rows(B),q=new Array(j),Y=0;Y<j;Y++)q[Y]=[B[Y][Y]];return q},O.antidiag=function(B){for(var j=O.rows(B)-1,q=new Array(j),Y=0;j>=0;j--,Y++)q[Y]=[B[Y][j]];return q},O.transpose=function(B){var j,q,Y,ae,me,Q=[];for(w(B[0])||(B=[B]),q=B.length,Y=B[0].length,me=0;me<Y;me++){for(j=new Array(q),ae=0;ae<q;ae++)j[ae]=B[ae][me];Q.push(j)}return Q.length===1?Q[0]:Q},O.map=function(B,j,q){var Y,ae,me,Q,le;for(w(B[0])||(B=[B]),ae=B.length,me=B[0].length,Q=q?B:new Array(ae),Y=0;Y<ae;Y++)for(Q[Y]||(Q[Y]=new Array(me)),le=0;le<me;le++)Q[Y][le]=j(B[Y][le],Y,le);return Q.length===1?Q[0]:Q},O.cumreduce=function(B,j,q){var Y,ae,me,Q,le;for(w(B[0])||(B=[B]),ae=B.length,me=B[0].length,Q=q?B:new Array(ae),Y=0;Y<ae;Y++)for(Q[Y]||(Q[Y]=new Array(me)),me>0&&(Q[Y][0]=B[Y][0]),le=1;le<me;le++)Q[Y][le]=j(Q[Y][le-1],B[Y][le]);return Q.length===1?Q[0]:Q},O.alter=function(B,j){return O.map(B,j,!0)},O.create=function(B,j,q){var Y,ae,me=new Array(B);for(A(j)&&(q=j,j=B),Y=0;Y<B;Y++)for(me[Y]=new Array(j),ae=0;ae<j;ae++)me[Y][ae]=q(Y,ae);return me},O.zeros=function(B,j){return T(j)||(j=B),O.create(B,j,R)},O.ones=function(B,j){return T(j)||(j=B),O.create(B,j,k)},O.rand=function(B,j){return T(j)||(j=B),O.create(B,j,O._random_fn)},O.identity=function(B,j){return T(j)||(j=B),O.create(B,j,V)},O.symmetric=function(B){var j,q,Y=B.length;if(B.length!==B[0].length)return!1;for(j=0;j<Y;j++)for(q=0;q<Y;q++)if(B[q][j]!==B[j][q])return!1;return!0},O.clear=function(B){return O.alter(B,R)},O.seq=function(B,j,q,Y){A(Y)||(Y=!1);var ae,me=[],Q=g(B,j),le=(j*Q-B*Q)/((q-1)*Q),Se=B;for(ae=0;Se<=j&&ae<q;Se=(B*Q+le*Q*++ae)/Q)me.push(Y?Y(Se,ae):Se);return me},O.arange=function(B,j,q){var Y,ae=[];if(q=q||1,j===f&&(j=B,B=0),B===j||q===0)return[];if(B<j&&q<0)return[];if(B>j&&q>0)return[];if(q>0)for(Y=B;Y<j;Y+=q)ae.push(Y);else for(Y=B;Y>j;Y+=q)ae.push(Y);return ae},O.slice=function(){function B(j,q,Y,ae){var me,Q=[],le=j.length;if(q===f&&Y===f&&ae===f)return O.copy(j);if(ae=ae||1,(q=(q=q||0)>=0?q:le+q)===(Y=(Y=Y||j.length)>=0?Y:le+Y)||ae===0)return[];if(q<Y&&ae<0)return[];if(q>Y&&ae>0)return[];if(ae>0)for(me=q;me<Y;me+=ae)Q.push(j[me]);else for(me=q;me>Y;me+=ae)Q.push(j[me]);return Q}return function(j,q){var Y,ae;return T((q=q||{}).row)?T(q.col)?j[q.row][q.col]:B(O.rowa(j,q.row),(Y=q.col||{}).start,Y.end,Y.step):T(q.col)?B(O.cola(j,q.col),(ae=q.row||{}).start,ae.end,ae.step):(ae=q.row||{},Y=q.col||{},B(j,ae.start,ae.end,ae.step).map(function(me){return B(me,Y.start,Y.end,Y.step)}))}}(),O.sliceAssign=function(B,j,q){var Y,ae;if(T(j.row)){if(T(j.col))return B[j.row][j.col]=q;j.col=j.col||{},j.col.start=j.col.start||0,j.col.end=j.col.end||B[0].length,j.col.step=j.col.step||1,Y=O.arange(j.col.start,u.min(B.length,j.col.end),j.col.step);var me=j.row;return Y.forEach(function(le,Se){B[me][le]=q[Se]}),B}if(T(j.col)){j.row=j.row||{},j.row.start=j.row.start||0,j.row.end=j.row.end||B.length,j.row.step=j.row.step||1,ae=O.arange(j.row.start,u.min(B[0].length,j.row.end),j.row.step);var Q=j.col;return ae.forEach(function(le,Se){B[le][Q]=q[Se]}),B}return q[0].length===f&&(q=[q]),j.row.start=j.row.start||0,j.row.end=j.row.end||B.length,j.row.step=j.row.step||1,j.col.start=j.col.start||0,j.col.end=j.col.end||B[0].length,j.col.step=j.col.step||1,ae=O.arange(j.row.start,u.min(B.length,j.row.end),j.row.step),Y=O.arange(j.col.start,u.min(B[0].length,j.col.end),j.col.step),ae.forEach(function(le,Se){Y.forEach(function(ve,fe){B[le][ve]=q[Se][fe]})}),B},O.diagonal=function(B){var j=O.zeros(B.length,B.length);return B.forEach(function(q,Y){j[Y][Y]=q}),j},O.copy=function(B){return B.map(function(j){return T(j)?j:j.map(function(q){return q})})};var P=O.prototype;return P.length=0,P.push=Array.prototype.push,P.sort=Array.prototype.sort,P.splice=Array.prototype.splice,P.slice=Array.prototype.slice,P.toArray=function(){return this.length>1?S.call(this):S.call(this)[0]},P.map=function(B,j){return O(O.map(this,B,j))},P.cumreduce=function(B,j){return O(O.cumreduce(this,B,j))},P.alter=function(B){return O.alter(this,B),this},function(B){for(var j=0;j<B.length;j++)(function(q){P[q]=function(Y){var ae,me=this;return Y?(setTimeout(function(){Y.call(me,P[q].call(me))}),this):(ae=O[q](this),w(ae)?O(ae):ae)}})(B[j])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(B){for(var j=0;j<B.length;j++)(function(q){P[q]=function(Y,ae){var me=this;return ae?(setTimeout(function(){ae.call(me,P[q].call(me,Y))}),this):O(O[q](this,Y))}})(B[j])}("row col".split(" ")),function(B){for(var j=0;j<B.length;j++)(function(q){P[q]=function(){return O(O[q].apply(null,arguments))}})(B[j])}("create zeros ones rand identity".split(" ")),O}(Math),function(u,f){var b=u.utils.isFunction;function S(w,A){return w-A}function v(w,A,T){return f.max(A,f.min(w,T))}u.sum=function(w){for(var A=0,T=w.length;--T>=0;)A+=w[T];return A},u.sumsqrd=function(w){for(var A=0,T=w.length;--T>=0;)A+=w[T]*w[T];return A},u.sumsqerr=function(w){for(var A,T=u.mean(w),O=0,R=w.length;--R>=0;)O+=(A=w[R]-T)*A;return O},u.sumrow=function(w){for(var A=0,T=w.length;--T>=0;)A+=w[T];return A},u.product=function(w){for(var A=1,T=w.length;--T>=0;)A*=w[T];return A},u.min=function(w){for(var A=w[0],T=0;++T<w.length;)w[T]<A&&(A=w[T]);return A},u.max=function(w){for(var A=w[0],T=0;++T<w.length;)w[T]>A&&(A=w[T]);return A},u.unique=function(w){for(var A={},T=[],O=0;O<w.length;O++)A[w[O]]||(A[w[O]]=!0,T.push(w[O]));return T},u.mean=function(w){return u.sum(w)/w.length},u.meansqerr=function(w){return u.sumsqerr(w)/w.length},u.geomean=function(w){var A=w.map(f.log),T=u.mean(A);return f.exp(T)},u.median=function(w){var A=w.length,T=w.slice().sort(S);return 1&A?T[A/2|0]:(T[A/2-1]+T[A/2])/2},u.cumsum=function(w){return u.cumreduce(w,function(A,T){return A+T})},u.cumprod=function(w){return u.cumreduce(w,function(A,T){return A*T})},u.diff=function(w){var A,T=[],O=w.length;for(A=1;A<O;A++)T.push(w[A]-w[A-1]);return T},u.rank=function(w){var A,T=[],O={};for(A=0;A<w.length;A++)O[P=w[A]]?O[P]++:(O[P]=1,T.push(P));var R=T.sort(S),k={},V=1;for(A=0;A<R.length;A++){var P,B=O[P=R[A]],j=(V+(V+B-1))/2;k[P]=j,V+=B}return w.map(function(q){return k[q]})},u.mode=function(w){var A,T=w.length,O=w.slice().sort(S),R=1,k=0,V=0,P=[];for(A=0;A<T;A++)O[A]===O[A+1]?R++:(R>k?(P=[O[A]],k=R,V=0):R===k&&(P.push(O[A]),V++),R=1);return V===0?P[0]:P},u.range=function(w){return u.max(w)-u.min(w)},u.variance=function(w,A){return u.sumsqerr(w)/(w.length-(A?1:0))},u.pooledvariance=function(w){return w.reduce(function(A,T){return A+u.sumsqerr(T)},0)/(w.reduce(function(A,T){return A+T.length},0)-w.length)},u.deviation=function(w){for(var A=u.mean(w),T=w.length,O=new Array(T),R=0;R<T;R++)O[R]=w[R]-A;return O},u.stdev=function(w,A){return f.sqrt(u.variance(w,A))},u.pooledstdev=function(w){return f.sqrt(u.pooledvariance(w))},u.meandev=function(w){for(var A=u.mean(w),T=[],O=w.length-1;O>=0;O--)T.push(f.abs(w[O]-A));return u.mean(T)},u.meddev=function(w){for(var A=u.median(w),T=[],O=w.length-1;O>=0;O--)T.push(f.abs(w[O]-A));return u.median(T)},u.coeffvar=function(w){return u.stdev(w)/u.mean(w)},u.quartiles=function(w){var A=w.length,T=w.slice().sort(S);return[T[f.round(A/4)-1],T[f.round(A/2)-1],T[f.round(3*A/4)-1]]},u.quantiles=function(w,A,T,O){var R,k,V,P,B,j=w.slice().sort(S),q=[A.length],Y=w.length;for(T===void 0&&(T=.375),O===void 0&&(O=.375),R=0;R<A.length;R++)V=Y*(k=A[R])+(T+k*(1-T-O)),P=f.floor(v(V,1,Y-1)),B=v(V-P,0,1),q[R]=(1-B)*j[P-1]+B*j[P];return q},u.percentile=function(w,A,T){var O=w.slice().sort(S),R=A*(O.length+(T?1:-1))+(T?0:1),k=parseInt(R),V=R-k;return k+1<O.length?O[k-1]+V*(O[k]-O[k-1]):O[k-1]},u.percentileOfScore=function(w,A,T){var O,R,k=0,V=w.length,P=!1;for(T==="strict"&&(P=!0),R=0;R<V;R++)O=w[R],(P&&O<A||!P&&O<=A)&&k++;return k/V},u.histogram=function(w,A){A=A||4;var T,O=u.min(w),R=(u.max(w)-O)/A,k=w.length,V=[];for(T=0;T<A;T++)V[T]=0;for(T=0;T<k;T++)V[f.min(f.floor((w[T]-O)/R),A-1)]+=1;return V},u.covariance=function(w,A){var T,O=u.mean(w),R=u.mean(A),k=w.length,V=new Array(k);for(T=0;T<k;T++)V[T]=(w[T]-O)*(A[T]-R);return u.sum(V)/(k-1)},u.corrcoeff=function(w,A){return u.covariance(w,A)/u.stdev(w,1)/u.stdev(A,1)},u.spearmancoeff=function(w,A){return w=u.rank(w),A=u.rank(A),u.corrcoeff(w,A)},u.stanMoment=function(w,A){for(var T=u.mean(w),O=u.stdev(w),R=w.length,k=0,V=0;V<R;V++)k+=f.pow((w[V]-T)/O,A);return k/w.length},u.skewness=function(w){return u.stanMoment(w,3)},u.kurtosis=function(w){return u.stanMoment(w,4)-3};var g=u.prototype;(function(w){for(var A=0;A<w.length;A++)(function(T){g[T]=function(O,R){var k=[],V=0,P=this;if(b(O)&&(R=O,O=!1),R)return setTimeout(function(){R.call(P,g[T].call(P,O))}),this;if(this.length>1){for(P=O===!0?this:this.transpose();V<P.length;V++)k[V]=u[T](P[V]);return k}return u[T](this[0],O)}})(w[A])})("cumsum cumprod".split(" ")),function(w){for(var A=0;A<w.length;A++)(function(T){g[T]=function(O,R){var k=[],V=0,P=this;if(b(O)&&(R=O,O=!1),R)return setTimeout(function(){R.call(P,g[T].call(P,O))}),this;if(this.length>1){for(T!=="sumrow"&&(P=O===!0?this:this.transpose());V<P.length;V++)k[V]=u[T](P[V]);return O===!0?u[T](u.utils.toVector(k)):k}return u[T](this[0],O)}})(w[A])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(w){for(var A=0;A<w.length;A++)(function(T){g[T]=function(){var O,R=[],k=0,V=this,P=Array.prototype.slice.call(arguments);if(b(P[P.length-1])){O=P[P.length-1];var B=P.slice(0,P.length-1);return setTimeout(function(){O.call(V,g[T].apply(V,B))}),this}O=void 0;var j=function(q){return u[T].apply(V,[q].concat(P))};if(this.length>1){for(V=V.transpose();k<V.length;k++)R[k]=j(V[k]);return R}return j(this[0])}})(w[A])}("quantiles percentileOfScore".split(" "))}(l,Math),function(u,f){u.gammaln=function(b){var S,v,g,w=0,A=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],T=1.000000000190015;for(g=(v=S=b)+5.5,g-=(S+.5)*f.log(g);w<6;w++)T+=A[w]/++v;return f.log(2.5066282746310007*T/S)-g},u.loggam=function(b){var S,v,g,w,A,T,O,R=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(S=b,O=0,b==1||b==2)return 0;for(b<=7&&(S=b+(O=f.floor(7-b))),v=1/(S*S),g=2*f.PI,A=R[9],T=8;T>=0;T--)A*=v,A+=R[T];if(w=A/S+.5*f.log(g)+(S-.5)*f.log(S)-S,b<=7)for(T=1;T<=O;T++)w-=f.log(S-1),S-=1;return w},u.gammafn=function(b){var S,v,g,w,A=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],T=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],O=!1,R=0,k=0,V=0,P=b;if(b>171.6243769536076)return 1/0;if(P<=0){if(!(w=P%1+36e-17))return 1/0;O=(1&P?-1:1)*f.PI/f.sin(f.PI*w),P=1-P}for(g=P,v=P<1?P++:(P-=R=(0|P)-1)-1,S=0;S<8;++S)V=(V+A[S])*v,k=k*v+T[S];if(w=V/k+1,g<P)w/=g;else if(g>P)for(S=0;S<R;++S)w*=P,P++;return O&&(w=O/w),w},u.gammap=function(b,S){return u.lowRegGamma(b,S)*u.gammafn(b)},u.lowRegGamma=function(b,S){var v,g=u.gammaln(b),w=b,A=1/b,T=A,O=S+1-b,R=1/1e-30,k=1/O,V=k,P=1,B=-~(8.5*f.log(b>=1?b:1/b)+.4*b+17);if(S<0||b<=0)return NaN;if(S<b+1){for(;P<=B;P++)A+=T*=S/++w;return A*f.exp(-S+b*f.log(S)-g)}for(;P<=B;P++)V*=(k=1/(k=(v=-P*(P-b))*k+(O+=2)))*(R=O+v/R);return 1-V*f.exp(-S+b*f.log(S)-g)},u.factorialln=function(b){return b<0?NaN:u.gammaln(b+1)},u.factorial=function(b){return b<0?NaN:u.gammafn(b+1)},u.combination=function(b,S){return b>170||S>170?f.exp(u.combinationln(b,S)):u.factorial(b)/u.factorial(S)/u.factorial(b-S)},u.combinationln=function(b,S){return u.factorialln(b)-u.factorialln(S)-u.factorialln(b-S)},u.permutation=function(b,S){return u.factorial(b)/u.factorial(b-S)},u.betafn=function(b,S){if(!(b<=0||S<=0))return b+S>170?f.exp(u.betaln(b,S)):u.gammafn(b)*u.gammafn(S)/u.gammafn(b+S)},u.betaln=function(b,S){return u.gammaln(b)+u.gammaln(S)-u.gammaln(b+S)},u.betacf=function(b,S,v){var g,w,A,T,O=1e-30,R=1,k=S+v,V=S+1,P=S-1,B=1,j=1-k*b/V;for(f.abs(j)<O&&(j=O),T=j=1/j;R<=100&&(j=1+(w=R*(v-R)*b/((P+(g=2*R))*(S+g)))*j,f.abs(j)<O&&(j=O),B=1+w/B,f.abs(B)<O&&(B=O),T*=(j=1/j)*B,j=1+(w=-(S+R)*(k+R)*b/((S+g)*(V+g)))*j,f.abs(j)<O&&(j=O),B=1+w/B,f.abs(B)<O&&(B=O),T*=A=(j=1/j)*B,!(f.abs(A-1)<3e-7));R++);return T},u.gammapinv=function(b,S){var v,g,w,A,T,O,R=0,k=S-1,V=u.gammaln(S);if(b>=1)return f.max(100,S+100*f.sqrt(S));if(b<=0)return 0;for(S>1?(T=f.log(k),O=f.exp(k*(T-1)-V),A=b<.5?b:1-b,v=(2.30753+.27061*(g=f.sqrt(-2*f.log(A))))/(1+g*(.99229+.04481*g))-g,b<.5&&(v=-v),v=f.max(.001,S*f.pow(1-1/(9*S)-v/(3*f.sqrt(S)),3))):v=b<(g=1-S*(.253+.12*S))?f.pow(b/g,1/S):1-f.log(1-(b-g)/(1-g));R<12;R++){if(v<=0)return 0;if((v-=g=(w=(u.lowRegGamma(S,v)-b)/(g=S>1?O*f.exp(-(v-k)+k*(f.log(v)-T)):f.exp(-v+k*f.log(v)-V)))/(1-.5*f.min(1,w*((S-1)/v-1))))<=0&&(v=.5*(v+g)),f.abs(g)<1e-8*v)break}return v},u.erf=function(b){var S,v,g,w,A=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],T=A.length-1,O=!1,R=0,k=0;for(b<0&&(b=-b,O=!0),v=4*(S=2/(2+b))-2;T>0;T--)g=R,R=v*R-k+A[T],k=g;return w=S*f.exp(-b*b+.5*(A[0]+v*R)-k),O?w-1:1-w},u.erfc=function(b){return 1-u.erf(b)},u.erfcinv=function(b){var S,v,g,w,A=0;if(b>=2)return-100;if(b<=0)return 100;for(w=b<1?b:2-b,S=-.70711*((2.30753+.27061*(g=f.sqrt(-2*f.log(w/2))))/(1+g*(.99229+.04481*g))-g);A<2;A++)S+=(v=u.erfc(S)-w)/(1.1283791670955126*f.exp(-S*S)-S*v);return b<1?S:-S},u.ibetainv=function(b,S,v){var g,w,A,T,O,R,k,V,P,B,j=S-1,q=v-1,Y=0;if(b<=0)return 0;if(b>=1)return 1;for(S>=1&&v>=1?(A=b<.5?b:1-b,R=(2.30753+.27061*(T=f.sqrt(-2*f.log(A))))/(1+T*(.99229+.04481*T))-T,b<.5&&(R=-R),k=(R*R-3)/6,V=2/(1/(2*S-1)+1/(2*v-1)),P=R*f.sqrt(k+V)/V-(1/(2*v-1)-1/(2*S-1))*(k+.8333333333333334-2/(3*V)),R=S/(S+v*f.exp(2*P))):(g=f.log(S/(S+v)),w=f.log(v/(S+v)),R=b<(T=f.exp(S*g)/S)/(P=T+(O=f.exp(v*w)/v))?f.pow(S*P*b,1/S):1-f.pow(v*P*(1-b),1/v)),B=-u.gammaln(S)-u.gammaln(v)+u.gammaln(S+v);Y<10;Y++){if(R===0||R===1)return R;if((R-=T=(O=(u.ibeta(R,S,v)-b)/(T=f.exp(j*f.log(R)+q*f.log(1-R)+B)))/(1-.5*f.min(1,O*(j/R-q/(1-R)))))<=0&&(R=.5*(R+T)),R>=1&&(R=.5*(R+T+1)),f.abs(T)<1e-8*R&&Y>0)break}return R},u.ibeta=function(b,S,v){var g=b===0||b===1?0:f.exp(u.gammaln(S+v)-u.gammaln(S)-u.gammaln(v)+S*f.log(b)+v*f.log(1-b));return!(b<0||b>1)&&(b<(S+1)/(S+v+2)?g*u.betacf(b,S,v)/S:1-g*u.betacf(1-b,v,S)/v)},u.randn=function(b,S){var v,g,w,A,T;if(S||(S=b),b)return u.create(b,S,function(){return u.randn()});do v=u._random_fn(),g=1.7156*(u._random_fn()-.5),T=(w=v-.449871)*w+(A=f.abs(g)+.386595)*(.196*A-.25472*w);while(T>.27597&&(T>.27846||g*g>-4*f.log(v)*v*v));return g/v},u.randg=function(b,S,v){var g,w,A,T,O,R,k=b;if(v||(v=S),b||(b=1),S)return(R=u.zeros(S,v)).alter(function(){return u.randg(b)}),R;b<1&&(b+=1),g=b-.3333333333333333,w=1/f.sqrt(9*g);do{do T=1+w*(O=u.randn());while(T<=0);T*=T*T,A=u._random_fn()}while(A>1-.331*f.pow(O,4)&&f.log(A)>.5*O*O+g*(1-T+f.log(T)));if(b==k)return g*T;do A=u._random_fn();while(A===0);return f.pow(A,1/k)*g*T},function(b){for(var S=0;S<b.length;S++)(function(v){u.fn[v]=function(){return u(u.map(this,function(g){return u[v](g)}))}})(b[S])}("gammaln gammafn factorial factorialln".split(" ")),function(b){for(var S=0;S<b.length;S++)(function(v){u.fn[v]=function(){return u(u[v].apply(null,arguments))}})(b[S])}("randn".split(" "))}(l,Math),function(u,f){function b(v,g,w,A){for(var T,O=0,R=1,k=1,V=1,P=0,B=0;f.abs((k-B)/k)>A;)B=k,R=V+(T=-(g+P)*(g+w+P)*v/(g+2*P)/(g+2*P+1))*R,k=(O=k+T*O)+(T=(P+=1)*(w-P)*v/(g+2*P-1)/(g+2*P))*k,O/=V=R+T*V,R/=V,k/=V,V=1;return k/g}function S(v,g,w){var A=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],T=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],O=.5*v;if(O>=8)return 1;var R,k=2*u.normal.cdf(O,0,1,1,0)-1;k=k>=f.exp(-50/w)?f.pow(k,w):0;for(var V=O,P=(8-O)/(R=v>3?2:3),B=V+P,j=0,q=w-1,Y=1;Y<=R;Y++){for(var ae=0,me=.5*(B+V),Q=.5*(B-V),le=1;le<=12;le++){var Se,ve=me+Q*(6<le?A[(Se=12-le+1)-1]:-A[(Se=le)-1]),fe=ve*ve;if(fe>60)break;var Ne=2*u.normal.cdf(ve,0,1,1,0)*.5-2*u.normal.cdf(ve,v,1,1,0)*.5;Ne>=f.exp(-30/q)&&(ae+=Ne=T[Se-1]*f.exp(-.5*fe)*f.pow(Ne,q))}j+=ae*=2*Q*w/f.sqrt(2*f.PI),V=B,B+=P}return(k+=j)<=f.exp(-30/g)?0:(k=f.pow(k,g))>=1?1:k}(function(v){for(var g=0;g<v.length;g++)(function(w){u[w]=function A(T,O,R){return this instanceof A?(this._a=T,this._b=O,this._c=R,this):new A(T,O,R)},u.fn[w]=function(A,T,O){var R=u[w](A,T,O);return R.data=this,R},u[w].prototype.sample=function(A){var T=this._a,O=this._b,R=this._c;return A?u.alter(A,function(){return u[w].sample(T,O,R)}):u[w].sample(T,O,R)},function(A){for(var T=0;T<A.length;T++)(function(O){u[w].prototype[O]=function(R){var k=this._a,V=this._b,P=this._c;return R||R===0||(R=this.data),typeof R!="number"?u.fn.map.call(R,function(B){return u[w][O](B,k,V,P)}):u[w][O](R,k,V,P)}})(A[T])}("pdf cdf inv".split(" ")),function(A){for(var T=0;T<A.length;T++)(function(O){u[w].prototype[O]=function(){return u[w][O](this._a,this._b,this._c)}})(A[T])}("mean median mode variance".split(" "))})(v[g])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),u.extend(u.beta,{pdf:function(v,g,w){return v>1||v<0?0:g==1&&w==1?1:g<512&&w<512?f.pow(v,g-1)*f.pow(1-v,w-1)/u.betafn(g,w):f.exp((g-1)*f.log(v)+(w-1)*f.log(1-v)-u.betaln(g,w))},cdf:function(v,g,w){return v>1||v<0?1*(v>1):u.ibeta(v,g,w)},inv:function(v,g,w){return u.ibetainv(v,g,w)},mean:function(v,g){return v/(v+g)},median:function(v,g){return u.ibetainv(.5,v,g)},mode:function(v,g){return(v-1)/(v+g-2)},sample:function(v,g){var w=u.randg(v);return w/(w+u.randg(g))},variance:function(v,g){return v*g/(f.pow(v+g,2)*(v+g+1))}}),u.extend(u.centralF,{pdf:function(v,g,w){var A;return v<0?0:g<=2?v===0&&g<2?1/0:v===0&&g===2?1:1/u.betafn(g/2,w/2)*f.pow(g/w,g/2)*f.pow(v,g/2-1)*f.pow(1+g/w*v,-(g+w)/2):(A=g*v/(w+v*g),g*(w/(w+v*g))/2*u.binomial.pdf((g-2)/2,(g+w-2)/2,A))},cdf:function(v,g,w){return v<0?0:u.ibeta(g*v/(g*v+w),g/2,w/2)},inv:function(v,g,w){return w/(g*(1/u.ibetainv(v,g/2,w/2)-1))},mean:function(v,g){return g>2?g/(g-2):void 0},mode:function(v,g){return v>2?g*(v-2)/(v*(g+2)):void 0},sample:function(v,g){return 2*u.randg(v/2)/v/(2*u.randg(g/2)/g)},variance:function(v,g){if(!(g<=4))return 2*g*g*(v+g-2)/(v*(g-2)*(g-2)*(g-4))}}),u.extend(u.cauchy,{pdf:function(v,g,w){return w<0?0:w/(f.pow(v-g,2)+f.pow(w,2))/f.PI},cdf:function(v,g,w){return f.atan((v-g)/w)/f.PI+.5},inv:function(v,g,w){return g+w*f.tan(f.PI*(v-.5))},median:function(v){return v},mode:function(v){return v},sample:function(v,g){return u.randn()*f.sqrt(1/(2*u.randg(.5)))*g+v}}),u.extend(u.chisquare,{pdf:function(v,g){return v<0?0:v===0&&g===2?.5:f.exp((g/2-1)*f.log(v)-v/2-g/2*f.log(2)-u.gammaln(g/2))},cdf:function(v,g){return v<0?0:u.lowRegGamma(g/2,v/2)},inv:function(v,g){return 2*u.gammapinv(v,.5*g)},mean:function(v){return v},median:function(v){return v*f.pow(1-2/(9*v),3)},mode:function(v){return v-2>0?v-2:0},sample:function(v){return 2*u.randg(v/2)},variance:function(v){return 2*v}}),u.extend(u.exponential,{pdf:function(v,g){return v<0?0:g*f.exp(-g*v)},cdf:function(v,g){return v<0?0:1-f.exp(-g*v)},inv:function(v,g){return-f.log(1-v)/g},mean:function(v){return 1/v},median:function(v){return 1/v*f.log(2)},mode:function(){return 0},sample:function(v){return-1/v*f.log(u._random_fn())},variance:function(v){return f.pow(v,-2)}}),u.extend(u.gamma,{pdf:function(v,g,w){return v<0?0:v===0&&g===1?1/w:f.exp((g-1)*f.log(v)-v/w-u.gammaln(g)-g*f.log(w))},cdf:function(v,g,w){return v<0?0:u.lowRegGamma(g,v/w)},inv:function(v,g,w){return u.gammapinv(v,g)*w},mean:function(v,g){return v*g},mode:function(v,g){if(v>1)return(v-1)*g},sample:function(v,g){return u.randg(v)*g},variance:function(v,g){return v*g*g}}),u.extend(u.invgamma,{pdf:function(v,g,w){return v<=0?0:f.exp(-(g+1)*f.log(v)-w/v-u.gammaln(g)+g*f.log(w))},cdf:function(v,g,w){return v<=0?0:1-u.lowRegGamma(g,w/v)},inv:function(v,g,w){return w/u.gammapinv(1-v,g)},mean:function(v,g){return v>1?g/(v-1):void 0},mode:function(v,g){return g/(v+1)},sample:function(v,g){return g/u.randg(v)},variance:function(v,g){if(!(v<=2))return g*g/((v-1)*(v-1)*(v-2))}}),u.extend(u.kumaraswamy,{pdf:function(v,g,w){return v===0&&g===1?w:v===1&&w===1?g:f.exp(f.log(g)+f.log(w)+(g-1)*f.log(v)+(w-1)*f.log(1-f.pow(v,g)))},cdf:function(v,g,w){return v<0?0:v>1?1:1-f.pow(1-f.pow(v,g),w)},inv:function(v,g,w){return f.pow(1-f.pow(1-v,1/w),1/g)},mean:function(v,g){return g*u.gammafn(1+1/v)*u.gammafn(g)/u.gammafn(1+1/v+g)},median:function(v,g){return f.pow(1-f.pow(2,-1/g),1/v)},mode:function(v,g){if(v>=1&&g>=1&&v!==1&&g!==1)return f.pow((v-1)/(v*g-1),1/v)},variance:function(){throw new Error("variance not yet implemented")}}),u.extend(u.lognormal,{pdf:function(v,g,w){return v<=0?0:f.exp(-f.log(v)-.5*f.log(2*f.PI)-f.log(w)-f.pow(f.log(v)-g,2)/(2*w*w))},cdf:function(v,g,w){return v<0?0:.5+.5*u.erf((f.log(v)-g)/f.sqrt(2*w*w))},inv:function(v,g,w){return f.exp(-1.4142135623730951*w*u.erfcinv(2*v)+g)},mean:function(v,g){return f.exp(v+g*g/2)},median:function(v){return f.exp(v)},mode:function(v,g){return f.exp(v-g*g)},sample:function(v,g){return f.exp(u.randn()*g+v)},variance:function(v,g){return(f.exp(g*g)-1)*f.exp(2*v+g*g)}}),u.extend(u.noncentralt,{pdf:function(v,g,w){return f.abs(w)<1e-14?u.studentt.pdf(v,g):f.abs(v)<1e-14?f.exp(u.gammaln((g+1)/2)-w*w/2-.5*f.log(f.PI*g)-u.gammaln(g/2)):g/v*(u.noncentralt.cdf(v*f.sqrt(1+2/g),g+2,w)-u.noncentralt.cdf(v,g,w))},cdf:function(v,g,w){var A=1e-14;if(f.abs(w)<A)return u.studentt.cdf(v,g);var T=!1;v<0&&(T=!0,w=-w);for(var O=u.normal.cdf(-w,0,1),R=A+1,k=R,V=v*v/(v*v+g),P=0,B=f.exp(-w*w/2),j=f.exp(-w*w/2-.5*f.log(2)-u.gammaln(1.5))*w;P<200||k>A||R>A;)k=R,P>0&&(B*=w*w/(2*P),j*=w*w/(2*(P+.5))),O+=.5*(R=B*u.beta.cdf(V,P+.5,g/2)+j*u.beta.cdf(V,P+1,g/2)),P++;return T?1-O:O}}),u.extend(u.normal,{pdf:function(v,g,w){return f.exp(-.5*f.log(2*f.PI)-f.log(w)-f.pow(v-g,2)/(2*w*w))},cdf:function(v,g,w){return .5*(1+u.erf((v-g)/f.sqrt(2*w*w)))},inv:function(v,g,w){return-1.4142135623730951*w*u.erfcinv(2*v)+g},mean:function(v){return v},median:function(v){return v},mode:function(v){return v},sample:function(v,g){return u.randn()*g+v},variance:function(v,g){return g*g}}),u.extend(u.pareto,{pdf:function(v,g,w){return v<g?0:w*f.pow(g,w)/f.pow(v,w+1)},cdf:function(v,g,w){return v<g?0:1-f.pow(g/v,w)},inv:function(v,g,w){return g/f.pow(1-v,1/w)},mean:function(v,g){if(!(g<=1))return g*f.pow(v,g)/(g-1)},median:function(v,g){return v*(g*f.SQRT2)},mode:function(v){return v},variance:function(v,g){if(!(g<=2))return v*v*g/(f.pow(g-1,2)*(g-2))}}),u.extend(u.studentt,{pdf:function(v,g){return g=g>1e100?1e100:g,1/(f.sqrt(g)*u.betafn(.5,g/2))*f.pow(1+v*v/g,-(g+1)/2)},cdf:function(v,g){var w=g/2;return u.ibeta((v+f.sqrt(v*v+g))/(2*f.sqrt(v*v+g)),w,w)},inv:function(v,g){var w=u.ibetainv(2*f.min(v,1-v),.5*g,.5);return w=f.sqrt(g*(1-w)/w),v>.5?w:-w},mean:function(v){return v>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(v){return u.randn()*f.sqrt(v/(2*u.randg(v/2)))},variance:function(v){return v>2?v/(v-2):v>1?1/0:void 0}}),u.extend(u.weibull,{pdf:function(v,g,w){return v<0||g<0||w<0?0:w/g*f.pow(v/g,w-1)*f.exp(-f.pow(v/g,w))},cdf:function(v,g,w){return v<0?0:1-f.exp(-f.pow(v/g,w))},inv:function(v,g,w){return g*f.pow(-f.log(1-v),1/w)},mean:function(v,g){return v*u.gammafn(1+1/g)},median:function(v,g){return v*f.pow(f.log(2),1/g)},mode:function(v,g){return g<=1?0:v*f.pow((g-1)/g,1/g)},sample:function(v,g){return v*f.pow(-f.log(u._random_fn()),1/g)},variance:function(v,g){return v*v*u.gammafn(1+2/g)-f.pow(u.weibull.mean(v,g),2)}}),u.extend(u.uniform,{pdf:function(v,g,w){return v<g||v>w?0:1/(w-g)},cdf:function(v,g,w){return v<g?0:v<w?(v-g)/(w-g):1},inv:function(v,g,w){return g+v*(w-g)},mean:function(v,g){return .5*(v+g)},median:function(v,g){return u.mean(v,g)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(v,g){return v/2+g/2+(g/2-v/2)*(2*u._random_fn()-1)},variance:function(v,g){return f.pow(g-v,2)/12}}),u.extend(u.binomial,{pdf:function(v,g,w){return w===0||w===1?g*w===v?1:0:u.combination(g,v)*f.pow(w,v)*f.pow(1-w,g-v)},cdf:function(v,g,w){var A,T=1e-10;if(v<0)return 0;if(v>=g)return 1;if(w<0||w>1||g<=0)return NaN;var O=w,R=(v=f.floor(v))+1,k=g-v,V=R+k,P=f.exp(u.gammaln(V)-u.gammaln(k)-u.gammaln(R)+R*f.log(O)+k*f.log(1-O));return A=O<(R+1)/(V+2)?P*b(O,R,k,T):1-P*b(1-O,k,R,T),f.round(1/T*(1-A))/(1/T)}}),u.extend(u.negbin,{pdf:function(v,g,w){return v===v>>>0&&(v<0?0:u.combination(v+g-1,g-1)*f.pow(1-w,v)*f.pow(w,g))},cdf:function(v,g,w){var A=0,T=0;if(v<0)return 0;for(;T<=v;T++)A+=u.negbin.pdf(T,g,w);return A}}),u.extend(u.hypgeom,{pdf:function(v,g,w,A){if(v!=v|0)return!1;if(v<0||v<w-(g-A)||v>A||v>w)return 0;if(2*w>g)return 2*A>g?u.hypgeom.pdf(g-w-A+v,g,g-w,g-A):u.hypgeom.pdf(A-v,g,g-w,A);if(2*A>g)return u.hypgeom.pdf(w-v,g,w,g-A);if(w<A)return u.hypgeom.pdf(v,g,A,w);for(var T=1,O=0,R=0;R<v;R++){for(;T>1&&O<A;)T*=1-w/(g-O),O++;T*=(A-R)*(w-R)/((R+1)*(g-w-A+R+1))}for(;O<A;O++)T*=1-w/(g-O);return f.min(1,f.max(0,T))},cdf:function(v,g,w,A){if(v<0||v<w-(g-A))return 0;if(v>=A||v>=w)return 1;if(2*w>g)return 2*A>g?u.hypgeom.cdf(g-w-A+v,g,g-w,g-A):1-u.hypgeom.cdf(A-v-1,g,g-w,A);if(2*A>g)return 1-u.hypgeom.cdf(w-v-1,g,w,g-A);if(w<A)return u.hypgeom.cdf(v,g,A,w);for(var T=1,O=1,R=0,k=0;k<v;k++){for(;T>1&&R<A;){var V=1-w/(g-R);O*=V,T*=V,R++}T+=O*=(A-k)*(w-k)/((k+1)*(g-w-A+k+1))}for(;R<A;R++)T*=1-w/(g-R);return f.min(1,f.max(0,T))}}),u.extend(u.poisson,{pdf:function(v,g){return g<0||v%1!=0||v<0?0:f.pow(g,v)*f.exp(-g)/u.factorial(v)},cdf:function(v,g){var w=[],A=0;if(v<0)return 0;for(;A<=v;A++)w.push(u.poisson.pdf(A,g));return u.sum(w)},mean:function(v){return v},variance:function(v){return v},sampleSmall:function(v){var g=1,w=0,A=f.exp(-v);do w++,g*=u._random_fn();while(g>A);return w-1},sampleLarge:function(v){var g,w,A,T,O,R,k,V,P,B,j=v;for(T=f.sqrt(j),O=f.log(j),R=.02483*(k=.931+2.53*T)-.059,V=1.1239+1.1328/(k-3.4),P=.9277-3.6224/(k-2);;)if(w=f.random()-.5,A=f.random(),B=.5-f.abs(w),g=f.floor((2*R/B+k)*w+j+.43),B>=.07&&A<=P||!(g<0||B<.013&&A>B)&&f.log(A)+f.log(V)-f.log(R/(B*B)+k)<=g*O-j-u.loggam(g+1))return g},sample:function(v){return v<10?this.sampleSmall(v):this.sampleLarge(v)}}),u.extend(u.triangular,{pdf:function(v,g,w,A){return w<=g||A<g||A>w?NaN:v<g||v>w?0:v<A?2*(v-g)/((w-g)*(A-g)):v===A?2/(w-g):2*(w-v)/((w-g)*(w-A))},cdf:function(v,g,w,A){return w<=g||A<g||A>w?NaN:v<=g?0:v>=w?1:v<=A?f.pow(v-g,2)/((w-g)*(A-g)):1-f.pow(w-v,2)/((w-g)*(w-A))},inv:function(v,g,w,A){return w<=g||A<g||A>w?NaN:v<=(A-g)/(w-g)?g+(w-g)*f.sqrt(v*((A-g)/(w-g))):g+(w-g)*(1-f.sqrt((1-v)*(1-(A-g)/(w-g))))},mean:function(v,g,w){return(v+g+w)/3},median:function(v,g,w){return w<=(v+g)/2?g-f.sqrt((g-v)*(g-w))/f.sqrt(2):w>(v+g)/2?v+f.sqrt((g-v)*(w-v))/f.sqrt(2):void 0},mode:function(v,g,w){return w},sample:function(v,g,w){var A=u._random_fn();return A<(w-v)/(g-v)?v+f.sqrt(A*(g-v)*(w-v)):g-f.sqrt((1-A)*(g-v)*(g-w))},variance:function(v,g,w){return(v*v+g*g+w*w-v*g-v*w-g*w)/18}}),u.extend(u.arcsine,{pdf:function(v,g,w){return w<=g?NaN:v<=g||v>=w?0:2/f.PI*f.pow(f.pow(w-g,2)-f.pow(2*v-g-w,2),-.5)},cdf:function(v,g,w){return v<g?0:v<w?2/f.PI*f.asin(f.sqrt((v-g)/(w-g))):1},inv:function(v,g,w){return g+(.5-.5*f.cos(f.PI*v))*(w-g)},mean:function(v,g){return g<=v?NaN:(v+g)/2},median:function(v,g){return g<=v?NaN:(v+g)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(v,g){return(v+g)/2+(g-v)/2*f.sin(2*f.PI*u.uniform.sample(0,1))},variance:function(v,g){return g<=v?NaN:f.pow(g-v,2)/8}}),u.extend(u.laplace,{pdf:function(v,g,w){return w<=0?0:f.exp(-f.abs(v-g)/w)/(2*w)},cdf:function(v,g,w){return w<=0?0:v<g?.5*f.exp((v-g)/w):1-.5*f.exp(-(v-g)/w)},mean:function(v){return v},median:function(v){return v},mode:function(v){return v},variance:function(v,g){return 2*g*g},sample:function(v,g){var w,A=u._random_fn()-.5;return v-g*((w=A)/f.abs(w))*f.log(1-2*f.abs(A))}}),u.extend(u.tukey,{cdf:function(v,g,w){var A=g,T=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],O=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(v<=0)return 0;if(w<2||A<2)return NaN;if(!Number.isFinite(v))return 1;if(w>25e3)return S(v,1,A);var R,k=.5*w,V=k*f.log(w)-w*f.log(2)-u.gammaln(k),P=k-1,B=.25*w;R=w<=100?1:w<=800?.5:w<=5e3?.25:.125,V+=f.log(R);for(var j=0,q=1;q<=50;q++){for(var Y=0,ae=(2*q-1)*R,me=1;me<=16;me++){var Q,le;8<me?(Q=me-8-1,le=V+P*f.log(ae+T[Q]*R)-(T[Q]*R+ae)*B):(Q=me-1,le=V+P*f.log(ae-T[Q]*R)+(T[Q]*R-ae)*B),le>=-30&&(Y+=S(8<me?v*f.sqrt(.5*(T[Q]*R+ae)):v*f.sqrt(.5*(-T[Q]*R+ae)),1,A)*O[Q]*f.exp(le))}if(q*R>=1&&Y<=1e-14)break;j+=Y}if(Y>1e-14)throw new Error("tukey.cdf failed to converge");return j>1&&(j=1),j},inv:function(v,g,w){if(w<2||g<2)return NaN;if(v<0||v>1)return NaN;if(v===0)return 0;if(v===1)return 1/0;var A,T=function(P,B,j){var q=.5-.5*P,Y=f.sqrt(f.log(1/(q*q))),ae=Y+((((-453642210148e-16*Y-.204231210125)*Y-.342242088547)*Y-1)*Y+.322232421088)/((((.0038560700634*Y+.10353775285)*Y+.531103462366)*Y+.588581570495)*Y+.099348462606);j<120&&(ae+=(ae*ae*ae+ae)/j/4);var me=.8832-.2368*ae;return j<120&&(me+=-1.214/j+1.208*ae/j),ae*(me*f.log(B-1)+1.4142)}(v,g,w),O=u.tukey.cdf(T,g,w)-v;A=O>0?f.max(0,T-1):T+1;for(var R,k=u.tukey.cdf(A,g,w)-v,V=1;V<50;V++)if(R=A-k*(A-T)/(k-O),O=k,T=A,R<0&&(R=0,k=-v),k=u.tukey.cdf(R,g,w)-v,A=R,f.abs(A-T)<1e-4)return R;throw new Error("tukey.inv failed to converge")}})}(l,Math),function(u,f){var b,S,v=Array.prototype.push,g=u.utils.isArray;function w(A){return g(A)||A instanceof u}u.extend({add:function(A,T){return w(T)?(w(T[0])||(T=[T]),u.map(A,function(O,R,k){return O+T[R][k]})):u.map(A,function(O){return O+T})},subtract:function(A,T){return w(T)?(w(T[0])||(T=[T]),u.map(A,function(O,R,k){return O-T[R][k]||0})):u.map(A,function(O){return O-T})},divide:function(A,T){return w(T)?(w(T[0])||(T=[T]),u.multiply(A,u.inv(T))):u.map(A,function(O){return O/T})},multiply:function(A,T){var O,R,k,V,P,B,j,q;if(A.length===void 0&&T.length===void 0)return A*T;if(P=A.length,B=A[0].length,j=u.zeros(P,k=w(T)?T[0].length:B),q=0,w(T)){for(;q<k;q++)for(O=0;O<P;O++){for(V=0,R=0;R<B;R++)V+=A[O][R]*T[R][q];j[O][q]=V}return P===1&&q===1?j[0][0]:j}return u.map(A,function(Y){return Y*T})},outer:function(A,T){return u.multiply(A.map(function(O){return[O]}),[T])},dot:function(A,T){w(A[0])||(A=[A]),w(T[0])||(T=[T]);for(var O,R,k=A[0].length===1&&A.length!==1?u.transpose(A):A,V=T[0].length===1&&T.length!==1?u.transpose(T):T,P=[],B=0,j=k.length,q=k[0].length;B<j;B++){for(P[B]=[],O=0,R=0;R<q;R++)O+=k[B][R]*V[B][R];P[B]=O}return P.length===1?P[0]:P},pow:function(A,T){return u.map(A,function(O){return f.pow(O,T)})},exp:function(A){return u.map(A,function(T){return f.exp(T)})},log:function(A){return u.map(A,function(T){return f.log(T)})},abs:function(A){return u.map(A,function(T){return f.abs(T)})},norm:function(A,T){var O=0,R=0;for(isNaN(T)&&(T=2),w(A[0])&&(A=A[0]);R<A.length;R++)O+=f.pow(f.abs(A[R]),T);return f.pow(O,1/T)},angle:function(A,T){return f.acos(u.dot(A,T)/(u.norm(A)*u.norm(T)))},aug:function(A,T){var O,R=[];for(O=0;O<A.length;O++)R.push(A[O].slice());for(O=0;O<R.length;O++)v.apply(R[O],T[O]);return R},inv:function(A){for(var T,O=A.length,R=A[0].length,k=u.identity(O,R),V=u.gauss_jordan(A,k),P=[],B=0;B<O;B++)for(P[B]=[],T=R;T<V[0].length;T++)P[B][T-R]=V[B][T];return P},det:function A(T){if(T.length===2)return T[0][0]*T[1][1]-T[0][1]*T[1][0];for(var O=0,R=0;R<T.length;R++){for(var k=[],V=1;V<T.length;V++){k[V-1]=[];for(var P=0;P<T.length;P++)P<R?k[V-1][P]=T[V][P]:P>R&&(k[V-1][P-1]=T[V][P])}var B=R%2?-1:1;O+=A(k)*T[0][R]*B}return O},gauss_elimination:function(A,T){var O,R,k,V,P=0,B=0,j=A.length,q=A[0].length,Y=1,ae=0,me=[];for(O=(A=u.aug(A,T))[0].length,P=0;P<j;P++){for(R=A[P][P],B=P,V=P+1;V<q;V++)R<f.abs(A[V][P])&&(R=A[V][P],B=V);if(B!=P)for(V=0;V<O;V++)k=A[P][V],A[P][V]=A[B][V],A[B][V]=k;for(B=P+1;B<j;B++)for(Y=A[B][P]/A[P][P],V=P;V<O;V++)A[B][V]=A[B][V]-Y*A[P][V]}for(P=j-1;P>=0;P--){for(ae=0,B=P+1;B<=j-1;B++)ae+=me[B]*A[P][B];me[P]=(A[P][O-1]-ae)/A[P][P]}return me},gauss_jordan:function(A,T){var O,R,k,V=u.aug(A,T),P=V.length,B=V[0].length,j=0;for(R=0;R<P;R++){var q=R;for(k=R+1;k<P;k++)f.abs(V[k][R])>f.abs(V[q][R])&&(q=k);var Y=V[R];for(V[R]=V[q],V[q]=Y,k=R+1;k<P;k++)for(j=V[k][R]/V[R][R],O=R;O<B;O++)V[k][O]-=V[R][O]*j}for(R=P-1;R>=0;R--){for(j=V[R][R],k=0;k<R;k++)for(O=B-1;O>R-1;O--)V[k][O]-=V[R][O]*V[k][R]/j;for(V[R][R]/=j,O=P;O<B;O++)V[R][O]/=j}return V},triaUpSolve:function(A,T){var O,R=A[0].length,k=u.zeros(1,R)[0],V=!1;return T[0].length!=null&&(T=T.map(function(P){return P[0]}),V=!0),u.arange(R-1,-1,-1).forEach(function(P){O=u.arange(P+1,R).map(function(B){return k[B]*A[P][B]}),k[P]=(T[P]-u.sum(O))/A[P][P]}),V?k.map(function(P){return[P]}):k},triaLowSolve:function(A,T){var O,R=A[0].length,k=u.zeros(1,R)[0],V=!1;return T[0].length!=null&&(T=T.map(function(P){return P[0]}),V=!0),u.arange(R).forEach(function(P){O=u.arange(P).map(function(B){return A[P][B]*k[B]}),k[P]=(T[P]-u.sum(O))/A[P][P]}),V?k.map(function(P){return[P]}):k},lu:function(A){var T,O=A.length,R=u.identity(O),k=u.zeros(A.length,A[0].length);return u.arange(O).forEach(function(V){k[0][V]=A[0][V]}),u.arange(1,O).forEach(function(V){u.arange(V).forEach(function(P){T=u.arange(P).map(function(B){return R[V][B]*k[B][P]}),R[V][P]=(A[V][P]-u.sum(T))/k[P][P]}),u.arange(V,O).forEach(function(P){T=u.arange(V).map(function(B){return R[V][B]*k[B][P]}),k[V][P]=A[T.length][P]-u.sum(T)})}),[R,k]},cholesky:function(A){var T,O=A.length,R=u.zeros(A.length,A[0].length);return u.arange(O).forEach(function(k){T=u.arange(k).map(function(V){return f.pow(R[k][V],2)}),R[k][k]=f.sqrt(A[k][k]-u.sum(T)),u.arange(k+1,O).forEach(function(V){T=u.arange(k).map(function(P){return R[k][P]*R[V][P]}),R[V][k]=(A[k][V]-u.sum(T))/R[k][k]})}),R},gauss_jacobi:function(A,T,O,R){for(var k,V,P,B,j=0,q=0,Y=A.length,ae=[],me=[],Q=[];j<Y;j++)for(ae[j]=[],me[j]=[],Q[j]=[],q=0;q<Y;q++)j>q?(ae[j][q]=A[j][q],me[j][q]=Q[j][q]=0):j<q?(me[j][q]=A[j][q],ae[j][q]=Q[j][q]=0):(Q[j][q]=A[j][q],ae[j][q]=me[j][q]=0);for(P=u.multiply(u.multiply(u.inv(Q),u.add(ae,me)),-1),V=u.multiply(u.inv(Q),T),k=O,B=u.add(u.multiply(P,O),V),j=2;f.abs(u.norm(u.subtract(B,k)))>R;)k=B,B=u.add(u.multiply(P,k),V),j++;return B},gauss_seidel:function(A,T,O,R){for(var k,V,P,B,j,q=0,Y=A.length,ae=[],me=[],Q=[];q<Y;q++)for(ae[q]=[],me[q]=[],Q[q]=[],k=0;k<Y;k++)q>k?(ae[q][k]=A[q][k],me[q][k]=Q[q][k]=0):q<k?(me[q][k]=A[q][k],ae[q][k]=Q[q][k]=0):(Q[q][k]=A[q][k],ae[q][k]=me[q][k]=0);for(B=u.multiply(u.multiply(u.inv(u.add(Q,ae)),me),-1),P=u.multiply(u.inv(u.add(Q,ae)),T),V=O,j=u.add(u.multiply(B,O),P),q=2;f.abs(u.norm(u.subtract(j,V)))>R;)V=j,j=u.add(u.multiply(B,V),P),q+=1;return j},SOR:function(A,T,O,R,k){for(var V,P,B,j,q,Y=0,ae=A.length,me=[],Q=[],le=[];Y<ae;Y++)for(me[Y]=[],Q[Y]=[],le[Y]=[],V=0;V<ae;V++)Y>V?(me[Y][V]=A[Y][V],Q[Y][V]=le[Y][V]=0):Y<V?(Q[Y][V]=A[Y][V],me[Y][V]=le[Y][V]=0):(le[Y][V]=A[Y][V],me[Y][V]=Q[Y][V]=0);for(j=u.multiply(u.inv(u.add(le,u.multiply(me,k))),u.subtract(u.multiply(le,1-k),u.multiply(Q,k))),B=u.multiply(u.multiply(u.inv(u.add(le,u.multiply(me,k))),T),k),P=O,q=u.add(u.multiply(j,O),B),Y=2;f.abs(u.norm(u.subtract(q,P)))>R;)P=q,q=u.add(u.multiply(j,P),B),Y++;return q},householder:function(A){for(var T,O,R,k,V=A.length,P=A[0].length,B=0,j=[],q=[];B<V-1;B++){for(T=0,k=B+1;k<P;k++)T+=A[k][B]*A[k][B];for(T=(A[B+1][B]>0?-1:1)*f.sqrt(T),O=f.sqrt((T*T-A[B+1][B]*T)/2),(j=u.zeros(V,1))[B+1][0]=(A[B+1][B]-T)/(2*O),R=B+2;R<V;R++)j[R][0]=A[R][B]/(2*O);q=u.subtract(u.identity(V,P),u.multiply(u.multiply(j,u.transpose(j)),2)),A=u.multiply(q,u.multiply(A,q))}return A},QR:(b=u.sum,S=u.arange,function(A){var T,O,R,k=A.length,V=A[0].length,P=u.zeros(V,V);for(A=u.copy(A),O=0;O<V;O++){for(P[O][O]=f.sqrt(b(S(k).map(function(B){return A[B][O]*A[B][O]}))),T=0;T<k;T++)A[T][O]=A[T][O]/P[O][O];for(R=O+1;R<V;R++)for(P[O][R]=b(S(k).map(function(B){return A[B][O]*A[B][R]})),T=0;T<k;T++)A[T][R]=A[T][R]-A[T][O]*P[O][R]}return[A,P]}),lstsq:function(A,T){var O=!1;T[0].length===void 0&&(T=T.map(function(ae){return[ae]}),O=!0);var R=u.QR(A),k=R[0],V=R[1],P=A[0].length,B=u.slice(k,{col:{end:P}}),j=function(ae){var me=(ae=u.copy(ae)).length,Q=u.identity(me);return u.arange(me-1,-1,-1).forEach(function(le){u.sliceAssign(Q,{row:le},u.divide(u.slice(Q,{row:le}),ae[le][le])),u.sliceAssign(ae,{row:le},u.divide(u.slice(ae,{row:le}),ae[le][le])),u.arange(le).forEach(function(Se){var ve=u.multiply(ae[Se][le],-1),fe=u.slice(ae,{row:Se}),Ne=u.multiply(u.slice(ae,{row:le}),ve);u.sliceAssign(ae,{row:Se},u.add(fe,Ne));var st=u.slice(Q,{row:Se}),ft=u.multiply(u.slice(Q,{row:le}),ve);u.sliceAssign(Q,{row:Se},u.add(st,ft))})}),Q}(u.slice(V,{row:{end:P}})),q=u.transpose(B);q[0].length===void 0&&(q=[q]);var Y=u.multiply(u.multiply(j,q),T);return Y.length===void 0&&(Y=[[Y]]),O?Y.map(function(ae){return ae[0]}):Y},jacobi:function(A){for(var T,O,R,k,V,P,B,j=1,q=A.length,Y=u.identity(q,q),ae=[];j===1;){for(V=A[0][1],R=0,k=1,T=0;T<q;T++)for(O=0;O<q;O++)T!=O&&V<f.abs(A[T][O])&&(V=f.abs(A[T][O]),R=T,k=O);for(P=A[R][R]===A[k][k]?A[R][k]>0?f.PI/4:-f.PI/4:f.atan(2*A[R][k]/(A[R][R]-A[k][k]))/2,(B=u.identity(q,q))[R][R]=f.cos(P),B[R][k]=-f.sin(P),B[k][R]=f.sin(P),B[k][k]=f.cos(P),Y=u.multiply(Y,B),A=u.multiply(u.multiply(u.inv(B),A),B),j=0,T=1;T<q;T++)for(O=1;O<q;O++)T!=O&&f.abs(A[T][O])>.001&&(j=1)}for(T=0;T<q;T++)ae.push(A[T][T]);return[Y,ae]},rungekutta:function(A,T,O,R,k,V){var P,B,j;if(V===2)for(;R<=O;)k+=((P=T*A(R,k))+(B=T*A(R+T,k+P)))/2,R+=T;if(V===4)for(;R<=O;)k+=((P=T*A(R,k))+2*(B=T*A(R+T/2,k+P/2))+2*(j=T*A(R+T/2,k+B/2))+T*A(R+T,k+j))/6,R+=T;return k},romberg:function(A,T,O,R){for(var k,V,P,B,j,q=0,Y=(O-T)/2,ae=[],me=[],Q=[];q<R/2;){for(j=A(T),P=T,B=0;P<=O;P+=Y,B++)ae[B]=P;for(k=ae.length,P=1;P<k-1;P++)j+=(P%2!=0?4:2)*A(ae[P]);j=Y/3*(j+A(O)),Q[q]=j,Y/=2,q++}for(V=Q.length,k=1;V!==1;){for(P=0;P<V-1;P++)me[P]=(f.pow(4,k)*Q[P+1]-Q[P])/(f.pow(4,k)-1);V=me.length,Q=me,me=[],k++}return Q},richardson:function(A,T,O,R){function k(le,Se){for(var ve,fe=0,Ne=le.length;fe<Ne;fe++)le[fe]===Se&&(ve=fe);return ve}for(var V,P,B,j,q,Y=f.abs(O-A[k(A,O)+1]),ae=0,me=[],Q=[];R>=Y;)V=k(A,O+R),P=k(A,O),me[ae]=(T[V]-2*T[P]+T[2*P-V])/(R*R),R/=2,ae++;for(j=me.length,B=1;j!=1;){for(q=0;q<j-1;q++)Q[q]=(f.pow(4,B)*me[q+1]-me[q])/(f.pow(4,B)-1);j=Q.length,me=Q,Q=[],B++}return me},simpson:function(A,T,O,R){for(var k,V=(O-T)/R,P=A(T),B=[],j=T,q=0,Y=1;j<=O;j+=V,q++)B[q]=j;for(k=B.length;Y<k-1;Y++)P+=(Y%2!=0?4:2)*A(B[Y]);return V/3*(P+A(O))},hermite:function(A,T,O,R){for(var k,V=A.length,P=0,B=0,j=[],q=[],Y=[],ae=[];B<V;B++){for(j[B]=1,k=0;k<V;k++)B!=k&&(j[B]*=(R-A[k])/(A[B]-A[k]));for(q[B]=0,k=0;k<V;k++)B!=k&&(q[B]+=1/(A[B]-A[k]));Y[B]=(1-2*(R-A[B])*q[B])*(j[B]*j[B]),ae[B]=(R-A[B])*(j[B]*j[B]),P+=Y[B]*T[B]+ae[B]*O[B]}return P},lagrange:function(A,T,O){for(var R,k,V=0,P=0,B=A.length;P<B;P++){for(k=T[P],R=0;R<B;R++)P!=R&&(k*=(O-A[R])/(A[P]-A[R]));V+=k}return V},cubic_spline:function(A,T,O){for(var R,k,V=A.length,P=0,B=[],j=[],q=[],Y=[],ae=[],me=[];P<V-1;P++)Y[P]=A[P+1]-A[P];for(q[0]=0,P=1;P<V-1;P++)q[P]=3/Y[P]*(T[P+1]-T[P])-3/Y[P-1]*(T[P]-T[P-1]);for(P=1;P<V-1;P++)B[P]=[],j[P]=[],B[P][P-1]=Y[P-1],B[P][P]=2*(Y[P-1]+Y[P]),B[P][P+1]=Y[P],j[P][0]=q[P];for(k=u.multiply(u.inv(B),j),R=0;R<V-1;R++)ae[R]=(T[R+1]-T[R])/Y[R]-Y[R]*(k[R+1][0]+2*k[R][0])/3,me[R]=(k[R+1][0]-k[R][0])/(3*Y[R]);for(R=0;R<V&&!(A[R]>O);R++);return T[R-=1]+(O-A[R])*ae[R]+u.sq(O-A[R])*k[R]+(O-A[R])*u.sq(O-A[R])*me[R]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(A){var T,O,R,k,V,P=A.length,B=A[0].length,j=0,q=[],Y=[],ae=[],me=[],Q=[],le=[],Se=[];for(j=0;j<P;j++)q[j]=u.sum(A[j])/B;for(j=0;j<B;j++)for(Q[j]=[],T=0;T<P;T++)Q[j][T]=A[T][j]-q[T];for(Q=u.transpose(Q),j=0;j<P;j++)for(le[j]=[],T=0;T<P;T++)le[j][T]=u.dot([Q[j]],[Q[T]])/(B-1);for(V=(R=u.jacobi(le))[0],Y=R[1],Se=u.transpose(V),j=0;j<Y.length;j++)for(T=j;T<Y.length;T++)Y[j]<Y[T]&&(O=Y[j],Y[j]=Y[T],Y[T]=O,ae=Se[j],Se[j]=Se[T],Se[T]=ae);for(k=u.transpose(Q),j=0;j<P;j++)for(me[j]=[],T=0;T<k.length;T++)me[j][T]=u.dot([Se[j]],[k[T]]);return[A,Y,Se,me]}}),function(A){for(var T=0;T<A.length;T++)(function(O){u.fn[O]=function(R,k){var V=this;return k?(setTimeout(function(){k.call(V,u.fn[O].call(V,R))},15),this):typeof u[O](this,R)=="number"?u[O](this,R):u(u[O](this,R))}})(A[T])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(l,Math),function(u,f){var b=[].slice,S=u.utils.isNumber,v=u.utils.isArray;function g(w,A,T,O){if(w>1||T>1||w<=0||T<=0)throw new Error("Proportions should be greater than 0 and less than 1");var R=(w*A+T*O)/(A+O);return(w-T)/f.sqrt(R*(1-R)*(1/A+1/O))}u.extend({zscore:function(){var w=b.call(arguments);return S(w[1])?(w[0]-w[1])/w[2]:(w[0]-u.mean(w[1]))/u.stdev(w[1],w[2])},ztest:function(){var w,A=b.call(arguments);return v(A[1])?(w=u.zscore(A[0],A[1],A[3]),A[2]===1?u.normal.cdf(-f.abs(w),0,1):2*u.normal.cdf(-f.abs(w),0,1)):A.length>2?(w=u.zscore(A[0],A[1],A[2]),A[3]===1?u.normal.cdf(-f.abs(w),0,1):2*u.normal.cdf(-f.abs(w),0,1)):(w=A[0],A[1]===1?u.normal.cdf(-f.abs(w),0,1):2*u.normal.cdf(-f.abs(w),0,1))}}),u.extend(u.fn,{zscore:function(w,A){return(w-this.mean())/this.stdev(A)},ztest:function(w,A,T){var O=f.abs(this.zscore(w,T));return A===1?u.normal.cdf(-O,0,1):2*u.normal.cdf(-O,0,1)}}),u.extend({tscore:function(){var w=b.call(arguments);return w.length===4?(w[0]-w[1])/(w[2]/f.sqrt(w[3])):(w[0]-u.mean(w[1]))/(u.stdev(w[1],!0)/f.sqrt(w[1].length))},ttest:function(){var w,A=b.call(arguments);return A.length===5?(w=f.abs(u.tscore(A[0],A[1],A[2],A[3])),A[4]===1?u.studentt.cdf(-w,A[3]-1):2*u.studentt.cdf(-w,A[3]-1)):S(A[1])?(w=f.abs(A[0]),A[2]==1?u.studentt.cdf(-w,A[1]-1):2*u.studentt.cdf(-w,A[1]-1)):(w=f.abs(u.tscore(A[0],A[1])),A[2]==1?u.studentt.cdf(-w,A[1].length-1):2*u.studentt.cdf(-w,A[1].length-1))}}),u.extend(u.fn,{tscore:function(w){return(w-this.mean())/(this.stdev(!0)/f.sqrt(this.cols()))},ttest:function(w,A){return A===1?1-u.studentt.cdf(f.abs(this.tscore(w)),this.cols()-1):2*u.studentt.cdf(-f.abs(this.tscore(w)),this.cols()-1)}}),u.extend({anovafscore:function(){var w,A,T,O,R,k,V,P,B=b.call(arguments);if(B.length===1){for(R=new Array(B[0].length),V=0;V<B[0].length;V++)R[V]=B[0][V];B=R}for(A=new Array,V=0;V<B.length;V++)A=A.concat(B[V]);for(T=u.mean(A),w=0,V=0;V<B.length;V++)w+=B[V].length*f.pow(u.mean(B[V])-T,2);for(w/=B.length-1,k=0,V=0;V<B.length;V++)for(O=u.mean(B[V]),P=0;P<B[V].length;P++)k+=f.pow(B[V][P]-O,2);return w/(k/(A.length-B.length))},anovaftest:function(){var w,A,T,O,R=b.call(arguments);if(S(R[0]))return 1-u.centralF.cdf(R[0],R[1],R[2]);var k=u.anovafscore(R);for(w=R.length-1,T=0,O=0;O<R.length;O++)T+=R[O].length;return A=T-w-1,1-u.centralF.cdf(k,w,A)},ftest:function(w,A,T){return 1-u.centralF.cdf(w,A,T)}}),u.extend(u.fn,{anovafscore:function(){return u.anovafscore(this.toArray())},anovaftes:function(){var w,A=0;for(w=0;w<this.length;w++)A+=this[w].length;return u.ftest(this.anovafscore(),this.length-1,A-this.length)}}),u.extend({qscore:function(){var w,A,T,O,R,k=b.call(arguments);return S(k[0])?(w=k[0],A=k[1],T=k[2],O=k[3],R=k[4]):(w=u.mean(k[0]),A=u.mean(k[1]),T=k[0].length,O=k[1].length,R=k[2]),f.abs(w-A)/(R*f.sqrt((1/T+1/O)/2))},qtest:function(){var w,A=b.call(arguments);A.length===3?(w=A[0],A=A.slice(1)):A.length===7?(w=u.qscore(A[0],A[1],A[2],A[3],A[4]),A=A.slice(5)):(w=u.qscore(A[0],A[1],A[2]),A=A.slice(3));var T=A[0],O=A[1];return 1-u.tukey.cdf(w,O,T-O)},tukeyhsd:function(w){for(var A=u.pooledstdev(w),T=w.map(function(B){return u.mean(B)}),O=w.reduce(function(B,j){return B+j.length},0),R=[],k=0;k<w.length;++k)for(var V=k+1;V<w.length;++V){var P=u.qtest(T[k],T[V],w[k].length,w[V].length,A,O,w.length);R.push([[k,V],P])}return R}}),u.extend({normalci:function(){var w,A=b.call(arguments),T=new Array(2);return w=A.length===4?f.abs(u.normal.inv(A[1]/2,0,1)*A[2]/f.sqrt(A[3])):f.abs(u.normal.inv(A[1]/2,0,1)*u.stdev(A[2])/f.sqrt(A[2].length)),T[0]=A[0]-w,T[1]=A[0]+w,T},tci:function(){var w,A=b.call(arguments),T=new Array(2);return w=A.length===4?f.abs(u.studentt.inv(A[1]/2,A[3]-1)*A[2]/f.sqrt(A[3])):f.abs(u.studentt.inv(A[1]/2,A[2].length-1)*u.stdev(A[2],!0)/f.sqrt(A[2].length)),T[0]=A[0]-w,T[1]=A[0]+w,T},significant:function(w,A){return w<A}}),u.extend(u.fn,{normalci:function(w,A){return u.normalci(w,A,this.toArray())},tci:function(w,A){return u.tci(w,A,this.toArray())}}),u.extend(u.fn,{oneSidedDifferenceOfProportions:function(w,A,T,O){var R=g(w,A,T,O);return u.ztest(R,1)},twoSidedDifferenceOfProportions:function(w,A,T,O){var R=g(w,A,T,O);return u.ztest(R,2)}})}(l,Math),l.models=function(){function u(b,S){var v=b.length,g=S[0].length-1,w=v-g-1,A=l.lstsq(S,b),T=l.multiply(S,A.map(function(B){return[B]})).map(function(B){return B[0]}),O=l.subtract(b,T),R=l.mean(b),k=l.sum(T.map(function(B){return Math.pow(B-R,2)})),V=l.sum(b.map(function(B,j){return Math.pow(B-T[j],2)})),P=k+V;return{exog:S,endog:b,nobs:v,df_model:g,df_resid:w,coef:A,predict:T,resid:O,ybar:R,SST:P,SSE:k,SSR:V,R2:k/P}}function f(b){var S,v,g=(S=b.exog,v=S[0].length,l.arange(v).map(function(V){var P=l.arange(v).filter(function(B){return B!==V});return u(l.col(S,V).map(function(B){return B[0]}),l.col(S,P))})),w=Math.sqrt(b.SSR/b.df_resid),A=g.map(function(V){var P=V.SST,B=V.R2;return w/Math.sqrt(P*(1-B))}),T=b.coef.map(function(V,P){return(V-0)/A[P]}),O=T.map(function(V){var P=l.studentt.cdf(V,b.df_resid);return 2*(P>.5?1-P:P)}),R=l.studentt.inv(.975,b.df_resid),k=b.coef.map(function(V,P){var B=R*A[P];return[V-B,V+B]});return{se:A,t:T,p:O,sigmaHat:w,interval95:k}}return{ols:function(b,S){var v=u(b,S),g=f(v),w=function(T){var O,R,k,V=T.R2/T.df_model/((1-T.R2)/T.df_resid);return{F_statistic:V,pvalue:1-(O=V,R=T.df_model,k=T.df_resid,l.beta.cdf(O/(k/R+O),R/2,k/2))}}(v),A=1-(1-v.R2)*((v.nobs-1)/v.df_resid);return v.t=g,v.f=w,v.adjust_R2=A,v}}}(),l.extend({buildxmatrix:function(){for(var u=new Array(arguments.length),f=0;f<arguments.length;f++)u[f]=[1].concat(arguments[f]);return l(u)},builddxmatrix:function(){for(var u=new Array(arguments[0].length),f=0;f<arguments[0].length;f++)u[f]=[1].concat(arguments[0][f]);return l(u)},buildjxmatrix:function(u){for(var f=new Array(u.length),b=0;b<u.length;b++)f[b]=u[b];return l.builddxmatrix(f)},buildymatrix:function(u){return l(u).transpose()},buildjymatrix:function(u){return u.transpose()},matrixmult:function(u,f){var b,S,v,g,w;if(u.cols()==f.rows()){if(f.rows()>1){for(g=[],b=0;b<u.rows();b++)for(g[b]=[],S=0;S<f.cols();S++){for(w=0,v=0;v<u.cols();v++)w+=u.toArray()[b][v]*f.toArray()[v][S];g[b][S]=w}return l(g)}for(g=[],b=0;b<u.rows();b++)for(g[b]=[],S=0;S<f.cols();S++){for(w=0,v=0;v<u.cols();v++)w+=u.toArray()[b][v]*f.toArray()[S];g[b][S]=w}return l(g)}},regress:function(u,f){var b=l.xtranspxinv(u),S=u.transpose(),v=l.matrixmult(l(b),S);return l.matrixmult(v,f)},regresst:function(u,f,b){var S=l.regress(u,f),v={anova:{}},g=l.jMatYBar(u,S);v.yBar=g;var w=f.mean();v.anova.residuals=l.residuals(f,g),v.anova.ssr=l.ssr(g,w),v.anova.msr=v.anova.ssr/(u[0].length-1),v.anova.sse=l.sse(f,g),v.anova.mse=v.anova.sse/(f.length-(u[0].length-1)-1),v.anova.sst=l.sst(f,w),v.anova.mst=v.anova.sst/(f.length-1),v.anova.r2=1-v.anova.sse/v.anova.sst,v.anova.r2<0&&(v.anova.r2=0),v.anova.fratio=v.anova.msr/v.anova.mse,v.anova.pvalue=l.anovaftest(v.anova.fratio,u[0].length-1,f.length-(u[0].length-1)-1),v.anova.rmse=Math.sqrt(v.anova.mse),v.anova.r2adj=1-v.anova.mse/v.anova.mst,v.anova.r2adj<0&&(v.anova.r2adj=0),v.stats=new Array(u[0].length);for(var A,T,O,R=l.xtranspxinv(u),k=0;k<S.length;k++)A=Math.sqrt(v.anova.mse*Math.abs(R[k][k])),T=Math.abs(S[k]/A),O=l.ttest(T,f.length-u[0].length-1,b),v.stats[k]=[S[k],A,T,O];return v.regress=S,v},xtranspx:function(u){return l.matrixmult(u.transpose(),u)},xtranspxinv:function(u){var f=l.matrixmult(u.transpose(),u);return l.inv(f)},jMatYBar:function(u,f){var b=l.matrixmult(u,f);return new l(b)},residuals:function(u,f){return l.matrixsubtract(u,f)},ssr:function(u,f){for(var b=0,S=0;S<u.length;S++)b+=Math.pow(u[S]-f,2);return b},sse:function(u,f){for(var b=0,S=0;S<u.length;S++)b+=Math.pow(u[S]-f[S],2);return b},sst:function(u,f){for(var b=0,S=0;S<u.length;S++)b+=Math.pow(u[S]-f,2);return b},matrixsubtract:function(u,f){for(var b=new Array(u.length),S=0;S<u.length;S++){b[S]=new Array(u[S].length);for(var v=0;v<u[S].length;v++)b[S][v]=u[S][v]-f[S][v]}return l(b)}}),l.jStat=l,l)},960:function(c,l,u){const f=u(592);c.exports=function(b){function S(k,V){const P=V.split(".");let B=k;for(const j of P){if(B==null)return;B=B[j]}return B}for(let k=0;k<Object.keys(f).length;k++){let V,P=Object.keys(f)[k],B=[];if(typeof f[P]=="object"){B=Object.keys(f[P]),V=Object.values(f[P]);for(let j=0;j<V.length;j++)if(typeof V[j]=="object"){let q=B[j];f[P][q]&&(B=[...B,...Object.keys(f[P][q]).map(Y=>q+"."+Y)],B.splice(B.indexOf(q),1))}}if(B.length<1)b[P]=f[P];else for(let j=0;j<B.length;j++)typeof S(f[P],B[j])=="function"&&(b[P]=S(f[P],B[j]))}let v=function(k){return typeof k=="number"&&(k=parseInt(k)),k},g=null,w=null,A=null;b.TABLE=function(){return A},b.COLUMN=b.COL=function(){return A.tracking&&A.tracking.push(R.getColumnNameFromCoords(v(g),v(w))),v(g)+1},b.ROW=function(){return A.tracking&&A.tracking.push(R.getColumnNameFromCoords(v(g),v(w))),v(w)+1},b.CELL=function(){return R.getColumnNameFromCoords(g,w)},b.VALUE=function(k,V,P){return A.getValueFromCoords(v(k)-1,v(V)-1,P)},b.THISROWCELL=function(k){return A.getValueFromCoords(v(k)-1,v(w))};const T=function(k,V){for(let P=0;P<k.length;P++){let B=R.getTokensFromRange(k[P]);V=V.replace(k[P],"["+B.join(",")+"]")}return V},O=function(k){return typeof k=="string"&&(k=k.trim()),!isNaN(k)&&k!==null&&k!==""},R=function(k,V,P,B,j){A=j,g=P,w=B;let q="",Y={};if(V)if(V.size){let Q,le=null;V.forEach(function(Se,ve){Q=ve.replace(/!/g,"."),Q.indexOf(".")!==-1&&(Q=Q.split("."),Y[Q[0]]=!0)}),Q=Object.keys(Y);for(let Se=0;Se<Q.length;Se++)q+="var "+Q[Se]+" = {};";V.forEach(function(Se,ve){Q=ve.replace(/!/g,"."),Se===null||O(Se)||(le=Se.match(/(('.*?'!)|(\w*!))?(\$?[A-Z]+\$?[0-9]*):(\$?[A-Z]+\$?[0-9]*)?/g),le&&le.length&&(Se=updateRanges(le,Se))),Q.indexOf(".")>0?q+=Q+" = "+V.get(ve)+`;
`:q+="var "+Q+" = "+Se+`;
`})}else{let Q=Object.keys(V);if(Q.length){let le,Se={};for(let ve=0;ve<Q.length;ve++)if(le=Q[ve].replace(/\!/g,"."),le.indexOf(".")>0){let fe=fe.split(".");Se[fe[0]]={}}le=Object.keys(Se);for(let ve=0;ve<le.length;ve++)q+="var "+le[ve]+" = {};";for(let ve=0;ve<Q.length;ve++){if(le=Q[ve].replace(/!/g,"."),V[Q[ve]]!==null&&!O(V[Q[ve]])){let fe=V[Q[ve]].match(/(('.*?'!)|(\w*!))?(\$?[A-Z]+\$?[0-9]*):(\$?[A-Z]+\$?[0-9]*)?/g);fe&&fe.length&&(V[Q[ve]]=T(fe,V[Q[ve]]))}le.indexOf(".")>0?q+=le+" = "+V[Q[ve]]+`;
`:q+="var "+le+" = "+V[Q[ve]]+`;
`}}}let ae=(k=function(Q,le){let Se="",ve=0,fe=["=","!",">","<"];for(let Ne=0;Ne<Q.length;Ne++)Q[Ne]==='"'&&(ve=ve===0?1:0),ve===1?Se+=Q[Ne]:(Se+=Q[Ne].toUpperCase(),le===!0&&Ne>0&&Q[Ne]==="="&&fe.indexOf(Q[Ne-1])===-1&&fe.indexOf(Q[Ne+1])===-1&&(Se+="="));return Se=Se.replace(/\^/g,"**"),Se=Se.replace(/<>/g,"!="),Se=Se.replace(/&/g,"+"),Se=Se.replace(/\$/g,""),Se}(k=(k=k.replace(/\$/g,"")).replace(/!/g,"."),!0)).match(/(('.*?'!)|(\w*!))?(\$?[A-Z]+\$?[0-9]*):(\$?[A-Z]+\$?[0-9]*)?/g);ae&&ae.length&&(k=T(ae,k));let me=new Function(q+"; return "+k)();return me===null&&(me=0),me};return R.getColumnNameFromCoords=function(k,V){return P=parseInt(k),B="",P>701?(B+=String.fromCharCode(64+parseInt(P/676)),B+=String.fromCharCode(64+parseInt(P%676/26))):P>25&&(B+=String.fromCharCode(64+parseInt(P/26))),B+String.fromCharCode(65+P%26)+(parseInt(V)+1);var P,B},R.getCoordsFromColumnName=function(k){var V=/^[a-zA-Z]+/.exec(k);if(V){for(var P=0,B=0;B<V[0].length;B++)P+=parseInt(V[0].charCodeAt(B)-64)*Math.pow(26,V[0].length-1-B);--P<0&&(P=0);var j=parseInt(/[0-9]+$/.exec(k))||null;return j>0&&j--,[P,j]}},R.getRangeFromTokens=function(k){k=k.filter(function(j){return j!="#REF!"});for(var V="",P="",B=0;B<k.length;B++)k[B].indexOf(".")>=0?V=".":k[B].indexOf("!")>=0&&(V="!"),V&&(P=k[B].split(V),k[B]=P[1],P=P[0]+V);return k.sort(function(j,q){var Y=Helpers.getCoordsFromColumnName(j),ae=Helpers.getCoordsFromColumnName(q);return Y[1]>ae[1]?1:Y[1]<ae[1]?-1:Y[0]>ae[0]?1:Y[0]<ae[0]?-1:0}),k.length?P+(k[0]+":")+k[k.length-1]:"#REF!"},R.getTokensFromRange=function(k){if(k.indexOf(".")>0){var V=k.split(".");k=V[1],V=V[0]+"."}else k.indexOf("!")>0?(V=k.split("!"),k=V[1],V=V[0]+"!"):V="";k=k.split(":");var P=R.getCoordsFromColumnName(k[0]),B=R.getCoordsFromColumnName(k[1]);if(P[0]<=B[0])var j=P[0],q=B[0];else j=B[0],q=P[0];if(P[1]===null&&B[1]==null)for(var Y=null,ae=null,me=Object.keys(vars),Q=0;Q<me.length;Q++){var le=R.getCoordsFromColumnName(me[Q]);le[0]===P[0]&&(Y===null||le[1]<Y)&&(Y=le[1]),le[0]===B[0]&&(ae===null||le[1]>ae)&&(ae=le[1])}else P[1]<=B[1]?(Y=P[1],ae=B[1]):(Y=B[1],ae=P[1]);for(var Se=[],ve=Y;ve<=ae;ve++){var fe=[];for(Q=j;Q<=q;Q++)fe.push(V+R.getColumnNameFromCoords(Q,ve));Se.push(fe)}return Se},R.setFormula=function(k){let V=Object.keys(k);for(let P=0;P<V.length;P++)typeof k[V[P]]=="function"&&(b[V[P]]=k[V[P]])},R.basic=!0,R}(typeof window>"u"?u.g:window)},592:function(c,l,u){var f=u(162),b=u(765);const S=new Error("#NULL!"),v=new Error("#DIV/0!"),g=new Error("#VALUE!"),w=new Error("#REF!"),A=new Error("#NAME?"),T=new Error("#NUM!"),O=new Error("#N/A"),R=new Error("#ERROR!"),k=new Error("#GETTING_DATA");var V=Object.freeze({__proto__:null,data:k,div0:v,error:R,na:O,name:A,nil:S,num:T,ref:w,value:g});function P(d){const E=[];return B(d,M=>{E.push(M)}),E}function B(d,E){let M=-1;const L=d.length;for(;++M<L&&E(d[M],M,d)!==!1;);return d}function j(d){let E,M=d.length;for(;M--;)if(E=d[M],typeof E!="number")if(E!==!0)if(E!==!1){if(typeof E=="string"){const L=re(E);d[M]=L instanceof Error?0:L}}else d[M]=0;else d[M]=1;return d}function q(d,E){if(!d)return g;d.every(K=>Array.isArray(K))&&d.length!==0||(d=[[...d]]),d.map((K,Z)=>{K.map((ce,xe)=>{ce||(d[Z][xe]=0)})});const M=d.reduce((K,Z,ce)=>Z.length>d[K].length?ce:K,0),L=d[M].length;return d.map(K=>[...K,...Array(L-K.length).fill(E||0)])}function Y(){let d;if(arguments.length===1){const M=arguments[0];d=(E=M)!=null&&typeof E.length=="number"&&typeof E!="string"?P.apply(null,arguments):[M]}else d=Array.from(arguments);for(var E;!me(d);)d=ae(d);return d}function ae(d){return d&&d.reduce?d.reduce((E,M)=>{const L=Array.isArray(E),K=Array.isArray(M);return L&&K?E.concat(M):L?(E.push(M),E):K?[E].concat(M):[E,M]}):[d]}function me(d){if(!d)return!1;for(let E=0;E<d.length;++E)if(Array.isArray(d[E]))return!1;return!0}function Q(d,E){return E=E||1,d&&typeof d.slice=="function"?d.slice(E):d}function le(d){return d?d[0].map((E,M)=>d.map(L=>L[M])):g}function Se(d,E){let M=null;return B(d,(L,K)=>{if(L[0]===E)return M=K,!1}),M??g}function ve(){for(let d=0;d<arguments.length;d++)if(arguments[d]instanceof Error)return arguments[d]}function fe(){let d=arguments.length;for(;d--;)if(arguments[d]instanceof Error)return!0;return!1}function Ne(d){return Math.round(d*1e14)/1e14}function st(){return Y.apply(null,arguments).filter(d=>typeof d=="number")}function ft(d){if(typeof d=="boolean"||d instanceof Error)return d;if(typeof d=="number")return d!==0;if(typeof d=="string"){const E=d.toUpperCase();if(E==="TRUE")return!0;if(E==="FALSE")return!1}return d instanceof Date&&!isNaN(d)||g}function et(d){if(!isNaN(d)){if(d instanceof Date)return new Date(d);const E=parseFloat(d);return E<0||E>=2958466?T:function(M){M<60&&(M+=1);const L=Math.floor(M-25569),K=new Date(86400*L*1e3),Z=M-Math.floor(M)+1e-7;let ce=Math.floor(86400*Z);const xe=ce%60;ce-=xe;const Be=Math.floor(ce/3600),ot=Math.floor(ce/60)%60;let yt=K.getUTCDate(),wt=K.getUTCMonth();return M>=60&&M<61&&(yt=29,wt=1),new Date(K.getUTCFullYear(),wt,yt,Be,ot,xe)}(E)}return typeof d!="string"||(d=/(\d{4})-(\d\d?)-(\d\d?)$/.test(d)?new Date(d+"T00:00:00.000"):new Date(d),isNaN(d))?g:d}function Nt(d){let E,M=d.length;for(;M--;){if(E=et(d[M]),E===g)return E;d[M]=E}return d}function re(d){return d instanceof Error?d:d==null?0:(typeof d=="boolean"&&(d=+d),isNaN(d)||d===""?g:parseFloat(d))}function Ue(d){let E,M;if(!d||(E=d.length)===0)return g;for(;E--;){if(d[E]instanceof Error)return d[E];if(M=re(d[E]),M instanceof Error)return M;d[E]=M}return d}function gt(d){return d instanceof Error?d:d==null?"":d.toString()}function Mt(){let d=arguments.length;for(;d--;)if(typeof arguments[d]=="string")return!0;return!1}function Ze(d){return d!=null}const Fe="=",Ye=[">",">=","<","<=","=","<>"],ht="operator",vt="literal",ye=[ht,vt],we=ht,Pe=vt;function je(d,E){if(ye.indexOf(E)===-1)throw new Error("Unsupported token type: "+E);return{value:d,type:E}}function ze(d){return function(E){let M="";const L=[];for(let K=0;K<E.length;K++){const Z=E[K];K===0&&Ye.indexOf(Z)>=0?L.push(je(Z,we)):M+=Z}return M.length>0&&L.push(je(function(K){return typeof K!="string"||/^\d+(\.\d+)?$/.test(K)&&(K=K.indexOf(".")===-1?parseInt(K,10):parseFloat(K)),K}(M),Pe)),L.length>0&&L[0].type!==we&&L.unshift(je(Fe,we)),L}(function(E){const M=E.length,L=[];let K=0,Z="",ce="";for(;K<M;){const xe=E.charAt(K);switch(xe){case">":case"<":case"=":ce+=xe,Z.length>0&&(L.push(Z),Z="");break;default:ce.length>0&&(L.push(ce),ce=""),Z+=xe}K++}return Z.length>0&&L.push(Z),ce.length>0&&L.push(ce),L}(d))}const rt=function(d){const E=[];let M;for(let L=0;L<d.length;L++){const K=d[L];switch(K.type){case we:M=K.value;break;case Pe:E.push(K.value)}}return function(L,K){let Z=!1;switch(K){case">":Z=L[0]>L[1];break;case">=":Z=L[0]>=L[1];break;case"<":Z=L[0]<L[1];break;case"<=":Z=L[0]<=L[1];break;case"=":Z=L[0]==L[1];break;case"<>":Z=L[0]!=L[1]}return Z}(E,M)},mt={};function dt(d){return[g,w,v,T,A,S].indexOf(d)>=0||typeof d=="number"&&(isNaN(d)||!isFinite(d))}function lt(d){return dt(d)||d===O}function We(d){return d===!0||d===!1}function St(d){return typeof d=="number"&&!isNaN(d)&&isFinite(d)}function Et(d){return typeof d=="string"}function H(){const d=[];for(let E=0;E<arguments.length;++E){let M=!1;const L=arguments[E];for(let K=0;K<d.length&&(M=d[K]===L,!M);++K);M||d.push(L)}return d}function W(d,E,M,L){if(!E||!M)return O;L=!(L===0||L===!1);let K=O;const Z=typeof d=="number";let ce=!1;for(let xe=0;xe<E.length;xe++){const Be=E[xe];if(Be[0]===d){K=M<Be.length+1?Be[M-1]:w;break}!ce&&(Z&&L&&Be[0]<=d||L&&typeof Be[0]=="string"&&Be[0].localeCompare(d)<0)&&(K=M<Be.length+1?Be[M-1]:w),Z&&Be[0]>d&&(ce=!0)}return K}function D(){const d=Y(arguments).filter(Ze);if(d.length===0)return v;const E=ve.apply(void 0,d);if(E)return E;const M=st(d),L=M.length;let K,Z=0,ce=0;for(let xe=0;xe<L;xe++)Z+=M[xe],ce+=1;return K=Z/ce,isNaN(K)&&(K=T),K}function N(){const d=Y(arguments).filter(Ze);if(d.length===0)return v;const E=ve.apply(void 0,d);if(E)return E;const M=d,L=M.length;let K,Z=0,ce=0;for(let xe=0;xe<L;xe++){const Be=M[xe];typeof Be=="number"&&(Z+=Be),Be===!0&&Z++,Be!==null&&ce++}return K=Z/ce,isNaN(K)&&(K=T),K}mt.TYPE=d=>{switch(d){case S:return 1;case v:return 2;case g:return 3;case w:return 4;case A:return 5;case T:return 6;case O:return 7;case k:return 8}return O};const X={DIST:function(d,E,M,L,K,Z){return arguments.length<4?g:(K=K===void 0?0:K,Z=Z===void 0?1:Z,fe(d=re(d),E=re(E),M=re(M),K=re(K),Z=re(Z))?g:(d=(d-K)/(Z-K),L?f.beta.cdf(d,E,M):f.beta.pdf(d,E,M)))},INV:(d,E,M,L,K)=>(L=L===void 0?0:L,K=K===void 0?1:K,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K))?g:f.beta.inv(d,E,M)*(K-L)+L)},Ee={DIST:(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M),L=re(L))?g:L?f.binomial.cdf(d,E,M):f.binomial.pdf(d,E,M)};Ee.DIST.RANGE=(d,E,M,L)=>{if(L=L===void 0?M:L,fe(d=re(d),E=re(E),M=re(M),L=re(L)))return g;let K=0;for(let Z=M;Z<=L;Z++)K+=rn(d,Z)*Math.pow(E,Z)*Math.pow(1-E,d-Z);return K},Ee.INV=(d,E,M)=>{if(fe(d=re(d),E=re(E),M=re(M)))return g;let L=0;for(;L<=d;){if(f.binomial.cdf(L,d,E)>=M)return L;L++}};const be={DIST:(d,E,M)=>fe(d=re(d),E=re(E))?g:M?f.chisquare.cdf(d,E):f.chisquare.pdf(d,E)};be.DIST.RT=(d,E)=>!d|!E?O:d<1||E>Math.pow(10,10)?T:typeof d!="number"||typeof E!="number"?g:1-f.chisquare.cdf(d,E),be.INV=(d,E)=>fe(d=re(d),E=re(E))?g:f.chisquare.inv(d,E),be.INV.RT=(d,E)=>!d|!E?O:d<0||d>1||E<1||E>Math.pow(10,10)?T:typeof d!="number"||typeof E!="number"?g:f.chisquare.inv(1-d,E),be.TEST=function(d,E){if(arguments.length!==2)return O;if(!(d instanceof Array&&E instanceof Array)||d.length!==E.length||d[0]&&E[0]&&d[0].length!==E[0].length)return g;const M=d.length;let L,K,Z;for(K=0;K<M;K++)d[K]instanceof Array||(L=d[K],d[K]=[],d[K].push(L)),E[K]instanceof Array||(L=E[K],E[K]=[],E[K].push(L));const ce=d[0].length,xe=ce===1?M-1:(M-1)*(ce-1);let Be=0;const ot=Math.PI;for(K=0;K<M;K++)for(Z=0;Z<ce;Z++)Be+=Math.pow(d[K][Z]-E[K][Z],2)/E[K][Z];return Math.round(1e6*function(yt,wt){let At=Math.exp(-.5*yt);wt%2==1&&(At*=Math.sqrt(2*yt/ot));let Bt=wt;for(;Bt>=2;)At=At*yt/Bt,Bt-=2;let Yt=At,Zt=wt;for(;Yt>1e-10*At;)Zt+=2,Yt=Yt*yt/Zt,At+=Yt;return 1-At}(Be,xe))/1e6};const J={};function z(){return st(Y(arguments)).length}function ne(){const d=Y(arguments);return d.length-te(d)}function te(){const d=Y(arguments);let E,M=0;for(let L=0;L<d.length;L++)E=d[L],E!=null&&E!==""||M++;return M}J.NORM=(d,E,M)=>fe(d=re(d),E=re(E),M=re(M))?g:f.normalci(1,d,E,M)[1]-1,J.T=(d,E,M)=>fe(d=re(d),E=re(E),M=re(M))?g:f.tci(1,d,E,M)[1]-1;const de={P:(d,E)=>{if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=f.mean(d),L=f.mean(E);let K=0;const Z=d.length;for(let ce=0;ce<Z;ce++)K+=(d[ce]-M)*(E[ce]-L);return K/Z},S:(d,E)=>fe(d=Ue(Y(d)),E=Ue(Y(E)))?g:f.covariance(d,E)},Me={DIST:(d,E,M)=>fe(d=re(d),E=re(E))?g:M?f.exponential.cdf(d,E):f.exponential.pdf(d,E)},Ae={};function De(d,E,M){if(fe(d=re(d),E=Ue(Y(E)),M=Ue(Y(M))))return g;const L=f.mean(M),K=f.mean(E),Z=M.length;let ce=0,xe=0;for(let ot=0;ot<Z;ot++)ce+=(M[ot]-L)*(E[ot]-K),xe+=Math.pow(M[ot]-L,2);const Be=ce/xe;return K-Be*L+Be*d}function Ge(d){return(d=re(d))instanceof Error?d:d===0||parseInt(d,10)===d&&d<0?T:f.gammafn(d)}function ct(d){return(d=re(d))instanceof Error?d:f.gammaln(d)}Ae.DIST=(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M))?g:L?f.centralF.cdf(d,E,M):f.centralF.pdf(d,E,M),Ae.DIST.RT=function(d,E,M){return arguments.length!==3?O:d<0||E<1||M<1?T:typeof d!="number"||typeof E!="number"||typeof M!="number"?g:1-f.centralF.cdf(d,E,M)},Ae.INV=(d,E,M)=>fe(d=re(d),E=re(E),M=re(M))?g:d<=0||d>1?T:f.centralF.inv(d,E,M),Ae.INV.RT=function(d,E,M){return arguments.length!==3?O:d<0||d>1||E<1||E>Math.pow(10,10)||M<1||M>Math.pow(10,10)?T:typeof d!="number"||typeof E!="number"||typeof M!="number"?g:f.centralF.inv(1-d,E,M)},Ae.TEST=(d,E)=>{if(!d||!E||!(d instanceof Array&&E instanceof Array))return O;if(d.length<2||E.length<2)return v;const M=(Z,ce)=>{let xe=0;for(let Be=0;Be<Z.length;Be++)xe+=Math.pow(Z[Be]-ce,2);return xe},L=er(d)/d.length,K=er(E)/E.length;return M(d,L)/(d.length-1)/(M(E,K)/(E.length-1))},Ge.DIST=function(d,E,M,L){return arguments.length!==4?O:d<0||E<=0||M<=0||typeof d!="number"||typeof E!="number"||typeof M!="number"?g:L?f.gamma.cdf(d,E,M,!0):f.gamma.pdf(d,E,M,!1)},Ge.INV=function(d,E,M){return arguments.length!==3?O:d<0||d>1||E<=0||M<=0?T:typeof d!="number"||typeof E!="number"||typeof M!="number"?g:f.gamma.inv(d,E,M)},ct.PRECISE=function(d){return arguments.length!==1?O:d<=0?T:typeof d!="number"?g:f.gammaln(d)};const pt={};function Dt(d,E){return fe(d=Ue(Y(d)),E=re(E))?d:E<0||d.length<E?g:d.sort((M,L)=>L-M)[E-1]}function It(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=f.mean(d),L=f.mean(E),K=E.length;let Z=0,ce=0;for(let Be=0;Be<K;Be++)Z+=(E[Be]-L)*(d[Be]-M),ce+=Math.pow(E[Be]-L,2);const xe=Z/ce;return[xe,M-xe*L]}pt.DIST=(d,E,M,L,K)=>{if(fe(d=re(d),E=re(E),M=re(M),L=re(L)))return g;function Z(ce,xe,Be,ot){return rn(Be,ce)*rn(ot-Be,xe-ce)/rn(ot,xe)}return K?function(ce,xe,Be,ot){let yt=0;for(let wt=0;wt<=ce;wt++)yt+=Z(wt,xe,Be,ot);return yt}(d,E,M,L):Z(d,E,M,L)};const Ce={};function He(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;const M=st(d);return M.length===0?0:Math.max.apply(Math,M)}function it(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;const M=j(d);let L=f.median(M);return isNaN(L)&&(L=T),L}function oe(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;const M=st(d);return M.length===0?0:Math.min.apply(Math,M)}Ce.DIST=(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M))?g:L?f.lognormal.cdf(d,E,M):f.lognormal.pdf(d,E,M),Ce.INV=(d,E,M)=>fe(d=re(d),E=re(E),M=re(M))?g:f.lognormal.inv(d,E,M);const ge={MULT:function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=d.length,M={};let L,K=[],Z=0;for(let ce=0;ce<E;ce++)L=d[ce],M[L]=M[L]?M[L]+1:1,M[L]>Z&&(Z=M[L],K=[]),M[L]===Z&&(K[K.length]=L);return K},SNGL:function(){const d=Ue(Y(arguments));return d instanceof Error?d:ge.MULT(d).sort((E,M)=>E-M)[0]}},F={DIST:(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M))?g:L?f.negbin.cdf(d,E,M):f.negbin.pdf(d,E,M)},G={};function pe(d,E){if(fe(E=Ue(Y(E)),d=Ue(Y(d))))return g;const M=f.mean(d),L=f.mean(E),K=d.length;let Z=0,ce=0,xe=0;for(let Be=0;Be<K;Be++)Z+=(d[Be]-M)*(E[Be]-L),ce+=Math.pow(d[Be]-M,2),xe+=Math.pow(E[Be]-L,2);return Z/Math.sqrt(ce*xe)}G.DIST=(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M))?g:M<=0?T:L?f.normal.cdf(d,E,M):f.normal.pdf(d,E,M),G.INV=(d,E,M)=>fe(d=re(d),E=re(E),M=re(M))?g:f.normal.inv(d,E,M),G.S={},G.S.DIST=(d,E)=>(d=re(d))instanceof Error?g:E?f.normal.cdf(d,0,1):f.normal.pdf(d,0,1),G.S.INV=d=>(d=re(d))instanceof Error?g:f.normal.inv(d,0,1);const Ie={EXC:(d,E)=>{if(fe(d=Ue(Y(d)),E=re(E)))return g;const M=(d=d.sort((Z,ce)=>Z-ce)).length;if(E<1/(M+1)||E>1-1/(M+1))return T;const L=E*(M+1)-1,K=Math.floor(L);return Ne(L===K?d[L]:d[K]+(L-K)*(d[K+1]-d[K]))},INC:(d,E)=>{if(fe(d=Ue(Y(d)),E=re(E)))return g;const M=E*((d=d.sort((K,Z)=>K-Z)).length-1),L=Math.floor(M);return Ne(M===L?d[M]:d[L]+(M-L)*(d[L+1]-d[L]))}},he={EXC:(d,E,M)=>{if(M=M===void 0?3:M,fe(d=Ue(Y(d)),E=re(E),M=re(M)))return g;d=d.sort((yt,wt)=>yt-wt);const L=H.apply(null,d),K=d.length,Z=L.length,ce=Math.pow(10,M);let xe=0,Be=!1,ot=0;for(;!Be&&ot<Z;)E===L[ot]?(xe=(d.indexOf(L[ot])+1)/(K+1),Be=!0):E>=L[ot]&&(E<L[ot+1]||ot===Z-1)&&(xe=(d.indexOf(L[ot])+1+(E-L[ot])/(L[ot+1]-L[ot]))/(K+1),Be=!0),ot++;return Math.floor(xe*ce)/ce},INC:(d,E,M)=>{if(M=M===void 0?3:M,fe(d=Ue(Y(d)),E=re(E),M=re(M)))return g;d=d.sort((yt,wt)=>yt-wt);const L=H.apply(null,d),K=d.length,Z=L.length,ce=Math.pow(10,M);let xe=0,Be=!1,ot=0;for(;!Be&&ot<Z;)E===L[ot]?(xe=d.indexOf(L[ot])/(K-1),Be=!0):E>=L[ot]&&(E<L[ot+1]||ot===Z-1)&&(xe=(d.indexOf(L[ot])+(E-L[ot])/(L[ot+1]-L[ot]))/(K-1),Be=!0),ot++;return Math.floor(xe*ce)/ce}},Re={DIST:(d,E,M)=>fe(d=re(d),E=re(E))?g:M?f.poisson.cdf(d,E):f.poisson.pdf(d,E)},Ve={EXC:(d,E)=>{if(fe(d=Ue(Y(d)),E=re(E)))return g;switch(E){case 1:return Ie.EXC(d,.25);case 2:return Ie.EXC(d,.5);case 3:return Ie.EXC(d,.75);default:return T}},INC:(d,E)=>{if(fe(d=Ue(Y(d)),E=re(E)))return g;switch(E){case 1:return Ie.INC(d,.25);case 2:return Ie.INC(d,.5);case 3:return Ie.INC(d,.75);default:return T}}},ut={};function Xe(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=f.mean(d),M=d.length;let L=0;for(let K=0;K<M;K++)L+=Math.pow(d[K]-E,3);return M*L/((M-1)*(M-2)*Math.pow(f.stdev(d,!0),3))}function bt(d,E){return fe(d=Ue(Y(d)),E=re(E))?d:d.sort((M,L)=>M-L)[E-1]}ut.AVG=(d,E,M)=>{if(fe(d=re(d),E=Ue(Y(E))))return g;const L=(M=M||!1)?(ce,xe)=>ce-xe:(ce,xe)=>xe-ce,K=(E=(E=Y(E)).sort(L)).length;let Z=0;for(let ce=0;ce<K;ce++)E[ce]===d&&Z++;return Z>1?(2*E.indexOf(d)+Z+1)/2:E.indexOf(d)+1},ut.EQ=(d,E,M)=>{if(fe(d=re(d),E=Ue(Y(E))))return g;const L=(M=M||!1)?(K,Z)=>K-Z:(K,Z)=>Z-K;return(E=E.sort(L)).indexOf(d)+1},Xe.P=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=f.mean(d),M=d.length;let L=0,K=0;for(let Z=0;Z<M;Z++)K+=Math.pow(d[Z]-E,3),L+=Math.pow(d[Z]-E,2);return K/=M,L/=M,K/Math.pow(L,1.5)};const Ct={P:function(){const d=_e.P.apply(this,arguments);let E=Math.sqrt(d);return isNaN(E)&&(E=T),E},S:function(){const d=_e.S.apply(this,arguments);return Math.sqrt(d)}},Ht={DIST:(d,E,M)=>M!==1&&M!==2?T:M===1?Ht.DIST.RT(d,E):Ht.DIST["2T"](d,E)};Ht.DIST["2T"]=function(d,E){return arguments.length!==2?O:d<0||E<1?T:typeof d!="number"||typeof E!="number"?g:2*(1-f.studentt.cdf(d,E))},Ht.DIST.RT=function(d,E){return arguments.length!==2?O:d<0||E<1?T:typeof d!="number"||typeof E!="number"?g:1-f.studentt.cdf(d,E)},Ht.INV=(d,E)=>fe(d=re(d),E=re(E))?g:f.studentt.inv(d,E),Ht.INV["2T"]=(d,E)=>(d=re(d),E=re(E),d<=0||d>1||E<1?T:fe(d,E)?g:Math.abs(f.studentt.inv(d/2,E))),Ht.TEST=(d,E)=>{if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=f.mean(d),L=f.mean(E);let K,Z=0,ce=0;for(K=0;K<d.length;K++)Z+=Math.pow(d[K]-M,2);for(K=0;K<E.length;K++)ce+=Math.pow(E[K]-L,2);Z/=d.length-1,ce/=E.length-1;const xe=Math.abs(M-L)/Math.sqrt(Z/d.length+ce/E.length);return Ht.DIST["2T"](xe,d.length+E.length-2)};const _e={};function qe(){const d=Y(arguments),E=d.length;let M=0,L=0;const K=N(d);for(let Z=0;Z<E;Z++){const ce=d[Z];M+=Math.pow(typeof ce=="number"?ce-K:ce===!0?1-K:0-K,2),ce!==null&&L++}return M/(L-1)}function Je(){const d=Y(arguments),E=d.length;let M=0,L=0;const K=N(d);let Z;for(let ce=0;ce<E;ce++){const xe=d[ce];M+=Math.pow(typeof xe=="number"?xe-K:xe===!0?1-K:0-K,2),xe!==null&&L++}return Z=M/L,isNaN(Z)&&(Z=T),Z}_e.P=function(){const d=st(Y(arguments)),E=d.length;let M=0;const L=D(d);let K;for(let Z=0;Z<E;Z++)M+=Math.pow(d[Z]-L,2);return K=M/E,isNaN(K)&&(K=T),K},_e.S=function(){const d=st(Y(arguments)),E=d.length;let M=0;const L=D(d);for(let K=0;K<E;K++)M+=Math.pow(d[K]-L,2);return M/(E-1)};const _t={DIST:(d,E,M,L)=>fe(d=re(d),E=re(E),M=re(M))?g:L?1-Math.exp(-Math.pow(d/M,E)):Math.pow(d,E-1)*Math.exp(-Math.pow(d/M,E))*E/Math.pow(M,E)},Wt={};function Pt(d,E,M){const L=ve(d=re(d),E=re(E),M=re(M));if(L)return L;if(E===0)return 0;E=Math.abs(E);const K=-Math.floor(Math.log(E)/Math.log(10));return d>=0?Wn(Math.ceil(d/E)*E,K):M===0?-Wn(Math.floor(Math.abs(d)/E)*E,K):-Wn(Math.ceil(Math.abs(d)/E)*E,K)}function rn(d,E){return ve(d=re(d),E=re(E))||(d<E?T:$t(d)/($t(E)*$t(d-E)))}Wt.TEST=(d,E,M)=>{if(fe(d=Ue(Y(d)),E=re(E)))return g;M=M||Ct.S(d);const L=d.length;return 1-G.S.DIST((D(d)-E)/(M/Math.sqrt(L)),!0)},Pt.MATH=Pt,Pt.PRECISE=Pt;const Cn=[];function $t(d){if((d=re(d))instanceof Error)return d;const E=Math.floor(d);return E===0||E===1?1:(Cn[E]>0||(Cn[E]=$t(E-1)*E),Cn[E])}function Xt(d,E){const M=ve(d=re(d),E=re(E));if(M)return M;if(E===0)return 0;if(!(d>=0&&E>0||d<=0&&E<0))return T;E=Math.abs(E);const L=-Math.floor(Math.log(E)/Math.log(10));return d>=0?Wn(Math.floor(d/E)*E,L):-Wn(Math.ceil(Math.abs(d)/E),L)}Xt.MATH=(d,E,M)=>{if(E instanceof Error)return E;E=E===void 0?0:E;const L=ve(d=re(d),E=re(E),M=re(M));if(L)return L;if(E===0)return 0;E=E?Math.abs(E):1;const K=-Math.floor(Math.log(E)/Math.log(10));return d>=0?Wn(Math.floor(d/E)*E,K):M===0||M===void 0?-Wn(Math.ceil(Math.abs(d)/E)*E,K):-Wn(Math.floor(Math.abs(d)/E)*E,K)},Xt.PRECISE=Xt.MATH;const Ft={CEILING:Pt};function Ui(d,E){const M=ve(d=re(d),E=re(E));if(M)return M;if(d===0&&E===0)return T;const L=Math.pow(d,E);return isNaN(L)?T:L}function hi(){const d=Y(arguments).filter(L=>L!=null);if(d.length===0)return 0;const E=Ue(d);if(E instanceof Error)return E;let M=1;for(let L=0;L<E.length;L++)M*=E[L];return M}function Wn(d,E){return ve(d=re(d),E=re(E))||Number(Math.round(Number(d+"e"+E))+"e"+-1*E)}function er(){let d=0;return B(P(arguments),E=>{if(d instanceof Error)return!1;if(E instanceof Error)d=E;else if(typeof E=="number")d+=E;else if(typeof E=="string"){const M=parseFloat(E);!isNaN(M)&&(d+=M)}else if(Array.isArray(E)){const M=er.apply(null,E);M instanceof Error?d=M:d+=M}}),d}var zi=Object.freeze({__proto__:null,ADD:function(d,E){return arguments.length!==2?O:ve(d=re(d),E=re(E))||d+E},DIVIDE:function(d,E){return arguments.length!==2?O:ve(d=re(d),E=re(E))||(E===0?v:d/E)},EQ:function(d,E){return arguments.length!==2?O:d instanceof Error?d:E instanceof Error?E:(d===null&&(d=void 0),E===null&&(E=void 0),d===E)},GT:function(d,E){return arguments.length!==2?O:d instanceof Error?d:E instanceof Error?E:(Mt(d,E)?(d=gt(d),E=gt(E)):(d=re(d),E=re(E)),ve(d,E)||d>E)},GTE:function(d,E){return arguments.length!==2?O:(Mt(d,E)?(d=gt(d),E=gt(E)):(d=re(d),E=re(E)),ve(d,E)||d>=E)},LT:function(d,E){return arguments.length!==2?O:(Mt(d,E)?(d=gt(d),E=gt(E)):(d=re(d),E=re(E)),ve(d,E)||d<E)},LTE:function(d,E){return arguments.length!==2?O:(Mt(d,E)?(d=gt(d),E=gt(E)):(d=re(d),E=re(E)),ve(d,E)||d<=E)},MINUS:function(d,E){return arguments.length!==2?O:ve(d=re(d),E=re(E))||d-E},MULTIPLY:function(d,E){return arguments.length!==2?O:ve(d=re(d),E=re(E))||d*E},NE:function(d,E){return arguments.length!==2?O:d instanceof Error?d:E instanceof Error?E:(d===null&&(d=void 0),E===null&&(E=void 0),d!==E)},POW:function(d,E){return arguments.length!==2?O:Ui(d,E)}});const Ki=new Date(Date.UTC(1900,0,1)),Xo=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],Zo=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],Ur=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];function Mr(d,E,M){M=M.toUpperCase(),d=et(d),E=et(E);const L=d.getFullYear(),K=d.getMonth(),Z=d.getDate(),ce=E.getFullYear(),xe=E.getMonth(),Be=E.getDate();let ot;switch(M){case"Y":ot=Math.floor(mi(d,E));break;case"D":ot=nr(E,d);break;case"M":ot=xe-K+12*(ce-L),Be<Z&&ot--;break;case"MD":Z<=Be?ot=Be-Z:(xe===0?(d.setFullYear(ce-1),d.setMonth(12)):(d.setFullYear(ce),d.setMonth(xe-1)),ot=nr(E,d));break;case"YM":ot=xe-K+12*(ce-L),Be<Z&&ot--,ot%=12;break;case"YD":xe>K||xe===K&&Be<Z?d.setFullYear(ce):d.setFullYear(ce-1),ot=nr(E,d)}return ot}function Dr(d){const E=new Date(d);return E.setHours(0,0,0,0),E}function nr(d,E){return d=et(d),E=et(E),d instanceof Error?d:E instanceof Error?E:gi(Dr(d))-gi(Dr(E))}function Jn(d,E,M){if(M=ft(M||"false"),d=et(d),E=et(E),d instanceof Error)return d;if(E instanceof Error)return E;if(M instanceof Error)return M;const L=d.getMonth();let K,Z,ce=E.getMonth();if(M)K=d.getDate()===31?30:d.getDate(),Z=E.getDate()===31?30:E.getDate();else{const xe=new Date(d.getFullYear(),L+1,0).getDate(),Be=new Date(E.getFullYear(),ce+1,0).getDate();K=d.getDate()===xe?30:d.getDate(),E.getDate()===Be?K<30?(ce++,Z=1):Z=30:Z=E.getDate()}return 360*(E.getFullYear()-d.getFullYear())+30*(ce-L)+(Z-K)}function zr(d){if((d=et(d))instanceof Error)return d;(d=Dr(d)).setDate(d.getDate()+4-(d.getDay()||7));const E=new Date(d.getFullYear(),0,1);return Math.ceil(((d-E)/864e5+1)/7)}function Kr(d,E,M){return Kr.INTL(d,E,1,M)}function Ir(d,E,M){return Ir.INTL(d,E,1,M)}function Cr(d){return new Date(d,1,29).getMonth()===1}function kr(d,E){return Math.ceil((E-d)/1e3/60/60/24)}function mi(d,E,M){if((d=et(d))instanceof Error)return d;if((E=et(E))instanceof Error)return E;M=M||0;let L=d.getDate();const K=d.getMonth()+1,Z=d.getFullYear();let ce=E.getDate();const xe=E.getMonth()+1,Be=E.getFullYear();switch(M){case 0:return L===31&&ce===31?(L=30,ce=30):L===31?L=30:L===30&&ce===31&&(ce=30),(ce+30*xe+360*Be-(L+30*K+360*Z))/360;case 1:{const ot=(Bt,Yt)=>{const Zt=Bt.getFullYear(),_n=new Date(Zt,2,1);if(Cr(Zt)&&Bt<_n&&Yt>=_n)return!0;const un=Yt.getFullYear(),On=new Date(un,2,1);return Cr(un)&&Yt>=On&&Bt<On};let yt=365;if(Z===Be||Z+1===Be&&(K>xe||K===xe&&L>=ce))return(Z===Be&&Cr(Z)||ot(d,E)||xe===1&&ce===29)&&(yt=366),kr(d,E)/yt;const wt=Be-Z+1,At=(new Date(Be+1,0,1)-new Date(Z,0,1))/1e3/60/60/24/wt;return kr(d,E)/At}case 2:return kr(d,E)/360;case 3:return kr(d,E)/365;case 4:return(ce+30*xe+360*Be-(L+30*K+360*Z))/360}}function gi(d){const E=d>-22038912e5?2:1;return Math.ceil((d-Ki)/864e5)+E}function yi(d){return(d=re(d))===0?g:d instanceof Error?d:String.fromCharCode(d)}function Yr(d){if(fe(d))return d;let E=(d=d||"").charCodeAt(0);return isNaN(E)&&(E=g),E}function Yi(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;let M=0;for(;(M=d.indexOf(!0))>-1;)d[M]="TRUE";let L=0;for(;(L=d.indexOf(!1))>-1;)d[L]="FALSE";return d.join("")}Kr.INTL=(d,E,M,L)=>{if((d=et(d))instanceof Error)return d;if((E=et(E))instanceof Error)return E;let K=!1;const Z=[],ce=[1,2,3,4,5,6,0],xe=new RegExp("^[0|1]{7}$");if(M===void 0)M=Ur[1];else if(typeof M=="string"&&xe.test(M)){K=!0,M=M.split("");for(let wt=0;wt<M.length;wt++)M[wt]==="1"&&Z.push(ce[wt])}else M=Ur[M];if(!(M instanceof Array))return g;L===void 0?L=[]:L instanceof Array||(L=[L]);for(let wt=0;wt<L.length;wt++){const At=et(L[wt]);if(At instanceof Error)return At;L[wt]=At}const Be=Math.round((E-d)/864e5)+1;let ot=Be;const yt=d;for(let wt=0;wt<Be;wt++){const At=new Date().getTimezoneOffset()>0?yt.getUTCDay():yt.getDay();let Bt=K?Z.includes(At):At===M[0]||At===M[1];for(let Yt=0;Yt<L.length;Yt++){const Zt=L[Yt];if(Zt.getDate()===yt.getDate()&&Zt.getMonth()===yt.getMonth()&&Zt.getFullYear()===yt.getFullYear()){Bt=!0;break}}Bt&&ot--,yt.setDate(yt.getDate()+1)}return ot},Ir.INTL=(d,E,M,L)=>{if((d=et(d))instanceof Error)return d;if((E=re(E))instanceof Error)return E;if(E<0)return T;if(!((M=M===void 0?Ur[1]:Ur[M])instanceof Array))return g;L===void 0?L=[]:L instanceof Array||(L=[L]);for(let Z=0;Z<L.length;Z++){const ce=et(L[Z]);if(ce instanceof Error)return ce;L[Z]=ce}let K=0;for(;K<E;){d.setDate(d.getDate()+1);const Z=d.getDay();if(Z!==M[0]&&Z!==M[1]){for(let ce=0;ce<L.length;ce++){const xe=L[ce];if(xe.getDate()===d.getDate()&&xe.getMonth()===d.getMonth()&&xe.getFullYear()===d.getFullYear()){K--;break}}K++}}return d};const qi=Yi;function qr(d,E=2,M=!1){if(d=re(d),isNaN(d)||(E=re(E),isNaN(E)))return g;if(E<0){const L=Math.pow(10,-E);d=Math.round(d/L)*L}else d=d.toFixed(E);if(M)d=d.toString().replace(/,/g,"");else{const L=d.toString().split(".");L[0]=L[0].replace(/\B(?=(\d{3})+$)/g,","),d=L.join(".")}return d}function Tn(d,E){return ve(d,E)||(d=gt(d),(E=re(E))instanceof Error?E:new Array(E+1).join(d))}const Tr=yi,Gi=Yr;function Gr(d){return/^[01]{1,10}$/.test(d)}function vn(d,E,M){if(fe(d=re(d),E=re(E)))return d;if((M=M===void 0?"i":M)!=="i"&&M!=="j")return g;if(d===0&&E===0)return 0;if(d===0)return E===1?M:E.toString()+M;if(E===0)return d.toString();{const L=E>0?"+":"";return d.toString()+L+(E===1?M:E.toString()+M)}}function Jr(d,E){return E=E===void 0?0:E,fe(d=re(d),E=re(E))?g:f.erf(d)}function Xr(d){return isNaN(d)?g:f.erfc(d)}function Zr(d){const E=tn(d),M=Qt(d);return fe(E,M)?g:Math.sqrt(Math.pow(E,2)+Math.pow(M,2))}function Qt(d){if(d===void 0||d===!0||d===!1)return g;if(d===0||d==="0")return 0;if(["i","j"].indexOf(d)>=0)return 1;let E=(d=(d+="").replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),M=d.indexOf("-");E===0&&(E=d.indexOf("+",1)),M===0&&(M=d.indexOf("-",1));const L=d.substring(d.length-1,d.length),K=L==="i"||L==="j";return E>=0||M>=0?K?E>=0?isNaN(d.substring(0,E))||isNaN(d.substring(E+1,d.length-1))?T:Number(d.substring(E+1,d.length-1)):isNaN(d.substring(0,M))||isNaN(d.substring(M+1,d.length-1))?T:-Number(d.substring(M+1,d.length-1)):T:K?isNaN(d.substring(0,d.length-1))?T:d.substring(0,d.length-1):isNaN(d)?T:0}function vi(d){const E=tn(d),M=Qt(d);return fe(E,M)?g:E===0&&M===0?v:E===0&&M>0?Math.PI/2:E===0&&M<0?-Math.PI/2:M===0&&E>0?0:M===0&&E<0?-Math.PI:E>0?Math.atan(M/E):E<0&&M>=0?Math.atan(M/E)+Math.PI:Math.atan(M/E)-Math.PI}function Qr(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.cos(E)*(Math.exp(M)+Math.exp(-M))/2,-Math.sin(E)*(Math.exp(M)-Math.exp(-M))/2,L)}function Ji(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.cos(M)*(Math.exp(E)+Math.exp(-E))/2,Math.sin(M)*(Math.exp(E)-Math.exp(-E))/2,L)}function rr(d,E){const M=tn(d),L=Qt(d),K=tn(E),Z=Qt(E);if(fe(M,L,K,Z))return g;const ce=d.substring(d.length-1),xe=E.substring(E.length-1);let Be="i";if((ce==="j"||xe==="j")&&(Be="j"),K===0&&Z===0)return T;const ot=K*K+Z*Z;return vn((M*K+L*Z)/ot,(L*K-M*Z)/ot,Be)}function tn(d){if(d===void 0||d===!0||d===!1)return g;if(d===0||d==="0"||["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(d)>=0)return 0;let E=(d+="").indexOf("+"),M=d.indexOf("-");E===0&&(E=d.indexOf("+",1)),M===0&&(M=d.indexOf("-",1));const L=d.substring(d.length-1,d.length),K=L==="i"||L==="j";return E>=0||M>=0?K?E>=0?isNaN(d.substring(0,E))||isNaN(d.substring(E+1,d.length-1))?T:Number(d.substring(0,E)):isNaN(d.substring(0,M))||isNaN(d.substring(M+1,d.length-1))?T:Number(d.substring(0,M)):T:K?isNaN(d.substring(0,d.length-1))?T:0:isNaN(d)?T:d}function ei(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.sin(E)*(Math.exp(M)+Math.exp(-M))/2,Math.cos(E)*(Math.exp(M)-Math.exp(-M))/2,L)}function Xi(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.cos(M)*(Math.exp(E)-Math.exp(-E))/2,Math.sin(M)*(Math.exp(E)+Math.exp(-E))/2,L)}Jr.PRECISE=()=>{throw new Error("ERF.PRECISE is not implemented")},Xr.PRECISE=()=>{throw new Error("ERFC.PRECISE is not implemented")};const Qo=X.DIST,Ei=X.INV,es=Ee.DIST,ns=Pt.MATH,rs=Pt.PRECISE,is=be.DIST,ss=be.DIST.RT,an=be.INV,sn=be.INV.RT,as=be.TEST,ls=de.P,cs=de.P,us=de.S,ds=Ee.INV,fs=Xr.PRECISE,Zi=Jr.PRECISE,ps=Me.DIST,mn=Ae.DIST,bi=Ae.DIST.RT,cr=Ae.INV,Qi=Ae.INV.RT,Ci=Xt.MATH,kn=Xt.PRECISE,eo=Ae.TEST,to=Ge.DIST,no=Ge.INV,ro=ct.PRECISE,io=pt.DIST,oo=Ce.INV,xn=Ce.DIST,hs=Ce.INV,Rn=ge.MULT,ms=ge.SNGL,so=F.DIST,ir=Kr.INTL,ti=G.DIST,Ti=G.INV,cn=G.S.DIST,or=G.S.INV,Si=Ie.EXC,gs=Ie.INC,_i=he.EXC,ys=he.INC,vs=Re.DIST,Es=Ve.EXC,ao=Ve.INC,ni=ut.AVG,Sr=ut.EQ,bs=Xe.P,lo=Ct.P,co=Ct.S,wi=Ht.DIST,Ai=Ht.DIST.RT,uo=Ht.INV,Cs=Ht.TEST,xi=_e.P,Ni=_e.S,Ts=_t.DIST,fo=Ir.INTL,Nn=Wt.TEST;function Rr(d){const E=[];return B(d,M=>{M&&E.push(M)}),E}function En(d,E){const M={};for(let Z=1;Z<d[0].length;++Z)M[Z]=!0;let L=E[0].length;for(let Z=1;Z<E.length;++Z)E[Z].length>L&&(L=E[Z].length);for(let Z=1;Z<d.length;++Z)for(let ce=1;ce<d[Z].length;++ce){let xe=!1,Be=!1;for(let ot=0;ot<E.length;++ot){const yt=E[ot];if(yt.length<L)continue;const wt=yt[0];if(d[Z][0]===wt){Be=!0;for(let At=1;At<yt.length;++At)if(!xe)if(yt[At]===void 0||yt[At]==="*")xe=!0;else{const Bt=ze(yt[At]+""),Yt=[je(d[Z][ce],Pe)].concat(Bt);xe=rt(Yt)}}}Be&&(M[ce]=M[ce]&&xe)}const K=[];for(let Z=0;Z<d[0].length;++Z)M[Z]&&K.push(Z-1);return K}function ri(d){return d&&d.getTime&&!isNaN(d.getTime())}function ii(d){return d instanceof Date?d:new Date(d)}function ur(d,E,M,L,K){if(L=L||0,K=K||0,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K)))return g;let Z;if(d===0)Z=L+M*E;else{const ce=Math.pow(1+d,E);Z=K===1?L*ce+M*(1+d)*(ce-1)/d:L*ce+M*(ce-1)/d}return-Z}function po(d,E,M,L,K,Z){if(K=K||0,Z=Z||0,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K),Z=re(Z)))return g;const ce=Lr(d,M,L,K,Z);return(E===1?Z===1?0:-L:Z===1?ur(d,E-2,ce,L,1)-ce:ur(d,E-1,ce,L,0))*d}function Oi(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=d[0];let M=0;for(let L=1;L<d.length;L++)M+=d[L]/Math.pow(1+E,L);return M}function Lr(d,E,M,L,K){if(L=L||0,K=K||0,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K)))return g;let Z;if(d===0)Z=(M+L)/E;else{const ce=Math.pow(1+d,E);Z=K===1?(L*d/(ce-1)+M*d/(1-1/ce))/(1+d):L*d/(ce-1)+M*d/(1-1/ce)}return-Z}const Ss={errors:V,symbols:zi};l.ABS=function(d){return(d=re(d))instanceof Error?d:Math.abs(d)},l.ACCRINT=function(d,E,M,L,K,Z,ce){return d=ii(d),E=ii(E),M=ii(M),ri(d)&&ri(E)&&ri(M)?L<=0||K<=0||[1,2,4].indexOf(Z)===-1||[0,1,2,3,4].indexOf(ce)===-1||M<=d?T:(K=K||0)*L*mi(d,M,ce=ce||0):g},l.ACCRINTM=function(){throw new Error("ACCRINTM is not implemented")},l.ACOS=function(d){if((d=re(d))instanceof Error)return d;let E=Math.acos(d);return isNaN(E)&&(E=T),E},l.ACOSH=function(d){if((d=re(d))instanceof Error)return d;let E=Math.log(d+Math.sqrt(d*d-1));return isNaN(E)&&(E=T),E},l.ACOT=function(d){return(d=re(d))instanceof Error?d:Math.atan(1/d)},l.ACOTH=function(d){if((d=re(d))instanceof Error)return d;let E=.5*Math.log((d+1)/(d-1));return isNaN(E)&&(E=T),E},l.AGGREGATE=function(d,E,M,L){if(fe(d=re(d),re(d)))return g;switch(d){case 1:return D(M);case 2:return z(M);case 3:return ne(M);case 4:return He(M);case 5:return oe(M);case 6:return hi(M);case 7:return Ct.S(M);case 8:return Ct.P(M);case 9:return er(M);case 10:return _e.S(M);case 11:return _e.P(M);case 12:return it(M);case 13:return ge.SNGL(M);case 14:return Dt(M,L);case 15:return bt(M,L);case 16:return Ie.INC(M,L);case 17:return Ve.INC(M,L);case 18:return Ie.EXC(M,L);case 19:return Ve.EXC(M,L)}},l.AMORDEGRC=function(){throw new Error("AMORDEGRC is not implemented")},l.AMORLINC=function(){throw new Error("AMORLINC is not implemented")},l.AND=function(){const d=Y(arguments);let E=g;for(let M=0;M<d.length;M++){if(d[M]instanceof Error)return d[M];d[M]!==void 0&&d[M]!==null&&typeof d[M]!="string"&&(E===g&&(E=!0),d[M]||(E=!1))}return E},l.ARABIC=function(d){if(d==null)return 0;if(d instanceof Error)return d;if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(d))return g;let E=0;return d.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,M=>{E+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[M]}),E},l.ASC=function(){throw new Error("ASC is not implemented")},l.ASIN=function(d){if((d=re(d))instanceof Error)return d;let E=Math.asin(d);return isNaN(E)&&(E=T),E},l.ASINH=function(d){return(d=re(d))instanceof Error?d:Math.log(d+Math.sqrt(d*d+1))},l.ATAN=function(d){return(d=re(d))instanceof Error?d:Math.atan(d)},l.ATAN2=function(d,E){return ve(d=re(d),E=re(E))||Math.atan2(d,E)},l.ATANH=function(d){if((d=re(d))instanceof Error)return d;let E=Math.log((1+d)/(1-d))/2;return isNaN(E)&&(E=T),E},l.AVEDEV=function(){const d=Y(arguments).filter(Ze);if(d.length===0)return T;const E=Ue(d);return E instanceof Error?E:f.sum(f(E).subtract(f.mean(E)).abs()[0])/E.length},l.AVERAGE=D,l.AVERAGEA=N,l.AVERAGEIF=function(d,E,M){if(arguments.length<=1)return O;if(M=Ue(Y(M=M||d).filter(Ze)),d=Y(d),M instanceof Error)return M;let L=0,K=0;const Z=E===void 0||E==="*",ce=Z?null:ze(E+"");for(let xe=0;xe<d.length;xe++){const Be=d[xe];if(Z)K+=M[xe],L++;else{const ot=[je(Be,Pe)].concat(ce);rt(ot)&&(K+=M[xe],L++)}}return K/L},l.AVERAGEIFS=function(){const d=P(arguments),E=(d.length-1)/2,M=Y(d[0]);let L=0,K=0;for(let ce=0;ce<M.length;ce++){let xe=!1;for(let Be=0;Be<E;Be++){const ot=d[2*Be+1][ce],yt=d[2*Be+2];let wt=!1;if(yt===void 0||yt==="*")wt=!0;else{const At=ze(yt+""),Bt=[je(ot,Pe)].concat(At);wt=rt(Bt)}if(!wt){xe=!1;break}xe=!0}xe&&(K+=M[ce],L++)}const Z=K/L;return isNaN(Z)?0:Z},l.BAHTTEXT=function(){throw new Error("BAHTTEXT is not implemented")},l.BASE=function(d,E,M){const L=ve(d=re(d),E=re(E),M=re(M));if(L)return L;if(E===0)return T;const K=d.toString(E);return new Array(Math.max(M+1-K.length,0)).join("0")+K},l.BESSELI=function(d,E){return fe(d=re(d),E=re(E))?g:b.besseli(d,E)},l.BESSELJ=function(d,E){return fe(d=re(d),E=re(E))?g:b.besselj(d,E)},l.BESSELK=function(d,E){return fe(d=re(d),E=re(E))?g:b.besselk(d,E)},l.BESSELY=function(d,E){return fe(d=re(d),E=re(E))?g:b.bessely(d,E)},l.BETA=X,l.BETADIST=Qo,l.BETAINV=Ei,l.BIN2DEC=function(d){if(!Gr(d))return T;const E=parseInt(d,2),M=d.toString();return M.length===10&&M.substring(0,1)==="1"?parseInt(M.substring(1),2)-512:E},l.BIN2HEX=function(d,E){if(!Gr(d))return T;const M=d.toString();if(M.length===10&&M.substring(0,1)==="1")return(0xfffffffe00+parseInt(M.substring(1),2)).toString(16);const L=parseInt(d,2).toString(16);return E===void 0?L:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=L.length?Tn("0",E-L.length)+L:T},l.BIN2OCT=function(d,E){if(!Gr(d))return T;const M=d.toString();if(M.length===10&&M.substring(0,1)==="1")return(1073741312+parseInt(M.substring(1),2)).toString(8);const L=parseInt(d,2).toString(8);return E===void 0?L:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=L.length?Tn("0",E-L.length)+L:T},l.BINOM=Ee,l.BINOMDIST=es,l.BITAND=function(d,E){return fe(d=re(d),E=re(E))?g:d<0||E<0||Math.floor(d)!==d||Math.floor(E)!==E||d>0xffffffffffff||E>0xffffffffffff?T:d&E},l.BITLSHIFT=function(d,E){return fe(d=re(d),E=re(E))?g:d<0||Math.floor(d)!==d||d>0xffffffffffff||Math.abs(E)>53?T:E>=0?d<<E:d>>-E},l.BITOR=function(d,E){return fe(d=re(d),E=re(E))?g:d<0||E<0||Math.floor(d)!==d||Math.floor(E)!==E||d>0xffffffffffff||E>0xffffffffffff?T:d|E},l.BITRSHIFT=function(d,E){return fe(d=re(d),E=re(E))?g:d<0||Math.floor(d)!==d||d>0xffffffffffff||Math.abs(E)>53?T:E>=0?d>>E:d<<-E},l.BITXOR=function(d,E){return fe(d=re(d),E=re(E))?g:d<0||E<0||Math.floor(d)!==d||Math.floor(E)!==E||d>0xffffffffffff||E>0xffffffffffff?T:d^E},l.CEILING=Pt,l.CEILINGMATH=ns,l.CEILINGPRECISE=rs,l.CELL=function(){throw new Error("CELL is not implemented")},l.CHAR=yi,l.CHIDIST=is,l.CHIDISTRT=ss,l.CHIINV=an,l.CHIINVRT=sn,l.CHISQ=be,l.CHITEST=as,l.CHOOSE=function(){if(arguments.length<2)return O;const d=arguments[0];return d<1||d>254||arguments.length<d+1?g:arguments[d]},l.CLEAN=function(d){return fe(d)?d:(d=d||"").replace(/[\0-\x1F]/g,"")},l.CODE=Yr,l.COLUMN=function(d,E){return arguments.length!==2?O:E<0?T:d instanceof Array&&typeof E=="number"?d.length!==0?f.col(d,E):void 0:g},l.COLUMNS=function(d){return arguments.length!==1?O:d instanceof Array?d.length===0?0:f.cols(d):g},l.COMBIN=rn,l.COMBINA=function(d,E){return ve(d=re(d),E=re(E))||(d<E?T:d===0&&E===0?1:rn(d+E-1,d-1))},l.COMPLEX=vn,l.CONCAT=qi,l.CONCATENATE=Yi,l.CONFIDENCE=J,l.CONVERT=function(d,E,M){if((d=re(d))instanceof Error)return d;const L=[["a.u. of action","?",null,"action",!1,!1,105457168181818e-48],["a.u. of charge","e",null,"electric_charge",!1,!1,160217653141414e-33],["a.u. of energy","Eh",null,"energy",!1,!1,435974417757576e-32],["a.u. of length","a?",null,"length",!1,!1,529177210818182e-25],["a.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["a.u. of time","?/Eh",null,"time",!1,!1,241888432650516e-31],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ångström","Å",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,149597870691667e-25],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ångström","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,846786664623715e-61],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,416818182544058e-5],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,758660370370369e-22],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,166053886282828e-41],["day","d",["day"],"time",!1,!0,86400],["degree","°",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519538e-3],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,105457168181818e-48],["n.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,128808866778687e-35],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["œrsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","Ω",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestärke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ångström","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,895054210748189e17],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988110336e-6],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],K={Yi:["yobi",80,12089258196146292e8,"Yi","yotta"],Zi:["zebi",70,11805916207174113e5,"Zi","zetta"],Ei:["exbi",60,1152921504606847e3,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},Z={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]};let ce,xe=null,Be=null,ot=E,yt=M,wt=1,At=1;for(let Bt=0;Bt<L.length;Bt++)ce=L[Bt][2]===null?[]:L[Bt][2],(L[Bt][1]===ot||ce.indexOf(ot)>=0)&&(xe=L[Bt]),(L[Bt][1]===yt||ce.indexOf(yt)>=0)&&(Be=L[Bt]);if(xe===null){const Bt=K[E.substring(0,2)];let Yt=Z[E.substring(0,1)];E.substring(0,2)==="da"&&(Yt=["dekao",10,"da"]),Bt?(wt=Bt[2],ot=E.substring(2)):Yt&&(wt=Yt[1],ot=E.substring(Yt[2].length));for(let Zt=0;Zt<L.length;Zt++)ce=L[Zt][2]===null?[]:L[Zt][2],(L[Zt][1]===ot||ce.indexOf(ot)>=0)&&(xe=L[Zt])}if(Be===null){const Bt=K[M.substring(0,2)];let Yt=Z[M.substring(0,1)];M.substring(0,2)==="da"&&(Yt=["dekao",10,"da"]),Bt?(At=Bt[2],yt=M.substring(2)):Yt&&(At=Yt[1],yt=M.substring(Yt[2].length));for(let Zt=0;Zt<L.length;Zt++)ce=L[Zt][2]===null?[]:L[Zt][2],(L[Zt][1]===yt||ce.indexOf(yt)>=0)&&(Be=L[Zt])}return xe===null||Be===null||xe[3]!==Be[3]?O:d*xe[6]*wt/(Be[6]*At)},l.CORREL=function(d,E){return fe(d=Ue(Y(d)),E=Ue(Y(E)))?g:f.corrcoeff(d,E)},l.COS=function(d){return(d=re(d))instanceof Error?d:Math.cos(d)},l.COSH=function(d){return(d=re(d))instanceof Error?d:(Math.exp(d)+Math.exp(-d))/2},l.COT=function(d){return(d=re(d))instanceof Error?d:d===0?v:1/Math.tan(d)},l.COTH=function(d){if((d=re(d))instanceof Error)return d;if(d===0)return v;const E=Math.exp(2*d);return(E+1)/(E-1)},l.COUNT=z,l.COUNTA=ne,l.COUNTBLANK=te,l.COUNTIF=function(d,E){if(d=Y(d),E===void 0||E==="*")return d.length;let M=0;const L=ze(E+"");for(let K=0;K<d.length;K++){const Z=[je(d[K],Pe)].concat(L);rt(Z)&&M++}return M},l.COUNTIFS=function(){const d=P(arguments),E=new Array(Y(d[0]).length);for(let L=0;L<E.length;L++)E[L]=!0;for(let L=0;L<d.length;L+=2){const K=Y(d[L]),Z=d[L+1];if(Z!==void 0&&Z!=="*"){const ce=ze(Z+"");for(let xe=0;xe<K.length;xe++){const Be=[je(K[xe],Pe)].concat(ce);E[xe]=E[xe]&&rt(Be)}}}let M=0;for(let L=0;L<E.length;L++)E[L]&&M++;return M},l.COUPDAYBS=function(){throw new Error("COUPDAYBS is not implemented")},l.COUPDAYS=function(){throw new Error("COUPDAYS is not implemented")},l.COUPDAYSNC=function(){throw new Error("COUPDAYSNC is not implemented")},l.COUPNCD=function(){throw new Error("COUPNCD is not implemented")},l.COUPNUM=function(){throw new Error("COUPNUM is not implemented")},l.COUPPCD=function(){throw new Error("COUPPCD is not implemented")},l.COVAR=ls,l.COVARIANCE=de,l.COVARIANCEP=cs,l.COVARIANCES=us,l.CRITBINOM=ds,l.CSC=function(d){return(d=re(d))instanceof Error?d:d===0?v:1/Math.sin(d)},l.CSCH=function(d){return(d=re(d))instanceof Error?d:d===0?v:2/(Math.exp(d)-Math.exp(-d))},l.CUMIPMT=function(d,E,M,L,K,Z){if(fe(d=re(d),E=re(E),M=re(M)))return g;if(d<=0||E<=0||M<=0||L<1||K<1||L>K||Z!==0&&Z!==1)return T;const ce=Lr(d,E,M,0,Z);let xe=0;L===1&&(Z===0&&(xe=-M),L++);for(let Be=L;Be<=K;Be++)xe+=Z===1?ur(d,Be-2,ce,M,1)-ce:ur(d,Be-1,ce,M,0);return xe*=d,xe},l.CUMPRINC=function(d,E,M,L,K,Z){if(fe(d=re(d),E=re(E),M=re(M)))return g;if(d<=0||E<=0||M<=0||L<1||K<1||L>K||Z!==0&&Z!==1)return T;const ce=Lr(d,E,M,0,Z);let xe=0;L===1&&(xe=Z===0?ce+M*d:ce,L++);for(let Be=L;Be<=K;Be++)xe+=Z>0?ce-(ur(d,Be-2,ce,M,1)-ce)*d:ce-ur(d,Be-1,ce,M,0)*d;return xe},l.DATE=function(d,E,M){let L;return fe(d=re(d),E=re(E),M=re(M))?L=g:(L=new Date(d,E-1,M),L.getFullYear()<0&&(L=T)),L},l.DATEDIF=Mr,l.DATEVALUE=function(d){if(typeof d!="string")return g;const E=Date.parse(d);return isNaN(E)?g:new Date(d)},l.DAVERAGE=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);let Z=0;return B(L,ce=>{Z+=K[ce]}),L.length===0?v:Z/L.length},l.DAY=function(d){const E=et(d);return E instanceof Error?E:E.getDate()},l.DAYS=nr,l.DAYS360=Jn,l.DB=function(d,E,M,L,K){if(K=K===void 0?12:K,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K)))return g;if(d<0||E<0||M<0||L<0||[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(K)===-1||L>M)return T;if(E>=d)return 0;const Z=(1-Math.pow(E/d,1/M)).toFixed(3),ce=d*Z*K/12;let xe=ce,Be=0;const ot=L===M?M-1:L;for(let yt=2;yt<=ot;yt++)Be=(d-xe)*Z,xe+=Be;return L===1?ce:L===M?(d-xe)*Z:Be},l.DBCS=function(){throw new Error("DBCS is not implemented")},l.DCOUNT=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);const Z=[];return B(L,ce=>{Z.push(K[ce])}),z(Z)},l.DCOUNTA=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);const Z=[];return B(L,ce=>{Z.push(K[ce])}),ne(Z)},l.DDB=function(d,E,M,L,K){if(K=K===void 0?2:K,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K)))return g;if(d<0||E<0||M<0||L<0||K<=0||L>M)return T;if(E>=d)return 0;let Z=0,ce=0;for(let xe=1;xe<=L;xe++)ce=Math.min(K/M*(d-Z),d-E-Z),Z+=ce;return ce},l.DEC2BIN=function(d,E){if((d=re(d))instanceof Error)return d;if(!/^-?[0-9]{1,3}$/.test(d)||d<-512||d>511)return T;if(d<0)return"1"+Tn("0",9-(512+d).toString(2).length)+(512+d).toString(2);const M=parseInt(d,10).toString(2);return E===void 0?M:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=M.length?Tn("0",E-M.length)+M:T},l.DEC2HEX=function(d,E){if((d=re(d))instanceof Error)return d;if(!/^-?[0-9]{1,12}$/.test(d)||d<-549755813888||d>549755813887)return T;if(d<0)return(1099511627776+d).toString(16);const M=parseInt(d,10).toString(16);return E===void 0?M:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=M.length?Tn("0",E-M.length)+M:T},l.DEC2OCT=function(d,E){if((d=re(d))instanceof Error)return d;if(!/^-?[0-9]{1,9}$/.test(d)||d<-536870912||d>536870911)return T;if(d<0)return(1073741824+d).toString(8);const M=parseInt(d,10).toString(8);return E===void 0?M:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=M.length?Tn("0",E-M.length)+M:T},l.DECIMAL=function(d,E){return arguments.length<1?g:ve(d=re(d),E=re(E))||(E===0?T:parseInt(d,E))},l.DEGREES=function(d){return(d=re(d))instanceof Error?d:180*d/Math.PI},l.DELTA=function(d,E){return E=E===void 0?0:E,fe(d=re(d),E=re(E))?g:d===E?1:0},l.DEVSQ=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=f.mean(d);let M=0;for(let L=0;L<d.length;L++)M+=Math.pow(d[L]-E,2);return M},l.DGET=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];return K=Q(typeof E=="string"?d[Se(d,E)]:d[E]),L.length===0?g:L.length>1?T:K[L[0]]},l.DISC=function(d,E,M,L,K){if(fe(d=et(d),E=et(E),M=re(M),L=re(L),K=(K=re(K))||0))return g;if(M<=0||L<=0)return T;if(d>=E)return g;let Z,ce;switch(K){case 0:Z=360,ce=Jn(d,E,!1);break;case 1:case 3:Z=365,ce=Mr(d,E,"D");break;case 2:Z=360,ce=Mr(d,E,"D");break;case 4:Z=360,ce=Jn(d,E,!0);break;default:return T}return(L-M)/L*Z/ce},l.DMAX=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);let Z=K[L[0]];return B(L,ce=>{Z<K[ce]&&(Z=K[ce])}),Z},l.DMIN=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);let Z=K[L[0]];return B(L,ce=>{Z>K[ce]&&(Z=K[ce])}),Z},l.DOLLAR=function(d,E=2){if(d=re(d),isNaN(d))return g;const M={style:"currency",currency:"USD",minimumFractionDigits:E>=0?E:0,maximumFractionDigits:E>=0?E:0},L=(d=Wn(d,E)).toLocaleString("en-US",M);return d<0?"$("+L.slice(2)+")":L},l.DOLLARDE=function(d,E){if(fe(d=re(d),E=re(E)))return g;if(E<0)return T;if(E>=0&&E<1)return v;E=parseInt(E,10);let M=parseInt(d,10);M+=d%1*Math.pow(10,Math.ceil(Math.log(E)/Math.LN10))/E;const L=Math.pow(10,Math.ceil(Math.log(E)/Math.LN2)+1);return M=Math.round(M*L)/L,M},l.DOLLARFR=function(d,E){if(fe(d=re(d),E=re(E)))return g;if(E<0)return T;if(E>=0&&E<1)return v;E=parseInt(E,10);let M=parseInt(d,10);return M+=d%1*Math.pow(10,-Math.ceil(Math.log(E)/Math.LN10))*E,M},l.DPRODUCT=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const xe=Se(d,E);K=Q(d[xe])}else K=Q(d[E]);let Z=[];B(L,xe=>{Z.push(K[xe])}),Z=Rr(Z);let ce=1;return B(Z,xe=>{ce*=xe}),ce},l.DSTDEV=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);let Z=[];return B(L,ce=>{Z.push(K[ce])}),Z=Rr(Z),Ct.S(Z)},l.DSTDEVP=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);let Z=[];return B(L,ce=>{Z.push(K[ce])}),Z=Rr(Z),Ct.P(Z)},l.DSUM=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);const Z=[];return B(L,ce=>{Z.push(K[ce])}),er(Z)},l.DURATION=function(){throw new Error("DURATION is not implemented")},l.DVAR=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);const Z=[];return B(L,ce=>{Z.push(K[ce])}),_e.S(Z)},l.DVARP=function(d,E,M){if(isNaN(E)&&typeof E!="string")return g;const L=En(d,M);let K=[];if(typeof E=="string"){const ce=Se(d,E);K=Q(d[ce])}else K=Q(d[E]);const Z=[];return B(L,ce=>{Z.push(K[ce])}),_e.P(Z)},l.EDATE=function(d,E){return(d=et(d))instanceof Error?d:isNaN(E)?g:(E=parseInt(E,10),d.setMonth(d.getMonth()+E),d)},l.EFFECT=function(d,E){return fe(d=re(d),E=re(E))?g:d<=0||E<1?T:(E=parseInt(E,10),Math.pow(1+d/E,E)-1)},l.EOMONTH=function(d,E){return(d=et(d))instanceof Error?d:isNaN(E)?g:(E=parseInt(E,10),new Date(d.getFullYear(),d.getMonth()+E+1,0))},l.ERF=Jr,l.ERFC=Xr,l.ERFCPRECISE=fs,l.ERFPRECISE=Zi,l.ERROR=mt,l.EVEN=function(d){return(d=re(d))instanceof Error?d:Pt(d,-2,-1)},l.EXACT=function(d,E){return arguments.length!==2?O:ve(d,E)||(d=gt(d))===gt(E)},l.EXP=function(d){return arguments.length<1?O:arguments.length>1?R:(d=re(d))instanceof Error?d:d=Math.exp(d)},l.EXPON=Me,l.EXPONDIST=ps,l.F=Ae,l.FACT=$t,l.FACTDOUBLE=function d(E){if((E=re(E))instanceof Error)return E;const M=Math.floor(E);return M<=0?1:M*d(M-2)},l.FALSE=function(){return!1},l.FDIST=mn,l.FDISTRT=bi,l.FIND=function(d,E,M){if(arguments.length<2)return O;d=gt(d),M=M===void 0?0:M;const L=(E=gt(E)).indexOf(d,M-1);return L===-1?g:L+1},l.FINV=cr,l.FINVRT=Qi,l.FISHER=function(d){return(d=re(d))instanceof Error?d:Math.log((1+d)/(1-d))/2},l.FISHERINV=function(d){if((d=re(d))instanceof Error)return d;const E=Math.exp(2*d);return(E-1)/(E+1)},l.FIXED=qr,l.FLOOR=Xt,l.FLOORMATH=Ci,l.FLOORPRECISE=kn,l.FORECAST=De,l.FREQUENCY=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=d.length,L=E.length,K=[];for(let Z=0;Z<=L;Z++){K[Z]=0;for(let ce=0;ce<M;ce++)Z===0?d[ce]<=E[0]&&(K[0]+=1):Z<L?d[ce]>E[Z-1]&&d[ce]<=E[Z]&&(K[Z]+=1):Z===L&&d[ce]>E[L-1]&&(K[L]+=1)}return K},l.FTEST=eo,l.FV=ur,l.FVSCHEDULE=function(d,E){if(fe(d=re(d),E=Ue(Y(E))))return g;const M=E.length;let L=d;for(let K=0;K<M;K++)L*=1+E[K];return L},l.GAMMA=Ge,l.GAMMADIST=to,l.GAMMAINV=no,l.GAMMALN=ct,l.GAMMALNPRECISE=ro,l.GAUSS=function(d){return(d=re(d))instanceof Error?d:f.normal.cdf(d,0,1)-.5},l.GCD=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=d.length,M=d[0];let L=M<0?-M:M;for(let K=1;K<E;K++){const Z=d[K];let ce=Z<0?-Z:Z;for(;L&&ce;)L>ce?L%=ce:ce%=L;L+=ce}return L},l.GEOMEAN=function(){const d=Ue(Y(arguments));return d instanceof Error?d:f.geomean(d)},l.GESTEP=function(d,E){return fe(E=E||0,d=re(d))?d:d>=E?1:0},l.GROWTH=function(d,E,M,L){if((d=Ue(d))instanceof Error)return d;let K;if(E===void 0)for(E=[],K=1;K<=d.length;K++)E.push(K);if(M===void 0)for(M=[],K=1;K<=d.length;K++)M.push(K);if(fe(E=Ue(E),M=Ue(M)))return g;L===void 0&&(L=!0);const Z=d.length;let ce,xe,Be=0,ot=0,yt=0,wt=0;for(K=0;K<Z;K++){const Bt=E[K],Yt=Math.log(d[K]);Be+=Bt,ot+=Yt,yt+=Bt*Yt,wt+=Bt*Bt}Be/=Z,ot/=Z,yt/=Z,wt/=Z,L?(ce=(yt-Be*ot)/(wt-Be*Be),xe=ot-ce*Be):(ce=yt/wt,xe=0);const At=[];for(K=0;K<M.length;K++)At.push(Math.exp(xe+ce*M[K]));return At},l.HARMEAN=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=d.length;let M=0;for(let L=0;L<E;L++)M+=1/d[L];return E/M},l.HEX2BIN=function(d,E){if(!/^[0-9A-Fa-f]{1,10}$/.test(d))return T;const M=!(d.length!==10||d.substring(0,1).toLowerCase()!=="f"),L=M?parseInt(d,16)-1099511627776:parseInt(d,16);if(L<-512||L>511)return T;if(M)return"1"+Tn("0",9-(512+L).toString(2).length)+(512+L).toString(2);const K=L.toString(2);return E===void 0?K:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=K.length?Tn("0",E-K.length)+K:T},l.HEX2DEC=function(d){if(!/^[0-9A-Fa-f]{1,10}$/.test(d))return T;const E=parseInt(d,16);return E>=549755813888?E-1099511627776:E},l.HEX2OCT=function(d,E){if(!/^[0-9A-Fa-f]{1,10}$/.test(d))return T;const M=parseInt(d,16);if(M>536870911&&M<0xffe0000000)return T;if(M>=0xffe0000000)return(M-0xffc0000000).toString(8);const L=M.toString(8);return E===void 0?L:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=L.length?Tn("0",E-L.length)+L:T},l.HLOOKUP=function(d,E,M,L){return W(d,le(E),M,L)},l.HOUR=function(d){return(d=et(d))instanceof Error?d:d.getHours()},l.HYPGEOM=pt,l.HYPGEOMDIST=io,l.IF=function(d,E,M){return d instanceof Error?d:((E=!(arguments.length>=2)||E)==null&&(E=0),(M=arguments.length===3&&M)==null&&(M=0),d?E:M)},l.IFERROR=function(d,E){return lt(d)?E:d},l.IFNA=function(d,E){return d===O?E:d},l.IFS=function(){for(let d=0;d<arguments.length/2;d++)if(arguments[2*d])return arguments[2*d+1];return O},l.IMABS=Zr,l.IMAGINARY=Qt,l.IMARGUMENT=vi,l.IMCONJUGATE=function(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",M!==0?vn(E,-M,L):d},l.IMCOS=Qr,l.IMCOSH=Ji,l.IMCOT=function(d){return fe(tn(d),Qt(d))?g:rr(Qr(d),ei(d))},l.IMCSC=function(d){return d===!0||d===!1?g:fe(tn(d),Qt(d))?T:rr("1",ei(d))},l.IMCSCH=function(d){return d===!0||d===!1?g:fe(tn(d),Qt(d))?T:rr("1",Xi(d))},l.IMDIV=rr,l.IMEXP=function(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);L=L==="i"||L==="j"?L:"i";const K=Math.exp(E);return vn(K*Math.cos(M),K*Math.sin(M),L)},l.IMLN=function(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.log(Math.sqrt(E*E+M*M)),Math.atan(M/E),L)},l.IMLOG10=function(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.log(Math.sqrt(E*E+M*M))/Math.log(10),Math.atan(M/E)/Math.log(10),L)},l.IMLOG2=function(d){const E=tn(d),M=Qt(d);if(fe(E,M))return g;let L=d.substring(d.length-1);return L=L==="i"||L==="j"?L:"i",vn(Math.log(Math.sqrt(E*E+M*M))/Math.log(2),Math.atan(M/E)/Math.log(2),L)},l.IMPOWER=function(d,E){if(fe(E=re(E),tn(d),Qt(d)))return g;let M=d.substring(d.length-1);M=M==="i"||M==="j"?M:"i";const L=Math.pow(Zr(d),E),K=vi(d);return vn(L*Math.cos(E*K),L*Math.sin(E*K),M)},l.IMPRODUCT=function(){let d=arguments[0];if(!arguments.length)return g;for(let E=1;E<arguments.length;E++){const M=tn(d),L=Qt(d),K=tn(arguments[E]),Z=Qt(arguments[E]);if(fe(M,L,K,Z))return g;d=vn(M*K-L*Z,M*Z+L*K)}return d},l.IMREAL=tn,l.IMSEC=function(d){return d===!0||d===!1||fe(tn(d),Qt(d))?g:rr("1",Qr(d))},l.IMSECH=function(d){return fe(tn(d),Qt(d))?g:rr("1",Ji(d))},l.IMSIN=ei,l.IMSINH=Xi,l.IMSQRT=function(d){if(fe(tn(d),Qt(d)))return g;let E=d.substring(d.length-1);E=E==="i"||E==="j"?E:"i";const M=Math.sqrt(Zr(d)),L=vi(d);return vn(M*Math.cos(L/2),M*Math.sin(L/2),E)},l.IMSUB=function(d,E){const M=tn(d),L=Qt(d),K=tn(E),Z=Qt(E);if(fe(M,L,K,Z))return g;const ce=d.substring(d.length-1),xe=E.substring(E.length-1);let Be="i";return(ce==="j"||xe==="j")&&(Be="j"),vn(M-K,L-Z,Be)},l.IMSUM=function(){if(!arguments.length)return g;const d=Y(arguments);let E=d[0];for(let M=1;M<d.length;M++){const L=tn(E),K=Qt(E),Z=tn(d[M]),ce=Qt(d[M]);if(fe(L,K,Z,ce))return g;E=vn(L+Z,K+ce)}return E},l.IMTAN=function(d){return d===!0||d===!1||fe(tn(d),Qt(d))?g:rr(ei(d),Qr(d))},l.INDEX=function(d,E,M){const L=ve(d,E,M);if(L)return L;if(!Array.isArray(d))return g;const K=d.length>0&&!Array.isArray(d[0]);return K&&!M?(M=E,E=1):(M=M||1,E=E||1),M<0||E<0?g:K&&E===1&&M<=d.length?d[M-1]:E<=d.length&&M<=d[E-1].length?d[E-1][M-1]:w},l.INFO=function(){throw new Error("INFO is not implemented")},l.INT=function(d){return(d=re(d))instanceof Error?d:Math.floor(d)},l.INTERCEPT=function(d,E){return fe(d=Ue(d),E=Ue(E))?g:d.length!==E.length?O:De(0,d,E)},l.INTRATE=function(){throw new Error("INTRATE is not implemented")},l.IPMT=po,l.IRR=function(d,E){if(E=E||0,fe(d=Ue(Y(d)),E=re(E)))return g;const M=(At,Bt,Yt)=>{const Zt=Yt+1;let _n=At[0];for(let un=1;un<At.length;un++)_n+=At[un]/Math.pow(Zt,(Bt[un]-Bt[0])/365);return _n},L=(At,Bt,Yt)=>{const Zt=Yt+1;let _n=0;for(let un=1;un<At.length;un++){const On=(Bt[un]-Bt[0])/365;_n-=On*At[un]/Math.pow(Zt,On+1)}return _n},K=[];let Z=!1,ce=!1;for(let At=0;At<d.length;At++)K[At]=At===0?0:K[At-1]+365,d[At]>0&&(Z=!0),d[At]<0&&(ce=!0);if(!Z||!ce)return T;let xe,Be,ot,yt=E=E===void 0?.1:E,wt=!0;do ot=M(d,K,yt),xe=yt-ot/L(d,K,yt),Be=Math.abs(xe-yt),yt=xe,wt=Be>1e-10&&Math.abs(ot)>1e-10;while(wt);return yt},l.ISBLANK=function(d){return d===null},l.ISERR=dt,l.ISERROR=lt,l.ISEVEN=function(d){return!(1&Math.floor(Math.abs(d)))},l.ISFORMULA=function(){throw new Error("ISFORMULA is not implemented")},l.ISLOGICAL=We,l.ISNA=function(d){return d===O},l.ISNONTEXT=function(d){return typeof d!="string"},l.ISNUMBER=St,l.ISO=Ft,l.ISODD=function(d){return!!(1&Math.floor(Math.abs(d)))},l.ISOWEEKNUM=zr,l.ISPMT=function(d,E,M,L){return fe(d=re(d),E=re(E),M=re(M),L=re(L))?g:L*d*(E/M-1)},l.ISREF=function(){throw new Error("ISREF is not implemented")},l.ISTEXT=Et,l.KURT=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;const E=f.mean(d),M=d.length;let L=0;for(let K=0;K<M;K++)L+=Math.pow(d[K]-E,4);return L/=Math.pow(f.stdev(d,!0),4),M*(M+1)/((M-1)*(M-2)*(M-3))*L-3*(M-1)*(M-1)/((M-2)*(M-3))},l.LARGE=Dt,l.LCM=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;for(var E,M,L,K,Z=1;(L=d.pop())!==void 0;){if(L===0)return 0;for(;L>1;){if(L%2){for(E=3,M=Math.floor(Math.sqrt(L));E<=M&&L%E;E+=2);K=E<=M?E:L}else K=2;for(L/=K,Z*=K,E=d.length;E;d[--E]%K==0&&(d[E]/=K)==1&&d.splice(E,1));}}return Z},l.LEFT=function(d,E){return ve(d,E)||(d=gt(d),(E=re(E=E===void 0?1:E))instanceof Error||typeof d!="string"?g:d.substring(0,E))},l.LEN=function(d){return arguments.length===0?R:d instanceof Error?d:Array.isArray(d)?g:gt(d).length},l.LINEST=It,l.LN=function(d){return(d=re(d))instanceof Error?d:d===0?T:Math.log(d)},l.LOG=function(d,E){return ve(d=re(d),E=re(E))||(d===0||E===0?T:Math.log(d)/Math.log(E))},l.LOG10=function(d){return(d=re(d))instanceof Error?d:d===0?T:Math.log(d)/Math.log(10)},l.LOGEST=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E)))||d.length!==E.length)return g;for(let L=0;L<d.length;L++)d[L]=Math.log(d[L]);const M=It(d,E);return M[0]=Math.round(1e6*Math.exp(M[0]))/1e6,M[1]=Math.round(1e6*Math.exp(M[1]))/1e6,M},l.LOGINV=oo,l.LOGNORM=Ce,l.LOGNORMDIST=xn,l.LOGNORMINV=hs,l.LOOKUP=function(d,E,M){E=Y(E),M=M?Y(M):E;const L=typeof d=="number";let K=O;for(let Z=0;Z<E.length;Z++){if(E[Z]===d)return M[Z];if(L&&E[Z]<=d||typeof E[Z]=="string"&&E[Z].localeCompare(d)<0)K=M[Z];else if(L&&E[Z]>d)return K}return K},l.LOWER=function(d){return arguments.length!==1?g:fe(d=gt(d))?d:d.toLowerCase()},l.MATCH=function(d,E,M){if(!d||!E||(arguments.length===2&&(M=1),!((E=Y(E))instanceof Array))||M!==-1&&M!==0&&M!==1)return O;let L,K;for(let Z=0;Z<E.length;Z++)if(M===1){if(E[Z]===d)return Z+1;E[Z]<d&&(K?E[Z]>K&&(L=Z+1,K=E[Z]):(L=Z+1,K=E[Z]))}else if(M===0){if(typeof d=="string"&&typeof E[Z]=="string"){const ce=d.toLowerCase().replace(/\?/g,".").replace(/\*/g,".*").replace(/~/g,"\\");if(new RegExp("^"+ce+"$").test(E[Z].toLowerCase()))return Z+1}else if(E[Z]===d)return Z+1}else if(M===-1){if(E[Z]===d)return Z+1;E[Z]>d&&(K?E[Z]<K&&(L=Z+1,K=E[Z]):(L=Z+1,K=E[Z]))}return L||O},l.MAX=He,l.MAXA=function(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;let M=j(d);return M=M.map(L=>L??0),M.length===0?0:Math.max.apply(Math,M)},l.MDURATION=function(){throw new Error("MDURATION is not implemented")},l.MEDIAN=it,l.MID=function(d,E,M){if(E==null)return g;if(fe(E=re(E),M=re(M))||typeof d!="string")return M;const L=E-1,K=L+M;return d.substring(L,K)},l.MIN=oe,l.MINA=function(){const d=Y(arguments),E=ve.apply(void 0,d);if(E)return E;let M=j(d);return M=M.map(L=>L??0),M.length===0?0:Math.min.apply(Math,M)},l.MINUTE=function(d){return(d=et(d))instanceof Error?d:d.getMinutes()},l.MIRR=function(d,E,M){if(fe(d=Ue(Y(d)),E=re(E),M=re(M)))return g;const L=d.length,K=[],Z=[];for(let Be=0;Be<L;Be++)d[Be]<0?K.push(d[Be]):Z.push(d[Be]);const ce=-Oi(M,Z)*Math.pow(1+M,L-1),xe=Oi(E,K)*(1+E);return Math.pow(ce/xe,1/(L-1))-1},l.MMULT=function(d,E){return!Array.isArray(d)||!Array.isArray(E)||d.some(M=>!M.length)||E.some(M=>!M.length)||ae(d).some(M=>typeof M!="number")||ae(E).some(M=>typeof M!="number")||d[0].length!==E.length?g:Array(d.length).fill(0).map(()=>Array(E[0].length).fill(0)).map((M,L)=>M.map((K,Z)=>d[L].reduce((ce,xe,Be)=>ce+xe*E[Be][Z],0)))},l.MOD=function(d,E){const M=ve(d=re(d),E=re(E));if(M)return M;if(E===0)return v;let L=Math.abs(d%E);return L=d<0?E-L:L,E>0?L:-L},l.MODE=ge,l.MODEMULT=Rn,l.MODESNGL=ms,l.MONTH=function(d){return(d=et(d))instanceof Error?d:d.getMonth()+1},l.MROUND=function(d,E){return ve(d=re(d),E=re(E))||(d*E==0?0:d*E<0?T:Math.round(d/E)*E)},l.MULTINOMIAL=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;let E=0,M=1;for(let L=0;L<d.length;L++)E+=d[L],M*=$t(d[L]);return $t(E)/M},l.MUNIT=function(d){return arguments.length>1?O:!(d=parseInt(d))||d<=0?g:Array(d).fill(0).map(()=>Array(d).fill(0)).map((E,M)=>(E[M]=1,E))},l.N=function(d){return St(d)?d:d instanceof Date?d.getTime():d===!0?1:d===!1?0:lt(d)?d:0},l.NA=function(){return O},l.NEGBINOM=F,l.NEGBINOMDIST=so,l.NETWORKDAYS=Kr,l.NETWORKDAYSINTL=ir,l.NOMINAL=function(d,E){return fe(d=re(d),E=re(E))?g:d<=0||E<1?T:(E=parseInt(E,10),(Math.pow(d+1,1/E)-1)*E)},l.NORM=G,l.NORMDIST=ti,l.NORMINV=Ti,l.NORMSDIST=cn,l.NORMSINV=or,l.NOT=function(d){return typeof d=="string"?g:d instanceof Error?d:!d},l.NOW=function(){return new Date},l.NPER=function(d,E,M,L,K){if(K=K===void 0?0:K,L=L===void 0?0:L,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K)))return g;if(d===0)return-(M+L)/E;{const Z=E*(1+d*K)-L*d,ce=M*d+E*(1+d*K);return Math.log(Z/ce)/Math.log(1+d)}},l.NPV=Oi,l.NUMBERVALUE=function(d,E,M){return typeof(d=Ze(d)?d:"")=="number"?d:typeof d!="string"?O:(E=E===void 0?".":E,M=M===void 0?",":M,Number(d.replace(E,".").replace(M,"")))},l.OCT2BIN=function(d,E){if(!/^[0-7]{1,10}$/.test(d))return T;const M=!(d.length!==10||d.substring(0,1)!=="7"),L=M?parseInt(d,8)-1073741824:parseInt(d,8);if(L<-512||L>511)return T;if(M)return"1"+Tn("0",9-(512+L).toString(2).length)+(512+L).toString(2);const K=L.toString(2);return E===void 0?K:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=K.length?Tn("0",E-K.length)+K:T},l.OCT2DEC=function(d){if(!/^[0-7]{1,10}$/.test(d))return T;const E=parseInt(d,8);return E>=536870912?E-1073741824:E},l.OCT2HEX=function(d,E){if(!/^[0-7]{1,10}$/.test(d))return T;const M=parseInt(d,8);if(M>=536870912)return"ff"+(M+3221225472).toString(16);const L=M.toString(16);return E===void 0?L:isNaN(E)?g:E<0?T:(E=Math.floor(E))>=L.length?Tn("0",E-L.length)+L:T},l.ODD=function(d){if((d=re(d))instanceof Error)return d;let E=Math.ceil(Math.abs(d));return E=1&E?E:E+1,d>=0?E:-E},l.ODDFPRICE=function(){throw new Error("ODDFPRICE is not implemented")},l.ODDFYIELD=function(){throw new Error("ODDFYIELD is not implemented")},l.ODDLPRICE=function(){throw new Error("ODDLPRICE is not implemented")},l.ODDLYIELD=function(){throw new Error("ODDLYIELD is not implemented")},l.OR=function(){const d=Y(arguments);let E=g;for(let M=0;M<d.length;M++){if(d[M]instanceof Error)return d[M];d[M]!==void 0&&d[M]!==null&&typeof d[M]!="string"&&(E===g&&(E=!1),d[M]&&(E=!0))}return E},l.PDURATION=function(d,E,M){return fe(d=re(d),E=re(E),M=re(M))?g:d<=0?T:(Math.log(M)-Math.log(E))/Math.log(1+d)},l.PEARSON=pe,l.PERCENTILE=Ie,l.PERCENTILEEXC=Si,l.PERCENTILEINC=gs,l.PERCENTRANK=he,l.PERCENTRANKEXC=_i,l.PERCENTRANKINC=ys,l.PERMUT=function(d,E){return fe(d=re(d),E=re(E))?g:$t(d)/$t(d-E)},l.PERMUTATIONA=function(d,E){return fe(d=re(d),E=re(E))?g:Math.pow(d,E)},l.PHI=function(d){return(d=re(d))instanceof Error?g:Math.exp(-.5*d*d)/2.5066282746310002},l.PI=function(){return Math.PI},l.PMT=Lr,l.POISSON=Re,l.POISSONDIST=vs,l.POWER=Ui,l.PPMT=function(d,E,M,L,K,Z){return K=K||0,Z=Z||0,fe(d=re(d),M=re(M),L=re(L),K=re(K),Z=re(Z))?g:Lr(d,M,L,K,Z)-po(d,E,M,L,K,Z)},l.PRICE=function(){throw new Error("PRICE is not implemented")},l.PRICEDISC=function(d,E,M,L,K){if(fe(d=et(d),E=et(E),M=re(M),L=re(L),K=(K=re(K))||0))return g;if(M<=0||L<=0)return T;if(d>=E)return g;let Z,ce;switch(K){case 0:Z=360,ce=Jn(d,E,!1);break;case 1:case 3:Z=365,ce=Mr(d,E,"D");break;case 2:Z=360,ce=Mr(d,E,"D");break;case 4:Z=360,ce=Jn(d,E,!0);break;default:return T}return L-M*L*ce/Z},l.PRICEMAT=function(){throw new Error("PRICEMAT is not implemented")},l.PROB=function(d,E,M,L){if(M===void 0)return 0;if(L=L===void 0?M:L,fe(d=Ue(Y(d)),E=Ue(Y(E)),M=re(M),L=re(L)))return g;if(M===L)return d.indexOf(M)>=0?E[d.indexOf(M)]:0;const K=d.sort((xe,Be)=>xe-Be),Z=K.length;let ce=0;for(let xe=0;xe<Z;xe++)K[xe]>=M&&K[xe]<=L&&(ce+=E[d.indexOf(K[xe])]);return ce},l.PRODUCT=hi,l.PRONETIC=function(){throw new Error("PRONETIC is not implemented")},l.PROPER=function(d){return fe(d)?d:isNaN(d)&&typeof d=="number"?g:(d=gt(d)).replace(/\w\S*/g,E=>E.charAt(0).toUpperCase()+E.substr(1).toLowerCase())},l.PV=function(d,E,M,L,K){return L=L||0,K=K||0,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K))?g:d===0?-M*E-L:((1-Math.pow(1+d,E))/d*M*(1+d*K)-L)/Math.pow(1+d,E)},l.QUARTILE=Ve,l.QUARTILEEXC=Es,l.QUARTILEINC=ao,l.QUOTIENT=function(d,E){return ve(d=re(d),E=re(E))||parseInt(d/E,10)},l.RADIANS=function(d){return(d=re(d))instanceof Error?d:d*Math.PI/180},l.RAND=function(){return Math.random()},l.RANDBETWEEN=function(d,E){return ve(d=re(d),E=re(E))||d+Math.ceil((E-d+1)*Math.random())-1},l.RANK=ut,l.RANKAVG=ni,l.RANKEQ=Sr,l.RATE=function(d,E,M,L,K,Z){if(Z=Z===void 0?.01:Z,L=L===void 0?0:L,K=K===void 0?0:K,fe(d=re(d),E=re(E),M=re(M),L=re(L),K=re(K),Z=re(Z)))return g;const ce=1e-10;let xe=Z;K=K?1:0;for(let Be=0;Be<20;Be++){if(xe<=-1)return T;let ot,yt,wt;if(Math.abs(xe)<ce?ot=M*(1+d*xe)+E*(1+xe*K)*d+L:(yt=Math.pow(1+xe,d),ot=M*yt+E*(1/xe+K)*(yt-1)+L),Math.abs(ot)<ce)return xe;if(Math.abs(xe)<ce)wt=M*d+E*K*d;else{yt=Math.pow(1+xe,d);const At=d*Math.pow(1+xe,d-1);wt=M*At+E*(1/xe+K)*At+E*(-1/(xe*xe))*(yt-1)}xe-=ot/wt}return xe},l.RECEIVED=function(){throw new Error("RECEIVED is not implemented")},l.REPLACE=function(d,E,M,L){return fe(E=re(E),M=re(M))||typeof d!="string"||typeof L!="string"?g:d.substr(0,E-1)+L+d.substr(E-1+M)},l.REPT=Tn,l.RIGHT=function(d,E){return ve(d,E)||(d=gt(d),(E=re(E=E===void 0?1:E))instanceof Error?E:d.substring(d.length-E))},l.ROMAN=function(d){if((d=re(d))instanceof Error)return d;const E=String(d).split(""),M=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let L="",K=3;for(;K--;)L=(M[+E.pop()+10*K]||"")+L;return new Array(+E.join("")+1).join("M")+L},l.ROUND=Wn,l.ROUNDDOWN=function(d,E){return ve(d=re(d),E=re(E))||(d>0?1:-1)*Math.floor(Math.abs(d)*Math.pow(10,E))/Math.pow(10,E)},l.ROUNDUP=function(d,E){return ve(d=re(d),E=re(E))||(d>0?1:-1)*Math.ceil(Math.abs(d)*Math.pow(10,E))/Math.pow(10,E)},l.ROW=function(d,E){return arguments.length!==2?O:E<0?T:d instanceof Array&&typeof E=="number"?d.length!==0?f.row(d,E):void 0:g},l.ROWS=function(d){return arguments.length!==1?O:d instanceof Array?d.length===0?0:f.rows(d):g},l.RRI=function(d,E,M){return fe(d=re(d),E=re(E),M=re(M))?g:d===0||E===0?T:Math.pow(M/E,1/d)-1},l.RSQ=function(d,E){return fe(d=Ue(Y(d)),E=Ue(Y(E)))?g:Math.pow(pe(d,E),2)},l.SEARCH=function(d,E,M){let L;return typeof d!="string"||typeof E!="string"?g:(M=M===void 0?0:M,L=E.toLowerCase().indexOf(d.toLowerCase(),M-1)+1,L===0?g:L)},l.SEC=function(d){return(d=re(d))instanceof Error?d:1/Math.cos(d)},l.SECH=function(d){return(d=re(d))instanceof Error?d:2/(Math.exp(d)+Math.exp(-d))},l.SECOND=function(d){return(d=et(d))instanceof Error?d:d.getSeconds()},l.SERIESSUM=function(d,E,M,L){if(fe(d=re(d),E=re(E),M=re(M),L=Ue(L)))return g;let K=L[0]*Math.pow(d,E);for(let Z=1;Z<L.length;Z++)K+=L[Z]*Math.pow(d,E+Z*M);return K},l.SHEET=function(){throw new Error("SHEET is not implemented")},l.SHEETS=function(){throw new Error("SHEETS is not implemented")},l.SIGN=function(d){return(d=re(d))instanceof Error?d:d<0?-1:d===0?0:1},l.SIN=function(d){return(d=re(d))instanceof Error?d:Math.sin(d)},l.SINH=function(d){return(d=re(d))instanceof Error?d:(Math.exp(d)-Math.exp(-d))/2},l.SKEW=Xe,l.SKEWP=bs,l.SLN=function(d,E,M){return fe(d=re(d),E=re(E),M=re(M))?g:M===0?T:(d-E)/M},l.SLOPE=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=f.mean(E),L=f.mean(d),K=E.length;let Z=0,ce=0;for(let xe=0;xe<K;xe++)Z+=(E[xe]-M)*(d[xe]-L),ce+=Math.pow(E[xe]-M,2);return Z/ce},l.SMALL=bt,l.SORT=function(d,E=1,M=1,L=!1){if(!d||!Array.isArray(d))return O;if(d.length===0)return 0;if(!(E=re(E))||E<1||(M=re(M))!==1&&M!==-1)return g;if(typeof(L=ft(L))!="boolean")return A;const K=xe=>xe.sort((Be,ot)=>(Be=gt(Be[E-1]),ot=gt(ot[E-1]),M===1?Be<ot?-1*M:M:Be>ot?M:-1*M)),Z=q(d),ce=L?le(Z):Z;return E>=1&&E<=ce[0].length?L?le(K(ce)):K(ce):g},l.SQRT=function(d){return(d=re(d))instanceof Error?d:d<0?T:Math.sqrt(d)},l.SQRTPI=function(d){return(d=re(d))instanceof Error?d:Math.sqrt(d*Math.PI)},l.STANDARDIZE=function(d,E,M){return fe(d=re(d),E=re(E),M=re(M))?g:(d-E)/M},l.STDEV=Ct,l.STDEVA=function(){const d=qe.apply(this,arguments);return Math.sqrt(d)},l.STDEVP=lo,l.STDEVPA=function(){const d=Je.apply(this,arguments);let E=Math.sqrt(d);return isNaN(E)&&(E=T),E},l.STDEVS=co,l.STEYX=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;const M=f.mean(E),L=f.mean(d),K=E.length;let Z=0,ce=0,xe=0;for(let Be=0;Be<K;Be++)Z+=Math.pow(d[Be]-L,2),ce+=(E[Be]-M)*(d[Be]-L),xe+=Math.pow(E[Be]-M,2);return Math.sqrt((Z-ce*ce/xe)/(K-2))},l.SUBSTITUTE=function(d,E,M,L){if(arguments.length<3)return O;if(d&&E){if(L===void 0)return d.split(E).join(M);{if(L=Math.floor(Number(L)),Number.isNaN(L)||L<=0)return g;let K=0,Z=0;for(;K>-1&&d.indexOf(E,K)>-1;)if(K=d.indexOf(E,K+1),Z++,K>-1&&Z===L)return d.substring(0,K)+M+d.substring(K+E.length);return d}}return d},l.SUBTOTAL=function(d,E){if((d=re(d))instanceof Error)return d;switch(d){case 1:case 101:return D(E);case 2:case 102:return z(E);case 3:case 103:return ne(E);case 4:case 104:return He(E);case 5:case 105:return oe(E);case 6:case 106:return hi(E);case 7:case 107:return Ct.S(E);case 8:case 108:return Ct.P(E);case 9:case 109:return er(E);case 10:case 110:return _e.S(E);case 11:case 111:return _e.P(E)}},l.SUM=er,l.SUMIF=function(d,E,M){if(d=Y(d),M=M?Y(M):d,d instanceof Error)return d;if(E==null||E instanceof Error)return 0;let L=0;const K=E==="*",Z=K?null:ze(E+"");for(let ce=0;ce<d.length;ce++){const xe=d[ce],Be=M[ce];if(K)L+=xe;else{const ot=[je(xe,Pe)].concat(Z);L+=rt(ot)?Be:0}}return L},l.SUMIFS=function(){const d=P(arguments),E=Ue(Y(d.shift()));if(E instanceof Error)return E;const M=d,L=M.length/2;for(let Z=0;Z<L;Z++)M[2*Z]=Y(M[2*Z]);let K=0;for(let Z=0;Z<E.length;Z++){let ce=!1;for(let xe=0;xe<L;xe++){const Be=M[2*xe][Z],ot=M[2*xe+1];let yt=!1;if(ot===void 0||ot==="*")yt=!0;else{const wt=ze(ot+""),At=[je(Be,Pe)].concat(wt);yt=rt(At)}if(!yt){ce=!1;break}ce=!0}ce&&(K+=E[Z])}return K},l.SUMPRODUCT=function(){if(!arguments||arguments.length===0)return g;const d=arguments.length+1;let E,M,L,K,Z=0;for(let ce=0;ce<arguments[0].length;ce++)if(arguments[0][ce]instanceof Array)for(let xe=0;xe<arguments[0][ce].length;xe++){for(E=1,M=1;M<d;M++){const Be=arguments[M-1][ce][xe];if(Be instanceof Error)return Be;if(K=re(Be),K instanceof Error)return K;E*=K}Z+=E}else{for(E=1,M=1;M<d;M++){const xe=arguments[M-1][ce];if(xe instanceof Error)return xe;if(L=re(xe),L instanceof Error)return L;E*=L}Z+=E}return Z},l.SUMSQ=function(){const d=Ue(Y(arguments));if(d instanceof Error)return d;let E=0;const M=d.length;for(let L=0;L<M;L++)E+=St(d[L])?d[L]*d[L]:0;return E},l.SUMX2MY2=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;let M=0;for(let L=0;L<d.length;L++)M+=d[L]*d[L]-E[L]*E[L];return M},l.SUMX2PY2=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;let M=0;d=Ue(Y(d)),E=Ue(Y(E));for(let L=0;L<d.length;L++)M+=d[L]*d[L]+E[L]*E[L];return M},l.SUMXMY2=function(d,E){if(fe(d=Ue(Y(d)),E=Ue(Y(E))))return g;let M=0;d=Y(d),E=Y(E);for(let L=0;L<d.length;L++)M+=Math.pow(d[L]-E[L],2);return M},l.SWITCH=function(){let d;if(arguments.length>0){const E=arguments[0],M=arguments.length-1,L=Math.floor(M/2);let K=!1;const Z=M%2!=0,ce=M%2==0?null:arguments[arguments.length-1];if(L){for(let xe=0;xe<L;xe++)if(E===arguments[2*xe+1]){d=arguments[2*xe+2],K=!0;break}}K||(d=Z?ce:O)}else d=g;return d},l.SYD=function(d,E,M,L){return fe(d=re(d),E=re(E),M=re(M),L=re(L))?g:M===0||L<1||L>M?T:(d-E)*(M-(L=parseInt(L,10))+1)*2/(M*(M+1))},l.T=function(d){return d instanceof Error||typeof d=="string"?d:""},l.TAN=function(d){return(d=re(d))instanceof Error?d:Math.tan(d)},l.TANH=function(d){if((d=re(d))instanceof Error)return d;const E=Math.exp(2*d);return(E-1)/(E+1)},l.TBILLEQ=function(d,E,M){return fe(d=et(d),E=et(E),M=re(M))?g:M<=0||d>E||E-d>31536e6?T:365*M/(360-M*Jn(d,E,!1))},l.TBILLPRICE=function(d,E,M){return fe(d=et(d),E=et(E),M=re(M))?g:M<=0||d>E||E-d>31536e6?T:100*(1-M*Jn(d,E,!1)/360)},l.TBILLYIELD=function(d,E,M){return fe(d=et(d),E=et(E),M=re(M))?g:M<=0||d>E||E-d>31536e6?T:360*(100-M)/(M*Jn(d,E,!1))},l.TDIST=wi,l.TDISTRT=Ai,l.TEXT=function(d,E){if(d===void 0||d instanceof Error||E instanceof Error)return O;if(E==null)return"";if(typeof E=="number")return String(E);if(typeof E!="string")return g;const M=E.startsWith("$")?"$":"",L=E.endsWith("%");return L&&(d*=100),d=(d=qr(d,(E=E.replace(/%/g,"").replace(/\$/g,"")).split(".")[1].match(/0/g).length,!E.includes(","))).startsWith("-")?"-"+M+(d=d.replace("-","")):M+d,L&&(d+="%"),d},l.TEXTJOIN=function(d,E,...M){if(typeof E!="boolean"&&(E=ft(E)),arguments.length<3)return O;d=d??"";let L=Y(M),K=E?L.filter(Z=>Z):L;if(Array.isArray(d)){d=Y(d);let Z=K.map(xe=>[xe]),ce=0;for(let xe=0;xe<Z.length-1;xe++)Z[xe].push(d[ce]),ce++,ce===d.length&&(ce=0);return K=Y(Z),K.join("")}return K.join(d)},l.TIME=function(d,E,M){return fe(d=re(d),E=re(E),M=re(M))?g:d<0||E<0||M<0?T:(3600*d+60*E+M)/86400},l.TIMEVALUE=function(d){return(d=et(d))instanceof Error?d:(3600*d.getHours()+60*d.getMinutes()+d.getSeconds())/86400},l.TINV=uo,l.TODAY=function(){return Dr(new Date)},l.TRANSPOSE=function(d){return d?le(q(d)):O},l.TREND=function(d,E,M){if(fe(d=Ue(Y(d)),E=Ue(Y(E)),M=Ue(Y(M))))return g;const L=It(d,E),K=L[0],Z=L[1],ce=[];return M.forEach(xe=>{ce.push(K*xe+Z)}),ce},l.TRIM=function(d){return(d=gt(d))instanceof Error?d:d.replace(/\s+/g," ").trim()},l.TRIMMEAN=function(d,E){if(fe(d=Ue(Y(d)),E=re(E)))return g;const M=Xt(d.length*E,2)/2;return f.mean((K=(K=M)||1,(L=Q(d.sort((Z,ce)=>Z-ce),M))&&typeof L.slice=="function"?L.slice(0,L.length-K):L));var L,K},l.TRUE=function(){return!0},l.TRUNC=function(d,E){return ve(d=re(d),E=re(E))||(d>0?1:-1)*Math.floor(Math.abs(d)*Math.pow(10,E))/Math.pow(10,E)},l.TTEST=Cs,l.TYPE=function(d){return St(d)?1:Et(d)?2:We(d)?4:lt(d)?16:Array.isArray(d)?64:void 0},l.UNICHAR=Tr,l.UNICODE=Gi,l.UNIQUE=H,l.UPPER=function(d){return(d=gt(d))instanceof Error?d:d.toUpperCase()},l.VALUE=function(d){const E=ve(d);if(E)return E;if(typeof d=="number")return d;if(Ze(d)||(d=""),typeof d!="string")return g;const M=/(%)$/.test(d)||/^(%)/.test(d);if((d=(d=(d=d.replace(/^[^0-9-]{0,3}/,"")).replace(/[^0-9]{0,3}$/,"")).replace(/[ ,]/g,""))==="")return 0;let L=Number(d);return isNaN(L)?g:(L=L||0,M&&(L*=.01),L)},l.VAR=_e,l.VARA=qe,l.VARP=xi,l.VARPA=Je,l.VARS=Ni,l.VDB=function(){throw new Error("VDB is not implemented")},l.VLOOKUP=W,l.WEEKDAY=function(d,E){if((d=et(d))instanceof Error)return d;E===void 0&&(E=1);const M=d.getDay();return Zo[E][M]},l.WEEKNUM=function(d,E){if((d=et(d))instanceof Error)return d;if(E===void 0&&(E=1),E===21)return zr(d);const M=Xo[E];let L=new Date(d.getFullYear(),0,1);const K=L.getDay()<M?1:0;return L-=24*Math.abs(L.getDay()-M)*60*60*1e3,Math.floor((d-L)/864e5/7+1)+K},l.WEIBULL=_t,l.WEIBULLDIST=Ts,l.WORKDAY=Ir,l.WORKDAYINTL=fo,l.XIRR=function(d,E,M){if(fe(d=Ue(Y(d)),E=Nt(Y(E)),M=re(M)))return g;const L=(At,Bt,Yt)=>{const Zt=Yt+1;let _n=At[0];for(let un=1;un<At.length;un++)_n+=At[un]/Math.pow(Zt,nr(Bt[un],Bt[0])/365);return _n},K=(At,Bt,Yt)=>{const Zt=Yt+1;let _n=0;for(let un=1;un<At.length;un++){const On=nr(Bt[un],Bt[0])/365;_n-=On*At[un]/Math.pow(Zt,On+1)}return _n};let Z=!1,ce=!1;for(let At=0;At<d.length;At++)d[At]>0&&(Z=!0),d[At]<0&&(ce=!0);if(!Z||!ce)return T;let xe,Be,ot,yt=M=M||.1,wt=!0;do ot=L(d,E,yt),xe=yt-ot/K(d,E,yt),Be=Math.abs(xe-yt),yt=xe,wt=Be>1e-10&&Math.abs(ot)>1e-10;while(wt);return yt},l.XNPV=function(d,E,M){if(fe(d=re(d),E=Ue(Y(E)),M=Nt(Y(M))))return g;let L=0;for(let K=0;K<E.length;K++)L+=E[K]/Math.pow(1+d,nr(M[K],M[0])/365);return L},l.XOR=function(){const d=Y(arguments);let E=g;for(let M=0;M<d.length;M++){if(d[M]instanceof Error)return d[M];d[M]!==void 0&&d[M]!==null&&typeof d[M]!="string"&&(E===g&&(E=0),d[M]&&E++)}return E===g?E:!!(1&Math.floor(Math.abs(E)))},l.YEAR=function(d){return(d=et(d))instanceof Error?d:d.getFullYear()},l.YEARFRAC=mi,l.YIELD=function(){throw new Error("YIELD is not implemented")},l.YIELDDISC=function(){throw new Error("YIELDDISC is not implemented")},l.YIELDMAT=function(){throw new Error("YIELDMAT is not implemented")},l.Z=Wt,l.ZTEST=Nn,l.utils=Ss}},o={};function s(c){var l=o[c];if(l!==void 0)return l.exports;var u=o[c]={exports:{}};return r[c].call(u.exports,u,u.exports,s),u.exports}s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var a=s(960);n=a}(),n})}(dist)),distExports}(function(module,exports){if(!jSuites&&typeof commonjsRequire=="function")var jSuites=requireJsuites();if(!formula&&typeof commonjsRequire=="function")var formula=requireDist();(function(t,e){module.exports=e()})(commonjsGlobal,function(){var jspreadsheet;return function(){var __webpack_modules__={805:function(t,e){const n=function(s){const a=this,c=[];for(let l=0;l<s.length;l++){const u=s[l].x,f=s[l].y,b=a.options.columns[u].name?a.options.columns[u].name:u;c[f]||(c[f]={row:f,data:{}}),c[f].data[b]=s[l].value}return c.filter(function(l){return l!=null})},r=function(s,a){const c=this,l=o.call(c.parent,"onbeforesave",c.parent,c,a);if(l)a=l;else if(l===!1)return!1;jSuites.ajax({url:s,method:"POST",dataType:"json",data:{data:JSON.stringify(a)},success:function(u){o.call(c,"onsave",c.parent,c,a)}})},o=function(s){const a=this;let c=null,l=a.parent?a.parent:a;if(!l.ignoreEvents&&(typeof l.config.onevent=="function"&&(c=l.config.onevent.apply(this,arguments)),typeof l.config[s]=="function"&&(c=l.config[s].apply(this,Array.prototype.slice.call(arguments,1))),typeof l.plugins=="object")){const u=Object.keys(l.plugins);for(let f=0;f<u.length;f++){const b=u[f],S=l.plugins[b];typeof S.onevent=="function"&&(c=S.onevent.apply(this,arguments))}}if(s=="onafterchanges"){const u=arguments;if(typeof l.plugins=="object"&&Object.entries(l.plugins).forEach(function([,f]){typeof f.persistence=="function"&&f.persistence(a,"setValue",{data:u[2]})}),a.options.persistence){const f=a.options.persistence==1?a.options.url:a.options.persistence,b=n.call(a,arguments[2]);r.call(a,f,b)}}return c};e.A=o},829:function(t,e,n){n.d(e,{F8:function(){return a},N$:function(){return s},dr:function(){return c}});var r=n(530),o=n(657);const s=function(l){const u=this;if(u.options.filters){l=parseInt(l),u.resetSelection();let f=[];if(u.options.columns[l].type=="checkbox")f.push({id:"true",name:"True"}),f.push({id:"false",name:"False"});else{const v=[];let g=!1;for(let A=0;A<u.options.data.length;A++){const T=u.options.data[A][l],O=u.records[A][l].element.innerHTML;T&&O?v[T]=O:g=!0}const w=Object.keys(v);f=[];for(let A=0;A<w.length;A++)f.push({id:w[A],name:v[w[A]]});g&&f.push({value:"",id:"",name:"(Blanks)"})}const b=document.createElement("div");u.filter.children[l+1].innerHTML="",u.filter.children[l+1].appendChild(b),u.filter.children[l+1].style.paddingLeft="0px",u.filter.children[l+1].style.paddingRight="0px",u.filter.children[l+1].style.overflow="initial";const S={data:f,multiple:!0,autocomplete:!0,opened:!0,value:u.filters[l]!==void 0?u.filters[l]:null,width:"100%",position:u.options.tableOverflow==1||u.parent.config.fullscreen==1,onclose:function(v){c.call(u),u.filters[l]=v.dropdown.getValue(!0),u.filter.children[l+1].innerHTML=v.dropdown.getText(),u.filter.children[l+1].style.paddingLeft="",u.filter.children[l+1].style.paddingRight="",u.filter.children[l+1].style.overflow="",a.call(u,l),o.G9.call(u)}};jSuites.dropdown(b,S)}else console.log("Jspreadsheet: filters not enabled.")},a=function(l){const u=this;if(!l)for(let S=0;S<u.filter.children.length;S++)u.filters[S]&&(l=S);const f=function(S,v,g){for(let w=0;w<S.length;w++){const A=""+u.options.data[g][v],T=""+u.records[g][v].element.innerHTML;if(S[w]==A||S[w]==T)return!0}return!1},b=u.filters[l];u.results=[];for(let S=0;S<u.options.data.length;S++)f(b,l,S)&&u.results.push(S);u.results.length||(u.results=null),r.hG.call(u)},c=function(){const l=this;if(l.options.filters)for(let u=0;u<l.filter.children.length;u++)l.filter.children[u].innerHTML="&nbsp;",l.filters[u]=null;l.results=null,r.hG.call(l)}},160:function(t,e,n){n.d(e,{e:function(){return o}});var r=n(530);const o=function(s){const a=this;if(s&&(a.options.footers=s),a.options.footers){a.tfoot||(a.tfoot=document.createElement("tfoot"),a.table.appendChild(a.tfoot));for(let c=0;c<a.options.footers.length;c++){let l;if(a.tfoot.children[c])l=a.tfoot.children[c];else{l=document.createElement("tr");const u=document.createElement("td");l.appendChild(u),a.tfoot.appendChild(l)}for(let u=0;u<a.headers.length;u++){let f;if(a.options.footers[c][u]||(a.options.footers[c][u]=""),a.tfoot.children[c].children[u+1])f=a.tfoot.children[c].children[u+1];else{f=document.createElement("td"),l.appendChild(f);const b=a.options.columns[u].align||a.options.defaultColAlign||"center";f.style.textAlign=b}f.textContent=r.$x.call(a,+a.records.length+u,c,a.options.footers[c][u]),f.style.display=a.cols[u].colElement.style.display}}}}},296:function(t,e,n){n.d(e,{w:function(){return r}});const r=function(){const o=this;let s=0;if(o.options.freezeColumns>0)for(let a=0;a<o.options.freezeColumns;a++){let c;c=o.options.columns&&o.options.columns[a]&&o.options.columns[a].width!==void 0?parseInt(o.options.columns[a].width):o.options.defaultColWidth!==void 0?parseInt(o.options.defaultColWidth):100,s+=c}return s}},978:function(t,e,n){n.r(e),n.d(e,{createFromTable:function(){return b},getCaretIndex:function(){return o},getCellNameFromCoords:function(){return c},getColumnName:function(){return a},getCoordsFromCellName:function(){return l},getCoordsFromRange:function(){return u},invert:function(){return s},parseCSV:function(){return f}});var r=n(689);const o=function(S){let v;v=this.config.root?this.config.root:window;let g=0;const w=v.getSelection();if(w&&w.rangeCount!==0){const A=w.getRangeAt(0),T=A.cloneRange();T.selectNodeContents(S),T.setEnd(A.endContainer,A.endOffset),g=T.toString().length}return g},s=function(S){const v=[],g=Object.keys(S);for(let w=0;w<g.length;w++)v[S[g[w]]]=g[w];return v},a=function(S){let v,g=S+1,w="";for(;g>0;)v=(g-1)%26,w=String.fromCharCode(65+v).toString()+w,g=parseInt((g-v)/26);return w},c=function(S,v){return a(parseInt(S))+(parseInt(v)+1)},l=function(S){const v=/^[a-zA-Z]+/.exec(S);if(v){let g=0;for(let A=0;A<v[0].length;A++)g+=parseInt(v[0].charCodeAt(A)-64)*Math.pow(26,v[0].length-1-A);g--,g<0&&(g=0);let w=parseInt(/[0-9]+$/.exec(S))||null;return w>0&&w--,[g,w]}},u=function(S){const[v,g]=S.split(":");return[...l(v),...l(g)]},f=function(S,v){v=v||",",S=S.replace(/\r?\n$|\r$|\n$/g,"");const g=[];let w=!1,A=0,T=0,O=0;for(let R=0;R<S.length;R++){const k=S[R],V=S[R+1];g[T]=g[T]||[],g[T][O]=g[T][O]||"",k=='"'&&w&&V=='"'?(g[T][O]+=k,++R):k!='"'?k!=v||w?k!="\r"||V!=`
`||w?k==`
`&&!w||k=="\r"&&!w?(++T,A=Math.max(A,O),O=0):g[T][O]+=k:(++T,A=Math.max(A,O),O=0,++R):++O:w=!w}return g.forEach((R,k)=>{for(let V=R.length;V<=A;V++)R.push("")}),g},b=function(S,v){if(S.tagName=="TABLE"){v||(v={}),v.columns=[],v.data=[];const g=S.querySelectorAll("colgroup > col");if(g.length)for(let j=0;j<g.length;j++){let q=g[j].style.width;q||(q=g[j].getAttribute("width")),q&&(v.columns[j]||(v.columns[j]={}),v.columns[j].width=q)}const w=function(j,q){let Y=j.getBoundingClientRect();const ae=Y.width>50?Y.width:50;v.columns[q]||(v.columns[q]={}),j.getAttribute("data-celltype")?v.columns[q].type=j.getAttribute("data-celltype"):v.columns[q].type="text",v.columns[q].width=ae+"px",v.columns[q].title=j.innerHTML,j.style.textAlign&&(v.columns[q].align=j.style.textAlign),(Y=j.getAttribute("name"))&&(v.columns[q].name=Y),(Y=j.getAttribute("id"))&&(v.columns[q].id=Y),(Y=j.getAttribute("data-mask"))&&(v.columns[q].mask=Y)},A=[];let T=S.querySelectorAll(":scope > thead > tr");if(T.length){for(let j=0;j<T.length-1;j++){const q=[];for(let Y=0;Y<T[j].children.length;Y++){const ae={title:T[j].children[Y].textContent,colspan:T[j].children[Y].getAttribute("colspan")||1};q.push(ae)}A.push(q)}T=T[T.length-1].children;for(let j=0;j<T.length;j++)w(T[j],j)}let O=0;const R={},k={},V={},P={};let B=S.querySelectorAll(":scope > tr, :scope > tbody > tr");for(let j=0;j<B.length;j++)if(v.data[O]=[],v.parseTableFirstRowAsHeader!=1||T.length||j!=0){for(let q=0;q<B[j].children.length;q++){let Y=B[j].children[q].getAttribute("data-formula");Y?Y.substr(0,1)!="="&&(Y="="+Y):Y=B[j].children[q].innerHTML,v.data[O].push(Y);const ae=(0,r.t3)([q,j]),me=B[j].children[q].getAttribute("class");me&&(P[ae]=me);const Q=parseInt(B[j].children[q].getAttribute("colspan"))||0,le=parseInt(B[j].children[q].getAttribute("rowspan"))||0;(Q||le)&&(R[ae]=[Q||1,le||1]),B[j].children[q].style&&B[j].children[q].style.display=="none"&&(B[j].children[q].style.display="");const Se=B[j].children[q].getAttribute("style");Se&&(V[ae]=Se),B[j].children[q].classList.contains("styleBold")&&(V[ae]?V[ae]+="; font-weight:bold;":V[ae]="font-weight:bold;")}B[j].style&&B[j].style.height&&(k[j]={height:B[j].style.height}),O++}else for(let q=0;q<B[j].children.length;q++)w(B[j].children[q],q);if(Object.keys(A).length>0&&(v.nestedHeaders=A),Object.keys(V).length>0&&(v.style=V),Object.keys(R).length>0&&(v.mergeCells=R),Object.keys(k).length>0&&(v.rows=k),Object.keys(P).length>0&&(v.classes=P),B=S.querySelectorAll("tfoot tr"),B.length){const j=[];for(let q=0;q<B.length;q++){let Y=[];for(let ae=0;ae<B[q].children.length;ae++)Y.push(B[q].children[ae].textContent);j.push(Y)}Object.keys(j).length>0&&(v.footers=j)}if(v.parseTableAutoCellType==1){const j=[];for(let q=0;q<v.columns.length;q++){let Y=!0,ae=!0;j[q]=[];for(let Q=0;Q<v.data.length;Q++){const le=v.data[Q][q];j[q][le]||(j[q][le]=0),j[q][le]++,le.length>25&&(Y=!1),le.length==10&&le.substr(4,1)=="-"&&le.substr(7,1)=="-"||(ae=!1)}const me=Object.keys(j[q]).length;ae?v.columns[q].type="calendar":Y==1&&me>1&&me<=parseInt(.1*v.data.length)&&(v.columns[q].type="dropdown",v.columns[q].source=Object.keys(j[q]))}}return v}console.log("Element is not a table")}},911:function(t,e,n){n.d(e,{Dh:function(){return u},ZS:function(){return v},tN:function(){return S}});var r=n(805),o=n(689),s=n(530),a=n(910),c=n(94),l=n(657);const u=function(g){const w=this;if(w.ignoreHistory!=1){const A=++w.historyIndex;w.history=w.history=w.history.slice(0,A+1),w.history[A]=g}},f=function(g,w){const A=this,T=w.insertBefore?+w.rowNumber:w.rowNumber+1;if(A.options.search==1&&A.results&&A.results.length!=A.rows.length&&A.resetSearch(),g==1){const O=w.numOfRows;for(let R=T;R<O+T;R++)A.rows[R].element.parentNode.removeChild(A.rows[R].element);A.records.splice(T,O),A.options.data.splice(T,O),A.rows.splice(T,O),l.at.call(A,1,T,O+T-1)}else{A.records=(0,o.Hh)(A.records,T,w.rowRecords),A.options.data=(0,o.Hh)(A.options.data,T,w.rowData),A.rows=(0,o.Hh)(A.rows,T,w.rowNode);let O=0;for(let R=T;R<w.numOfRows+T;R++)A.tbody.insertBefore(w.rowNode[O].element,A.tbody.children[R]),O++}for(let O=T;O<A.rows.length;O++)A.rows[O].y=O;for(let O=T;O<A.records.length;O++)for(let R=0;R<A.records[O].length;R++)A.records[O][R].y=O;A.options.pagination>0&&A.page(A.pageNumber),s.o8.call(A)},b=function(g,w){const A=this,T=w.insertBefore?w.columnNumber:w.columnNumber+1;if(g==1){const O=w.numOfColumns;A.options.columns.splice(T,O);for(let R=T;R<O+T;R++)A.headers[R].parentNode.removeChild(A.headers[R]),A.cols[R].colElement.parentNode.removeChild(A.cols[R].colElement);A.headers.splice(T,O),A.cols.splice(T,O);for(let R=0;R<w.data.length;R++){for(let k=T;k<O+T;k++)A.records[R][k].element.parentNode.removeChild(A.records[R][k].element);A.records[R].splice(T,O),A.options.data[R].splice(T,O)}if(A.options.footers)for(let R=0;R<A.options.footers.length;R++)A.options.footers[R].splice(T,O)}else{A.options.columns=(0,o.Hh)(A.options.columns,T,w.columns),A.headers=(0,o.Hh)(A.headers,T,w.headers),A.cols=(0,o.Hh)(A.cols,T,w.cols);let O=0;for(let R=T;R<w.numOfColumns+T;R++)A.headerContainer.insertBefore(w.headers[O],A.headerContainer.children[R+1]),A.colgroupContainer.insertBefore(w.cols[O].colElement,A.colgroupContainer.children[R+1]),O++;for(let R=0;R<w.data.length;R++){A.options.data[R]=(0,o.Hh)(A.options.data[R],T,w.data[R]),A.records[R]=(0,o.Hh)(A.records[R],T,w.records[R]);let k=0;for(let V=T;V<w.numOfColumns+T;V++)A.rows[R].element.insertBefore(w.records[R][k].element,A.rows[R].element.children[V+1]),k++}if(A.options.footers)for(let R=0;R<A.options.footers.length;R++)A.options.footers[R]=(0,o.Hh)(A.options.footers[R],T,w.footers[R])}for(let O=T;O<A.cols.length;O++)A.cols[O].x=O;for(let O=0;O<A.records.length;O++)for(let R=T;R<A.records[O].length;R++)A.records[O][R].x=R;if(A.options.nestedHeaders&&A.options.nestedHeaders.length>0&&A.options.nestedHeaders[0]&&A.options.nestedHeaders[0][0])for(let O=0;O<A.options.nestedHeaders.length;O++){let R;R=g==1?parseInt(A.options.nestedHeaders[O][A.options.nestedHeaders[O].length-1].colspan)-w.numOfColumns:parseInt(A.options.nestedHeaders[O][A.options.nestedHeaders[O].length-1].colspan)+w.numOfColumns,A.options.nestedHeaders[O][A.options.nestedHeaders[O].length-1].colspan=R,A.thead.children[O].children[A.thead.children[O].children.length-1].setAttribute("colspan",R)}s.o8.call(A)},S=function(){const g=this,w=!!g.parent.ignoreEvents,A=!!g.ignoreHistory;g.parent.ignoreEvents=!0,g.ignoreHistory=!0;const T=[];let O;if(g.historyIndex>=0){if(O=g.history[g.historyIndex--],O.action=="insertRow")f.call(g,1,O);else if(O.action=="deleteRow")f.call(g,0,O);else if(O.action=="insertColumn")b.call(g,1,O);else if(O.action=="deleteColumn")b.call(g,0,O);else if(O.action=="moveRow")g.moveRow(O.newValue,O.oldValue);else if(O.action=="moveColumn")g.moveColumn(O.newValue,O.oldValue);else if(O.action=="setMerge")g.removeMerge(O.column,O.data);else if(O.action=="setStyle")g.setStyle(O.oldValue,null,null,1);else if(O.action=="setWidth")g.setWidth(O.column,O.oldValue);else if(O.action=="setHeight")g.setHeight(O.row,O.oldValue);else if(O.action=="setHeader")g.setHeader(O.column,O.oldValue);else if(O.action=="setComments")g.setComments(O.oldValue);else if(O.action=="orderBy"){let R=[];for(let k=0;k<O.rows.length;k++)R[O.rows[k]]=k;c.Th.call(g,O.column,O.order?0:1),c.iY.call(g,R)}else if(O.action=="setValue"){for(let R=0;R<O.records.length;R++)T.push({x:O.records[R].x,y:O.records[R].y,value:O.records[R].oldValue}),O.oldStyle&&g.resetStyle(O.oldStyle);g.setValue(T),O.selection&&g.updateSelectionFromCoords(O.selection[0],O.selection[1],O.selection[2],O.selection[3])}}g.parent.ignoreEvents=w,g.ignoreHistory=A,r.A.call(g,"onundo",g,O)},v=function(){const g=this,w=!!g.parent.ignoreEvents,A=!!g.ignoreHistory;let T;if(g.parent.ignoreEvents=!0,g.ignoreHistory=!0,g.historyIndex<g.history.length-1){if(T=g.history[++g.historyIndex],T.action=="insertRow")f.call(g,0,T);else if(T.action=="deleteRow")f.call(g,1,T);else if(T.action=="insertColumn")b.call(g,0,T);else if(T.action=="deleteColumn")b.call(g,1,T);else if(T.action=="moveRow")g.moveRow(T.oldValue,T.newValue);else if(T.action=="moveColumn")g.moveColumn(T.oldValue,T.newValue);else if(T.action=="setMerge")a.FU.call(g,T.column,T.colspan,T.rowspan,1);else if(T.action=="setStyle")g.setStyle(T.newValue,null,null,1);else if(T.action=="setWidth")g.setWidth(T.column,T.newValue);else if(T.action=="setHeight")g.setHeight(T.row,T.newValue);else if(T.action=="setHeader")g.setHeader(T.column,T.newValue);else if(T.action=="setComments")g.setComments(T.newValue);else if(T.action=="orderBy")c.Th.call(g,T.column,T.order),c.iY.call(g,T.rows);else if(T.action=="setValue"){g.setValue(T.records);for(let O=0;O<T.records.length;O++)T.oldStyle&&g.resetStyle(T.newStyle);T.selection&&g.updateSelectionFromCoords(T.selection[0],T.selection[1],T.selection[2],T.selection[3])}}g.parent.ignoreEvents=w,g.ignoreHistory=A,r.A.call(g,"onredo",g,T)}},530:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$O:function(){return getWorksheetActive},$x:function(){return parseValue},C6:function(){return showIndex},Em:function(){return executeFormula},P9:function(){return createCell},Rs:function(){return updateScroll},TI:function(){return hideIndex},Xr:function(){return getCellFromCoords},Y5:function(){return fullscreen},am:function(){return updateTable},dw:function(){return isFormula},eN:function(){return getWorksheetInstance},hG:function(){return updateResult},ju:function(){return createNestedHeader},k9:function(){return updateCell},o8:function(){return updateTableReferences},p9:function(){return getLabel},rS:function(){return getMask},tT:function(){return getCell},xF:function(){return updateFormulaChain},yB:function(){return updateFormula}});var _dispatch_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(805),_selection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(657),_helpers_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(978),_meta_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(654),_freeze_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(296),_pagination_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(167),_footer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(160),_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(689);const updateTable=function(){const t=this;if(t.options.minSpareRows>0){let e=0;for(let n=t.rows.length-1;n>=0;n--){let r=!1;for(let o=0;o<t.headers.length;o++)t.options.data[n][o]&&(r=!0);if(r)break;e++}t.options.minSpareRows-e>0&&t.insertRow(t.options.minSpareRows-e)}if(t.options.minSpareCols>0){let e=0;for(let n=t.headers.length-1;n>=0;n--){let r=!1;for(let o=0;o<t.rows.length;o++)t.options.data[o][n]&&(r=!0);if(r)break;e++}t.options.minSpareCols-e>0&&t.insertColumn(t.options.minSpareCols-e)}t.options.footers&&_footer_js__WEBPACK_IMPORTED_MODULE_0__.e.call(t),setTimeout(function(){_selection_js__WEBPACK_IMPORTED_MODULE_1__.Aq.call(t)},0)},parseNumber=function(t,e){const n=e&&this.options.columns[e].decimal?this.options.columns[e].decimal:".";let r=""+t;return r=r.split(n),r[0]=r[0].match(/[+-]?[0-9]/g),r[0]&&(r[0]=r[0].join("")),r[1]&&(r[1]=r[1].match(/[0-9]*/g).join("")),r[0]&&Number.isInteger(Number(r[0]))?r[1]?Number(r[0]+"."+r[1]):Number(r[0]+".00"):null},executeFormula=function(expression,x,y){const obj=this,formulaResults=[],formulaLoopProtection=[],execute=function(expression,x,y){const parentId=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([x,y]);if(formulaLoopProtection[parentId])return console.error("Reference loop detected"),"#ERROR";formulaLoopProtection[parentId]=!0;const tokensUpdate=function(t){for(let e=0;e<t.length;e++){const n=[],r=t[e].split(":"),o=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(r[0],!0),s=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(r[1],!0);let a,c,l,u;o[0]<=s[0]?(a=o[0],c=s[0]):(a=s[0],c=o[0]),o[1]<=s[1]?(l=o[1],u=s[1]):(l=s[1],u=o[1]);for(let f=l;f<=u;f++)for(let b=a;b<=c;b++)n.push((0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([b,f]));expression=expression.replace(t[e],n.join(","))}};expression=expression.replace(/\$?([A-Z]+)\$?([0-9]+)/g,"$1$2");let tokens=expression.match(/([A-Z]+[0-9]+)\:([A-Z]+[0-9]+)/g);if(tokens&&tokens.length&&tokensUpdate(tokens),tokens=expression.match(/([A-Z]+[0-9]+)/g),tokens&&tokens.indexOf(parentId)>-1)return console.error("Self Reference detected"),"#ERROR";{const formulaExpressions={};if(tokens){for(let i=0;i<tokens.length;i++)if(obj.formula[tokens[i]]||(obj.formula[tokens[i]]=[]),obj.formula[tokens[i]].indexOf(parentId)<0&&obj.formula[tokens[i]].push(parentId),eval("typeof("+tokens[i]+') == "undefined"')){const t=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(tokens[i],1);let e;if(e=obj.options.data[t[1]]!==void 0&&obj.options.data[t[1]][t[0]]!==void 0?obj.options.data[t[1]][t[0]]:"",(""+e).substr(0,1)=="="&&(formulaResults[tokens[i]]!==void 0?e=formulaResults[tokens[i]]:(e=execute(e,t[0],t[1]),formulaResults[tokens[i]]=e)),(""+e).trim()=="")formulaExpressions[tokens[i]]=null;else if(e==Number(e)&&obj.parent.config.autoCasting!=0)formulaExpressions[tokens[i]]=Number(e);else{const n=parseNumber.call(obj,e,t[0]);obj.parent.config.autoCasting!=0&&n?formulaExpressions[tokens[i]]=n:formulaExpressions[tokens[i]]='"'+e+'"'}}}const ret=_dispatch_js__WEBPACK_IMPORTED_MODULE_3__.A.call(obj,"onbeforeformula",obj,expression,x,y);if(ret===!1)return expression;let res;ret&&(expression=ret);try{res=formula(expression.substr(1),formulaExpressions,x,y,obj),typeof res=="function"&&(res="#ERROR")}catch(t){res="#ERROR",obj.parent.config.debugFormulas===!0&&console.log(expression.substr(1),formulaExpressions,t)}return res}};return execute(expression,x,y)},parseValue=function(t,e,n,r){const o=this;(""+n).substr(0,1)=="="&&o.parent.config.parseFormulas!=0&&(n=executeFormula.call(o,n,t,e));const s=o.options.columns&&o.options.columns[t];if(s&&!isFormula(n)){let a=null;if(a=getMask(s)){n&&n==Number(n)&&(n=Number(n));let c=jSuites.mask.render(n,a,!0);if(r&&a.mask){const l=a.mask.split(";");l[1]&&(l[1].match(new RegExp("\\[Red\\]","gi"))&&(n<0?r.classList.add("red"):r.classList.remove("red")),l[1].match(new RegExp("\\(","gi"))&&n<0&&(c="("+c+")"))}c&&(n=c)}}return n},getDropDownValue=function(t,e){const n=this,r=[];if(n.options.columns&&n.options.columns[t]&&n.options.columns[t].source){const o=[],s=n.options.columns[t].source;for(let c=0;c<s.length;c++)typeof s[c]=="object"?o[s[c].id]=s[c].name:o[s[c]]=s[c];const a=Array.isArray(e)?e:(""+e).split(";");for(let c=0;c<a.length;c++)typeof a[c]=="object"?r.push(o[a[c].id]):o[a[c]]&&r.push(o[a[c]])}else console.error("Invalid column");return r.length>0?r.join("; "):""},validDate=function(t){return(t=""+t).substr(4,1)=="-"&&t.substr(7,1)=="-"||(t=t.split("-"))[0].length==4&&t[0]==Number(t[0])&&t[1].length==2&&t[1]==Number(t[1])},stripScript=function(t){const e=new Option;e.innerHTML=t;let n=null;for(t=e.getElementsByTagName("script");n=t[0];)n.parentNode.removeChild(n);return e.innerHTML},createCell=function(t,e,n){const r=this;let o=document.createElement("td");if(o.setAttribute("data-x",t),o.setAttribute("data-y",e),r.headers[t].style.display==="none"&&(o.style.display="none"),(""+n).substr(0,1)=="="&&r.options.secureFormulas==1){const a=secureFormula(n);a!=n&&(n=a)}if(r.options.columns&&r.options.columns[t]&&typeof r.options.columns[t].type=="object")r.parent.config.parseHTML===!0?o.innerHTML=n:o.textContent=n,typeof r.options.columns[t].type.createCell=="function"&&r.options.columns[t].type.createCell(o,n,parseInt(t),parseInt(e),r,r.options.columns[t]);else if(r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="hidden")o.style.display="none",o.textContent=n;else if(r.options.columns&&r.options.columns[t]&&(r.options.columns[t].type=="checkbox"||r.options.columns[t].type=="radio")){const a=document.createElement("input");a.type=r.options.columns[t].type,a.name="c"+t,a.checked=n==1||n==1||n=="true",a.onclick=function(){r.setValue(o,this.checked)},r.options.columns[t].readOnly!=1&&r.options.editable!=0||a.setAttribute("disabled","disabled"),o.appendChild(a),r.options.data[e][t]=a.checked}else if(r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="calendar"){let a=null;if(!validDate(n)){const c=jSuites.calendar.extractDateFromString(n,r.options.columns[t].options&&r.options.columns[t].options.format||"YYYY-MM-DD");c&&(a=c)}o.textContent=jSuites.calendar.getDateString(a||n,r.options.columns[t].options&&r.options.columns[t].options.format)}else if(r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="dropdown")o.classList.add("jss_dropdown"),o.textContent=getDropDownValue.call(r,t,n);else if(r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="color")if(r.options.columns[t].render=="square"){const a=document.createElement("div");a.className="color",a.style.backgroundColor=n,o.appendChild(a)}else o.style.color=n,o.textContent=n;else if(r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="image"){if(n&&n.substr(0,10)=="data:image"){const a=document.createElement("img");a.src=n,o.appendChild(a)}}else r.options.columns&&r.options.columns[t]&&r.options.columns[t].type=="html"||r.parent.config.parseHTML===!0?o.innerHTML=stripScript(parseValue.call(this,t,e,n,o)):o.textContent=parseValue.call(this,t,e,n,o);r.options.columns&&r.options.columns[t]&&r.options.columns[t].readOnly==1&&(o.className="readonly");const s=r.options.columns&&r.options.columns[t]&&r.options.columns[t].align||r.options.defaultColAlign||"center";return o.style.textAlign=s,r.options.columns&&r.options.columns[t]&&r.options.columns[t].wordWrap==0||!(r.options.wordWrap==1||r.options.columns&&r.options.columns[t]&&r.options.columns[t].wordWrap==1||o.innerHTML.length>200)||(o.style.whiteSpace="pre-wrap"),t>0&&this.options.textOverflow==1&&(n||o.innerHTML?r.records[e][t-1].element.style.overflow="hidden":t==r.options.columns.length-1&&(o.style.overflow="hidden")),_dispatch_js__WEBPACK_IMPORTED_MODULE_3__.A.call(r,"oncreatecell",r,o,t,e,n),o},updateCell=function(t,e,n,r){const o=this;let s;if(o.records[e][t].element.classList.contains("readonly")!=1||r){if((""+n).substr(0,1)=="="&&o.options.secureFormulas==1){const l=secureFormula(n);l!=n&&(n=l)}const a=_dispatch_js__WEBPACK_IMPORTED_MODULE_3__.A.call(o,"onbeforechange",o,o.records[e][t].element,t,e,n);if(a!=null&&(n=a),o.options.columns&&o.options.columns[t]&&typeof o.options.columns[t].type=="object"&&typeof o.options.columns[t].type.updateCell=="function"){const l=o.options.columns[t].type.updateCell(o.records[e][t].element,n,parseInt(t),parseInt(e),o,o.options.columns[t]);l!==void 0&&(n=l)}s={x:t,y:e,col:t,row:e,value:n,oldValue:o.options.data[e][t]};let c=o.options.columns&&o.options.columns[t]&&typeof o.options.columns[t].type=="object"?o.options.columns[t].type:null;if(c)o.options.data[e][t]=n,typeof c.setValue=="function"&&c.setValue(o.records[e][t].element,n);else if(o.options.columns&&o.options.columns[t]&&(o.options.columns[t].type=="checkbox"||o.options.columns[t].type=="radio")){if(o.options.columns[t].type=="radio")for(let l=0;l<o.options.data.length;l++)o.options.data[l][t]=!1;o.records[e][t].element.children[0].checked=n==1||n==1||n=="true"||n=="TRUE",o.options.data[e][t]=o.records[e][t].element.children[0].checked}else if(o.options.columns&&o.options.columns[t]&&o.options.columns[t].type=="dropdown")o.options.data[e][t]=n,o.records[e][t].element.textContent=getDropDownValue.call(o,t,n);else if(o.options.columns&&o.options.columns[t]&&o.options.columns[t].type=="calendar"){let l=null;if(!validDate(n)){const u=jSuites.calendar.extractDateFromString(n,o.options.columns[t].options&&o.options.columns[t].options.format||"YYYY-MM-DD");u&&(l=u)}o.options.data[e][t]=n,o.records[e][t].element.textContent=jSuites.calendar.getDateString(l||n,o.options.columns[t].options&&o.options.columns[t].options.format)}else if(o.options.columns&&o.options.columns[t]&&o.options.columns[t].type=="color")if(o.options.data[e][t]=n,o.options.columns[t].render=="square"){const l=document.createElement("div");l.className="color",l.style.backgroundColor=n,o.records[e][t].element.textContent="",o.records[e][t].element.appendChild(l)}else o.records[e][t].element.style.color=n,o.records[e][t].element.textContent=n;else if(o.options.columns&&o.options.columns[t]&&o.options.columns[t].type=="image"){if(n=""+n,o.options.data[e][t]=n,o.records[e][t].element.innerHTML="",n&&n.substr(0,10)=="data:image"){const l=document.createElement("img");l.src=n,o.records[e][t].element.appendChild(l)}}else o.options.data[e][t]=n,o.options.columns&&o.options.columns[t]&&o.options.columns[t].type=="html"?o.records[e][t].element.innerHTML=stripScript(parseValue.call(o,t,e,n)):o.parent.config.parseHTML===!0?o.records[e][t].element.innerHTML=stripScript(parseValue.call(o,t,e,n,o.records[e][t].element)):o.records[e][t].element.textContent=parseValue.call(o,t,e,n,o.records[e][t].element),o.options.columns&&o.options.columns[t]&&o.options.columns[t].wordWrap==0||!(o.options.wordWrap==1||o.options.columns&&o.options.columns[t]&&o.options.columns[t].wordWrap==1||o.records[e][t].element.innerHTML.length>200)?o.records[e][t].element.style.whiteSpace="":o.records[e][t].element.style.whiteSpace="pre-wrap";t>0&&(o.records[e][t-1].element.style.overflow=n?"hidden":""),o.options.columns&&o.options.columns[t]&&typeof o.options.columns[t].render=="function"&&o.options.columns[t].render(o.records[e]&&o.records[e][t]?o.records[e][t].element:null,n,parseInt(t),parseInt(e),o,o.options.columns[t]),_dispatch_js__WEBPACK_IMPORTED_MODULE_3__.A.call(o,"onchange",o,o.records[e]&&o.records[e][t]?o.records[e][t].element:null,t,e,n,s.oldValue)}else s={x:t,y:e,col:t,row:e};return s},isFormula=function(t){const e=(""+t)[0];return e=="="||e=="#"},getMask=function(t){if(t.format||t.mask||t.locale){const e={};return t.mask?e.mask=t.mask:t.format?e.mask=t.format:(e.locale=t.locale,e.options=t.options),t.decimal&&(e.options||(e.options={}),e.options={decimal:t.decimal}),e}return null},secureFormula=function(t){let e="",n=0;for(let r=0;r<t.length;r++)t[r]=='"'&&(n=n==0?1:0),e+=n==1?t[r]:t[r].toUpperCase();return e};let chainLoopProtection=[];const updateFormulaChain=function(t,e,n){const r=this,o=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([t,e]);if(r.formula[o]&&r.formula[o].length>0)if(chainLoopProtection[o])r.records[e][t].element.innerHTML="#ERROR",r.formula[o]="";else{chainLoopProtection[o]=!0;for(let s=0;s<r.formula[o].length;s++){const a=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(r.formula[o][s],!0),c=""+r.options.data[a[1]][a[0]];c.substr(0,1)=="="?n.push(updateCell.call(r,a[0],a[1],c,!0)):Object.keys(r.formula)[s]=null,updateFormulaChain.call(r,a[0],a[1],n)}}chainLoopProtection=[]},updateFormula=function(t,e){const n=/[A-Z]/,r=/[0-9]/;let o="",s=null,a=null,c="";for(let l=0;l<t.length;l++)n.exec(t[l])?(s=1,a=0,c+=t[l]):r.exec(t[l])?(a=s?1:0,c+=t[l]):(s&&a&&(c=e[c]?e[c]:c),o+=c,o+=t[l],s=0,a=0,c="");return c&&(s&&a&&(c=e[c]?e[c]:c),o+=c),o},updateFormulas=function(t){const e=this;for(let o=0;o<e.options.data.length;o++)for(let s=0;s<e.options.data[0].length;s++){const a=""+e.options.data[o][s];if(a.substr(0,1)=="="){const c=updateFormula(a,t);c!=a&&(e.options.data[o][s]=c)}}const n=[],r=Object.keys(e.formula);for(let o=0;o<r.length;o++){let s=r[o];const a=e.formula[s];t[s]&&(s=t[s]),n[s]=[];for(let c=0;c<a.length;c++){let l=a[c];t[l]&&(l=t[l]),n[s].push(l)}}e.formula=n},updateTableReferences=function(){const t=this;if(t.skipUpdateTableReferences)return;for(let s=0;s<t.headers.length;s++)t.headers[s].getAttribute("data-x")!=s&&(t.headers[s].setAttribute("data-x",s),t.headers[s].getAttribute("title")||(t.headers[s].innerHTML=(0,_helpers_js__WEBPACK_IMPORTED_MODULE_4__.getColumnName)(s)));for(let s=0;s<t.rows.length;s++)t.rows[s]&&t.rows[s].element.getAttribute("data-y")!=s&&(t.rows[s].element.setAttribute("data-y",s),t.rows[s].element.children[0].setAttribute("data-y",s),t.rows[s].element.children[0].innerHTML=s+1);const e=[],n=[],r=function(s,a,c,l){if(s!=c&&t.records[l][c].element.setAttribute("data-x",c),a!=l&&t.records[l][c].element.setAttribute("data-y",l),s!=c||a!=l){const u=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([s,a]),f=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([c,l]);e[u]=f}};for(let s=0;s<t.records.length;s++)for(let a=0;a<t.records[0].length;a++)if(t.records[s][a]){const c=t.records[s][a].element.getAttribute("data-x"),l=t.records[s][a].element.getAttribute("data-y");if(t.records[s][a].element.getAttribute("data-merged")){const u=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([c,l]),f=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.t3)([a,s]);if(n[u]==null)if(u==f)n[u]=!1;else{const b=parseInt(a-c),S=parseInt(s-l);n[u]=[f,b,S]}}else r(c,l,a,s)}const o=Object.keys(n);if(o.length){for(let s=0;s<o.length;s++)if(n[o[s]]){const a=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(o[s],!0);let c=a[0],l=a[1];r(c,l,c+n[o[s]][1],l+n[o[s]][2]);const u=o[s],f=n[o[s]][0];for(let b=0;b<t.options.mergeCells[u][2].length;b++)c=parseInt(t.options.mergeCells[u][2][b].getAttribute("data-x")),l=parseInt(t.options.mergeCells[u][2][b].getAttribute("data-y")),t.options.mergeCells[u][2][b].setAttribute("data-x",c+n[o[s]][1]),t.options.mergeCells[u][2][b].setAttribute("data-y",l+n[o[s]][2]);t.options.mergeCells[f]=t.options.mergeCells[u],delete t.options.mergeCells[u]}}updateFormulas.call(t,e),_meta_js__WEBPACK_IMPORTED_MODULE_5__.hs.call(t,e),_selection_js__WEBPACK_IMPORTED_MODULE_1__.G9.call(t),updateTable.call(t)},updateScroll=function(t){const e=this,n=e.content.getBoundingClientRect(),r=n.left,o=n.top,s=n.width,a=n.height,c=e.records[e.selectedCell[3]][e.selectedCell[2]].element.getBoundingClientRect(),l=c.left,u=c.top,f=c.width,b=c.height;let S,v;t==0||t==1?(S=l-r+e.content.scrollLeft,v=u-o+e.content.scrollTop-2):(S=l-r+e.content.scrollLeft+f,v=u-o+e.content.scrollTop+b),v>e.content.scrollTop+30&&v<e.content.scrollTop+a||(v<e.content.scrollTop+30?e.content.scrollTop=v-b:e.content.scrollTop=v-(a-2));const g=_freeze_js__WEBPACK_IMPORTED_MODULE_6__.w.call(e);S>e.content.scrollLeft+g&&S<e.content.scrollLeft+s||(S<e.content.scrollLeft+30?(e.content.scrollLeft=S,e.content.scrollLeft<50&&(e.content.scrollLeft=0)):S<e.content.scrollLeft+g?e.content.scrollLeft=S-g-1:e.content.scrollLeft=S-(s-20))},updateResult=function(){const t=this;let e=0,n=0;for(e=t.options.lazyLoading==1?100:t.options.pagination>0?t.options.pagination:t.results?t.results.length:t.rows.length;t.tbody.firstChild;)t.tbody.removeChild(t.tbody.firstChild);for(let r=0;r<t.rows.length;r++)!t.results||t.results.indexOf(r)>-1?(n<e&&(t.tbody.appendChild(t.rows[r].element),n++),t.rows[r].element.style.display=""):t.rows[r].element.style.display="none";return t.options.pagination>0&&_pagination_js__WEBPACK_IMPORTED_MODULE_7__.IV.call(t),_selection_js__WEBPACK_IMPORTED_MODULE_1__.Aq.call(t),e},getCell=function(t,e){if(typeof t=="string"){const n=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(t,!0);t=n[0],e=n[1]}return this.records[e][t].element},getCellFromCoords=function(t,e){return this.records[e][t].element},getLabel=function(t,e){if(typeof t=="string"){const n=(0,_internalHelpers_js__WEBPACK_IMPORTED_MODULE_2__.vu)(t,!0);t=n[0],e=n[1]}return this.records[e][t].element.innerHTML},fullscreen=function(t){const e=this;t==null&&(t=!e.config.fullscreen),e.config.fullscreen!=t&&(e.config.fullscreen=t,t==1?e.element.classList.add("fullscreen"):e.element.classList.remove("fullscreen"))},showIndex=function(){this.table.classList.remove("jss_hidden_index")},hideIndex=function(){this.table.classList.add("jss_hidden_index")},createNestedHeader=function(t){const e=this,n=document.createElement("tr");n.classList.add("jss_nested");const r=document.createElement("td");r.classList.add("jss_selectall"),n.appendChild(r),t.element=n;let o=0;for(let s=0;s<t.length;s++){t[s].colspan||(t[s].colspan=1),t[s].title||(t[s].title=""),t[s].id||(t[s].id="");let a=t[s].colspan;const c=[];for(let u=0;u<a;u++)e.options.columns[o]&&e.options.columns[o].type=="hidden"&&a++,c.push(o),o++;const l=document.createElement("td");l.setAttribute("data-column",c.join(",")),l.setAttribute("colspan",t[s].colspan),l.setAttribute("align",t[s].align||"center"),l.setAttribute("id",t[s].id),l.textContent=t[s].title,n.appendChild(l)}return n},getWorksheetActive=function(){const t=this.parent?this.parent:this;return t.element.tabs?t.element.tabs.getActive():0},getWorksheetInstance=function(t){const e=t!==void 0?t:getWorksheetActive.call(this);return this.worksheets[e]}},689:function(t,e,n){n.d(e,{Hh:function(){return o},t3:function(){return a},vu:function(){return s}});var r=n(978);const o=function(c,l,u){if(l<=c.length)return c.slice(0,l).concat(u).concat(c.slice(l));const f=c.slice(0,c.length);for(;l>f.length;)f.push(void 0);return f.concat(u)},s=function(c,l){const u=/^[a-zA-Z]+/.exec(c);if(u){let f=0;for(let S=0;S<u[0].length;S++)f+=parseInt(u[0].charCodeAt(S)-64)*Math.pow(26,u[0].length-1-S);f--,f<0&&(f=0);let b=parseInt(/[0-9]+$/.exec(c));b>0&&b--,c=l==1?[f,b]:f+"-"+b}return c},a=function(c){return Array.isArray(c)||(c=c.split("-")),(0,r.getColumnName)(parseInt(c[0]))+(parseInt(c[1])+1)}},497:function(t,e,n){n.d(e,{AG:function(){return o},G_:function(){return s},p6:function(){return a},wu:function(){return r}});const r=function(c){const l=this;let u;u=l.options.search!=1&&l.options.filters!=1||!l.results?l.rows:l.results;const f=100;c!=null&&c!=-1||(c=Math.ceil(u.length/f)-1);let b=c*f,S=c*f+f;S>u.length&&(S=u.length),b=S-100,b<0&&(b=0);for(let v=b;v<S;v++)l.options.search!=1&&l.options.filters!=1||!l.results?l.tbody.appendChild(l.rows[v].element):l.tbody.appendChild(l.rows[u[v]].element),l.tbody.children.length>f&&l.tbody.removeChild(l.tbody.firstChild)},o=function(){const c=this;if(c.selectedCell){const l=parseInt(c.tbody.firstChild.getAttribute("data-y"))/100,u=parseInt(c.selectedCell[3]/100),f=parseInt(c.rows.length/100);if(l!=u&&u<=f&&!Array.prototype.indexOf.call(c.tbody.children,c.rows[c.selectedCell[3]].element))return c.loadPage(u),!0}return!1},s=function(){const c=this;let l;l=c.options.search!=1&&c.options.filters!=1||!c.results?c.rows:c.results;let u=0;if(l.length>100){let f=parseInt(c.tbody.firstChild.getAttribute("data-y"));if(c.options.search!=1&&c.options.filters!=1||!c.results||(f=l.indexOf(f)),f>0)for(let b=0;b<30;b++)f-=1,f>-1&&(c.options.search!=1&&c.options.filters!=1||!c.results?c.tbody.insertBefore(c.rows[f].element,c.tbody.firstChild):c.tbody.insertBefore(c.rows[l[f]].element,c.tbody.firstChild),c.tbody.children.length>100&&(c.tbody.removeChild(c.tbody.lastChild),u=1))}return u},a=function(){const c=this;let l;l=c.options.search!=1&&c.options.filters!=1||!c.results?c.rows:c.results;let u=0;if(l.length>100){let f=parseInt(c.tbody.lastChild.getAttribute("data-y"));if(c.options.search!=1&&c.options.filters!=1||!c.results||(f=l.indexOf(f)),f<c.rows.length-1)for(let b=0;b<=30;b++)f<l.length&&(c.options.search!=1&&c.options.filters!=1||!c.results?c.tbody.appendChild(c.rows[f].element):c.tbody.appendChild(c.rows[l[f]].element),c.tbody.children.length>100&&(c.tbody.removeChild(c.tbody.firstChild),u=1)),f+=1}return u}},910:function(t,e,n){n.d(e,{D0:function(){return u},FU:function(){return b},Lt:function(){return l},VP:function(){return v},Zp:function(){return S},fd:function(){return f}});var r=n(689),o=n(530),s=n(911),a=n(805),c=n(657);const l=function(g,w){const A=this,T=[];if(A.options.mergeCells){const O=Object.keys(A.options.mergeCells);for(let R=0;R<O.length;R++){const k=(0,r.vu)(O[R],!0),V=A.options.mergeCells[O[R]][0],P=k[0],B=k[0]+(V>1?V-1:0);w==null?P<=g&&B>=g&&T.push(O[R]):w?P<g&&B>=g&&T.push(O[R]):P<=g&&B>g&&T.push(O[R])}}return T},u=function(g,w){const A=this,T=[];if(A.options.mergeCells){const O=Object.keys(A.options.mergeCells);for(let R=0;R<O.length;R++){const k=(0,r.vu)(O[R],!0),V=A.options.mergeCells[O[R]][1],P=k[1],B=k[1]+(V>1?V-1:0);w==null?P<=g&&B>=g&&T.push(O[R]):w?P<g&&B>=g&&T.push(O[R]):P<=g&&B>g&&T.push(O[R])}}return T},f=function(g){const w=this;let A={};if(g)A=w.options.mergeCells&&w.options.mergeCells[g]?[w.options.mergeCells[g][0],w.options.mergeCells[g][1]]:null;else if(w.options.mergeCells){w.options.mergeCells;const T=Object.keys(w.options.mergeCells);for(let O=0;O<T.length;O++)A[T[O]]=[w.options.mergeCells[T[O]][0],w.options.mergeCells[T[O]][1]]}return A},b=function(g,w,A,T){const O=this;let R=!1;if(g){if(typeof g!="string")return null}else{if(!O.highlighted.length)return alert(jSuites.translate("No cells selected")),null;{const V=parseInt(O.highlighted[0].getAttribute("data-x")),P=parseInt(O.highlighted[0].getAttribute("data-y")),B=parseInt(O.highlighted[O.highlighted.length-1].getAttribute("data-x")),j=parseInt(O.highlighted[O.highlighted.length-1].getAttribute("data-y"));g=(0,r.t3)([V,P]),w=B-V+1,A=j-P+1}}const k=(0,r.vu)(g,!0);if(O.options.mergeCells&&O.options.mergeCells[g])O.records[k[1]][k[0]].element.getAttribute("data-merged")&&(R="Cell already merged");else if((!w||w<2)&&(!A||A<2))R="Invalid merged properties";else for(let V=k[1];V<k[1]+A;V++)for(let P=k[0];P<k[0]+w;P++)(0,r.t3)([P,V]),O.records[V][P].element.getAttribute("data-merged")&&(R="There is a conflict with another merged cell");if(R)alert(jSuites.translate(R));else{w>1?O.records[k[1]][k[0]].element.setAttribute("colspan",w):w=1,A>1?O.records[k[1]][k[0]].element.setAttribute("rowspan",A):A=1,O.options.mergeCells||(O.options.mergeCells={}),O.options.mergeCells[g]=[w,A,[]],O.records[k[1]][k[0]].element.setAttribute("data-merged","true"),O.records[k[1]][k[0]].element.style.overflow="hidden";const V=[];for(let P=k[1];P<k[1]+A;P++)for(let B=k[0];B<k[0]+w;B++)k[0]==B&&k[1]==P||(V.push(O.options.data[P][B]),o.k9.call(O,B,P,"",!0),O.options.mergeCells[g][2].push(O.records[P][B].element),O.records[P][B].element.style.display="none",O.records[P][B].element=O.records[k[1]][k[0]].element);c.c6.call(O,O.records[k[1]][k[0]].element),T||(s.Dh.call(O,{action:"setMerge",column:g,colspan:w,rowspan:A,data:V}),a.A.call(O,"onmerge",O,{[g]:[w,A]}))}},S=function(g,w,A){const T=this;if(T.options.mergeCells&&T.options.mergeCells[g]){const O=(0,r.vu)(g,!0);T.records[O[1]][O[0]].element.removeAttribute("colspan"),T.records[O[1]][O[0]].element.removeAttribute("rowspan"),T.records[O[1]][O[0]].element.removeAttribute("data-merged");const R=T.options.mergeCells[g];let k,V,P=0;for(k=0;k<R[1];k++)for(V=0;V<R[0];V++)(k>0||V>0)&&(T.records[O[1]+k][O[0]+V].element=R[2][P],T.records[O[1]+k][O[0]+V].element.style.display="",w&&w[P]&&o.k9.call(T,O[0]+V,O[1]+k,w[P]),P++);c.c6.call(T,T.records[O[1]][O[0]].element,T.records[O[1]+k-1][O[0]+V-1].element),A||delete T.options.mergeCells[g]}},v=function(g){const w=this;if(w.options.mergeCells){w.options.mergeCells;const A=Object.keys(w.options.mergeCells);for(let T=0;T<A.length;T++)S.call(w,A[T],null,g)}}},654:function(t,e,n){n.d(e,{IQ:function(){return o},hs:function(){return s},iZ:function(){return a}});var r=n(805);const o=function(c,l){const u=this;return c?l?u.options.meta&&u.options.meta[c]&&u.options.meta[c][l]?u.options.meta[c][l]:null:u.options.meta&&u.options.meta[c]?u.options.meta[c]:null:u.options.meta},s=function(c){const l=this;if(l.options.meta){const u={},f=Object.keys(l.options.meta);for(let b=0;b<f.length;b++)c[f[b]]?u[c[f[b]]]=l.options.meta[f[b]]:u[f[b]]=l.options.meta[f[b]];l.options.meta=u}},a=function(c,l,u){const f=this;if(f.options.meta||(f.options.meta={}),l&&u)f.options.meta[c]||(f.options.meta[c]={}),f.options.meta[c][l]=u,r.A.call(f,"onchangemeta",f,{[c]:{[l]:u}});else{const b=Object.keys(c);for(let S=0;S<b.length;S++){f.options.meta[b[S]]||(f.options.meta[b[S]]={});const v=Object.keys(c[b[S]]);for(let g=0;g<v.length;g++)f.options.meta[b[S]][v[g]]=c[b[S]][v[g]]}r.A.call(f,"onchangemeta",f,c)}}},94:function(t,e,n){n.d(e,{My:function(){return f},Th:function(){return l},iY:function(){return u}});var r=n(911),o=n(805),s=n(530),a=n(497),c=n(829);const l=function(b,S){const v=this;for(let g=0;g<v.headers.length;g++)v.headers[g].classList.remove("arrow-up"),v.headers[g].classList.remove("arrow-down");S?v.headers[b].classList.add("arrow-up"):v.headers[b].classList.add("arrow-down")},u=function(b){const S=this;let v=[];for(let g=0;g<b.length;g++)v[g]=S.options.data[b[g]];S.options.data=v,v=[];for(let g=0;g<b.length;g++){v[g]=S.records[b[g]];for(let w=0;w<v[g].length;w++)v[g][w].y=g}S.records=v,v=[];for(let g=0;g<b.length;g++)v[g]=S.rows[b[g]],v[g].y=g;if(S.rows=v,s.o8.call(S),S.results&&S.results.length)S.searchInput.value?S.search(S.searchInput.value):c.F8.call(S);else if(S.results=null,S.pageNumber=0,S.options.pagination>0)S.page(0);else if(S.options.lazyLoading==1)a.wu.call(S,0);else for(let g=0;g<S.rows.length;g++)S.tbody.appendChild(S.rows[g].element)},f=function(b,S){const v=this;if(b>=0){if(v.options.mergeCells&&Object.keys(v.options.mergeCells).length>0){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;v.destroyMerge()}S=S==null?v.headers[b].classList.contains("arrow-down")?1:0:S?1:0;let g=[];if(v.options.columns&&v.options.columns[b]&&(v.options.columns[b].type=="number"||v.options.columns[b].type=="numeric"||v.options.columns[b].type=="percentage"||v.options.columns[b].type=="autonumber"||v.options.columns[b].type=="color"))for(let A=0;A<v.options.data.length;A++)g[A]=[A,Number(v.options.data[A][b])];else if(v.options.columns&&v.options.columns[b]&&(v.options.columns[b].type=="calendar"||v.options.columns[b].type=="checkbox"||v.options.columns[b].type=="radio"))for(let A=0;A<v.options.data.length;A++)g[A]=[A,v.options.data[A][b]];else for(let A=0;A<v.options.data.length;A++)g[A]=[A,v.records[A][b].element.textContent.toLowerCase()];typeof v.parent.config.sorting!="function"&&(v.parent.config.sorting=function(A){return function(T,O){const R=T[1],k=O[1];return A?R===""&&k!==""?1:R!==""&&k===""||R>k?-1:R<k?1:0:R===""&&k!==""?1:R!==""&&k===""?-1:R>k?1:R<k?-1:0}}),g=g.sort(v.parent.config.sorting(S));const w=[];for(let A=0;A<g.length;A++)w[A]=g[A][0];return r.Dh.call(v,{action:"orderBy",rows:w,column:b,order:S}),l.call(v,b,S),u.call(v,w),o.A.call(v,"onsort",v,b,S,w.map(A=>A)),!0}}},167:function(t,e,n){n.d(e,{$f:function(){return l},IV:function(){return a},MY:function(){return c},ho:function(){return s}});var r=n(805),o=n(657);const s=function(u){const f=this;return f.options.search!=1&&f.options.filters!=1||!f.results||(u=f.results.indexOf(u)),Math.ceil((parseInt(u)+1)/parseInt(f.options.pagination))-1},a=function(){const u=this;if(u.pagination.children[0].innerHTML="",u.pagination.children[1].innerHTML="",u.options.pagination){let f;if(f=u.options.search!=1&&u.options.filters!=1||!u.results?u.rows.length:u.results.length,f){const b=Math.ceil(f/u.options.pagination);let S,v;if(u.pageNumber<6?(S=1,v=b<10?b:10):b-u.pageNumber<5?(S=b-9,v=b,S<1&&(S=1)):(S=u.pageNumber-4,v=u.pageNumber+5),S>1){const w=document.createElement("div");w.className="jss_page",w.innerHTML="<",w.title=1,u.pagination.children[1].appendChild(w)}for(let w=S;w<=v;w++){const A=document.createElement("div");A.className="jss_page",A.innerHTML=w,u.pagination.children[1].appendChild(A),u.pageNumber==w-1&&A.classList.add("jss_page_selected")}if(v<b){const w=document.createElement("div");w.className="jss_page",w.innerHTML=">",w.title=b,u.pagination.children[1].appendChild(w)}const g=function(w){const A=Array.prototype.slice.call(arguments,1);return w.replace(/{(\d+)}/g,function(T,O){return A[O]!==void 0?A[O]:T})};u.pagination.children[0].innerHTML=g(jSuites.translate("Showing page {0} of {1} entries"),u.pageNumber+1,b)}else u.pagination.children[0].innerHTML=jSuites.translate("No records found")}},c=function(u){const f=this,b=f.pageNumber;let S;S=f.options.search!=1&&f.options.filters!=1||!f.results?f.rows:f.results;const v=parseInt(f.options.pagination);u!=null&&u!=-1||(u=Math.ceil(S.length/v)-1),f.pageNumber=u;let g=u*v,w=u*v+v;for(w>S.length&&(w=S.length),g<0&&(g=0);f.tbody.firstChild;)f.tbody.removeChild(f.tbody.firstChild);for(let A=g;A<w;A++)f.options.search!=1&&f.options.filters!=1||!f.results?f.tbody.appendChild(f.rows[A].element):f.tbody.appendChild(f.rows[S[A]].element);f.options.pagination>0&&a.call(f),o.Aq.call(f),r.A.call(f,"onchangepage",f,u,b,f.options.pagination)},l=function(){const u=this;let f;return f=u.options.search!=1&&u.options.filters!=1||!u.results?u.rows.length:u.results.length,Math.ceil(f/u.options.pagination)}},657:function(t,e,n){n.d(e,{AH:function(){return g},Aq:function(){return f},G9:function(){return A},Jg:function(){return w},Lo:function(){return j},R5:function(){return P},Ub:function(){return B},at:function(){return V},c6:function(){return S},eO:function(){return Y},ef:function(){return q},gE:function(){return b},gG:function(){return T},kA:function(){return v},kF:function(){return R},kV:function(){return me},sp:function(){return ae},tW:function(){return k}});var r=n(805),o=n(296),s=n(978),a=n(911),c=n(530),l=n(689),u=n(392);const f=function(){const Q=this;if(Q.highlighted&&Q.highlighted.length){const le=Q.highlighted[Q.highlighted.length-1].element,Se=le.getAttribute("data-x"),ve=Q.content.getBoundingClientRect(),fe=ve.left,Ne=ve.top,st=le.getBoundingClientRect(),ft=st.left,et=st.top,Nt=st.width,re=st.height,Ue=ft-fe+Q.content.scrollLeft+Nt-4,gt=et-Ne+Q.content.scrollTop+re-4;if(Q.corner.style.top=gt+"px",Q.corner.style.left=Ue+"px",Q.options.freezeColumns){const Mt=o.w.call(Q);Se>Q.options.freezeColumns-1&&ft-fe+Nt<Mt?Q.corner.style.display="none":Q.options.selectionCopy!=0&&(Q.corner.style.display="")}else Q.options.selectionCopy!=0&&(Q.corner.style.display="")}else Q.corner.style.top="-2000px",Q.corner.style.left="-2000px";(0,u.nK)(Q)},b=function(Q){const le=this;let Se;if(le.highlighted&&le.highlighted.length){Se=1;for(let ve=0;ve<le.highlighted.length;ve++){le.highlighted[ve].element.classList.remove("highlight"),le.highlighted[ve].element.classList.remove("highlight-left"),le.highlighted[ve].element.classList.remove("highlight-right"),le.highlighted[ve].element.classList.remove("highlight-top"),le.highlighted[ve].element.classList.remove("highlight-bottom"),le.highlighted[ve].element.classList.remove("highlight-selected");const fe=parseInt(le.highlighted[ve].element.getAttribute("data-x")),Ne=parseInt(le.highlighted[ve].element.getAttribute("data-y"));let st,ft;if(le.highlighted[ve].element.getAttribute("data-merged")){const et=parseInt(le.highlighted[ve].element.getAttribute("colspan")),Nt=parseInt(le.highlighted[ve].element.getAttribute("rowspan"));st=et>0?fe+(et-1):fe,ft=Nt>0?Ne+(Nt-1):Ne}else st=fe,ft=Ne;for(let et=fe;et<=st;et++)le.headers[et]&&le.headers[et].classList.remove("selected");for(let et=Ne;et<=ft;et++)le.rows[et]&&le.rows[et].element.classList.remove("selected")}}else Se=0;return le.highlighted=[],le.selectedCell=null,le.corner.style.top="-2000px",le.corner.style.left="-2000px",Q==1&&Se==1&&r.A.call(le,"onblur",le),Se},S=function(Q,le,Se){const ve=Q.getAttribute("data-x"),fe=Q.getAttribute("data-y");let Ne,st;le?(Ne=le.getAttribute("data-x"),st=le.getAttribute("data-y")):(Ne=ve,st=fe),g.call(this,ve,fe,Ne,st,Se)},v=function(){const Q=document.querySelectorAll(".jss_worksheet .copying");for(let le=0;le<Q.length;le++)Q[le].classList.remove("copying"),Q[le].classList.remove("copying-left"),Q[le].classList.remove("copying-right"),Q[le].classList.remove("copying-top"),Q[le].classList.remove("copying-bottom")},g=function(Q,le,Se,ve,fe){const Ne=this;if(le==null){if(le=0,ve=Ne.rows.length-1,Q==null)return}else Q==null&&(Q=0,Se=Ne.options.data[0].length-1);Se==null&&(Se=Q),ve==null&&(ve=le),Q>=Ne.headers.length&&(Q=Ne.headers.length-1),le>=Ne.rows.length&&(le=Ne.rows.length-1),Se>=Ne.headers.length&&(Se=Ne.headers.length-1),ve>=Ne.rows.length&&(ve=Ne.rows.length-1);let st,ft,et,Nt,re=null,Ue=null,gt=null,Mt=null;parseInt(Q)<parseInt(Se)?(st=parseInt(Q),ft=parseInt(Se)):(st=parseInt(Se),ft=parseInt(Q)),parseInt(le)<parseInt(ve)?(et=parseInt(le),Nt=parseInt(ve)):(et=parseInt(ve),Nt=parseInt(le));for(let Fe=st;Fe<=ft;Fe++)for(let Ye=et;Ye<=Nt;Ye++)if(Ne.records[Ye][Fe]&&Ne.records[Ye][Fe].element.getAttribute("data-merged")){const ht=parseInt(Ne.records[Ye][Fe].element.getAttribute("data-x")),vt=parseInt(Ne.records[Ye][Fe].element.getAttribute("data-y")),ye=parseInt(Ne.records[Ye][Fe].element.getAttribute("colspan")),we=parseInt(Ne.records[Ye][Fe].element.getAttribute("rowspan"));ye>1&&(ht<st&&(st=ht),ht+ye>ft&&(ft=ht+ye-1)),we&&(vt<et&&(et=vt),vt+we>Nt&&(Nt=vt+we-1))}for(let Fe=et;Fe<=Nt;Fe++)Ne.rows[Fe].element.style.display!="none"&&(gt==null&&(gt=Fe),Mt=Fe);for(let Fe=st;Fe<=ft;Fe++)for(let Ye=et;Ye<=Nt;Ye++)Ne.options.columns&&Ne.options.columns[Fe]&&Ne.options.columns[Fe].type=="hidden"||(re==null&&(re=Fe),Ue=Fe);if(re||(re=0),Ue||(Ue=0),r.A.call(Ne,"onbeforeselection",Ne,re,gt,Ue,Mt,fe)===!1)return!1;const Ze=Ne.resetSelection();Ne.selectedCell=[Q,le,Se,ve],Ne.records[le][Q]&&Ne.records[le][Q].element.classList.add("highlight-selected");for(let Fe=st;Fe<=ft;Fe++)for(let Ye=et;Ye<=Nt;Ye++)Ne.rows[Ye].element.style.display!="none"&&Ne.records[Ye][Fe].element.style.display!="none"&&(Ne.records[Ye][Fe].element.classList.add("highlight"),Ne.highlighted.push(Ne.records[Ye][Fe]));for(let Fe=re;Fe<=Ue;Fe++)Ne.options.columns&&Ne.options.columns[Fe]&&Ne.options.columns[Fe].type=="hidden"||!Ne.cols[Fe].colElement.style||Ne.cols[Fe].colElement.style.display=="none"||(Ne.records[gt]&&Ne.records[gt][Fe]&&Ne.records[gt][Fe].element.classList.add("highlight-top"),Ne.records[Mt]&&Ne.records[Mt][Fe]&&Ne.records[Mt][Fe].element.classList.add("highlight-bottom"),Ne.headers[Fe].classList.add("selected"));for(let Fe=gt;Fe<=Mt;Fe++)Ne.rows[Fe]&&Ne.rows[Fe].element.style.display!="none"&&(Ne.records[Fe][re].element.classList.add("highlight-left"),Ne.records[Fe][Ue].element.classList.add("highlight-right"),Ne.rows[Fe].element.classList.add("selected"));Ne.selectedContainer=[re,gt,Ue,Mt],Ze==0&&(r.A.call(Ne,"onfocus",Ne),v()),r.A.call(Ne,"onselection",Ne,re,gt,Ue,Mt,fe),f.call(Ne)},w=function(Q){const le=this;if(!le.selectedCell)return[];const Se=[];for(let ve=Math.min(le.selectedCell[0],le.selectedCell[2]);ve<=Math.max(le.selectedCell[0],le.selectedCell[2]);ve++)Q&&le.headers[ve].style.display=="none"||Se.push(ve);return Se},A=function(){const Q=this;Q.selectedCell&&Q.updateSelectionFromCoords(Q.selectedCell[0],Q.selectedCell[1],Q.selectedCell[2],Q.selectedCell[3])},T=function(){const Q=this;for(let le=0;le<Q.selection.length;le++)Q.selection[le].classList.remove("selection"),Q.selection[le].classList.remove("selection-left"),Q.selection[le].classList.remove("selection-right"),Q.selection[le].classList.remove("selection-top"),Q.selection[le].classList.remove("selection-bottom");Q.selection=[]},O=function(Q){return(Q=""+Q).length==1&&(Q="0"+Q),Q},R=function(Q,le){const Se=this,ve=Se.getData(!0,!1),fe=Se.selectedContainer,Ne=parseInt(Q.getAttribute("data-x")),st=parseInt(Q.getAttribute("data-y")),ft=parseInt(le.getAttribute("data-x")),et=parseInt(le.getAttribute("data-y")),Nt=[];let re,Ue,gt=!1;fe[0]==Ne?(re=st<fe[1]?st-fe[1]:1,Ue=0):(Ue=Ne<fe[0]?Ne-fe[0]:1,re=0);let Mt=0,Ze=0;for(let Ye=st;Ye<=et;Ye++)if(!Se.rows[Ye]||Se.rows[Ye].element.style.display!="none"){ve[Ze]==null&&(Ze=0),Mt=0,fe[0]!=Ne&&(Ue=Ne<fe[0]?Ne-fe[0]:1);for(let ht=Ne;ht<=ft;ht++){if(Se.records[Ye][ht]&&!Se.records[Ye][ht].element.classList.contains("readonly")&&Se.records[Ye][ht].element.style.display!="none"&&gt==0){if(!Se.selection.length&&Se.options.data[Ye][ht]!=""){gt=!0;continue}(ve[Ze]==null||ve[Ze][Mt]==null)&&(Mt=0);let vt=ve[Ze][Mt];if(vt&&!ve[1]&&Se.parent.config.autoIncrement!=0)if(!Se.options.columns||!Se.options.columns[ht]||Se.options.columns[ht].type&&Se.options.columns[ht].type!="text"&&Se.options.columns[ht].type!="number"){if(Se.options.columns&&Se.options.columns[ht]&&Se.options.columns[ht].type=="calendar"){const ye=new Date(vt);ye.setDate(ye.getDate()+re),vt=ye.getFullYear()+"-"+O(parseInt(ye.getMonth()+1))+"-"+O(ye.getDate())+" 00:00:00"}}else if((""+vt).substr(0,1)=="="){const ye=vt.match(/([A-Z]+[0-9]+)/g);if(ye){const we=[];for(let Pe=0;Pe<ye.length;Pe++){const je=(0,l.vu)(ye[Pe],1);je[0]+=Ue,je[1]+=re,je[1]<0&&(je[1]=0);const ze=(0,l.t3)([je[0],je[1]]);ze!=ye[Pe]&&(we[ye[Pe]]=ze)}we&&(vt=(0,c.yB)(vt,we))}}else vt==Number(vt)&&(vt=Number(vt)+re);Nt.push(c.k9.call(Se,ht,Ye,vt)),c.xF.call(Se,ht,Ye,Nt)}Mt++,fe[0]!=Ne&&Ue++}Ze++,re++}a.Dh.call(Se,{action:"setValue",records:Nt,selection:Se.selectedCell}),c.am.call(Se);const Fe=Nt.map(function(Ye){return{x:Ye.x,y:Ye.y,value:Ye.newValue,oldValue:Ye.oldValue}});r.A.call(Se,"onafterchanges",Se,Fe)},k=function(Q){let le,Se,ve=0;if(!Q||Q.length===0)return ve;for(le=0;le<Q.length;le++)Se=Q.charCodeAt(le),ve=(ve<<5)-ve+Se,ve|=0;return ve},V=function(Q,le,Se){const ve=this;if(Q==1){if(ve.selectedCell&&(le>=ve.selectedCell[1]&&le<=ve.selectedCell[3]||Se>=ve.selectedCell[1]&&Se<=ve.selectedCell[3]))return void ve.resetSelection()}else if(ve.selectedCell&&(le>=ve.selectedCell[0]&&le<=ve.selectedCell[2]||Se>=ve.selectedCell[0]&&Se<=ve.selectedCell[2]))return void ve.resetSelection()},P=function(Q){const le=this;if(!le.selectedCell)return[];const Se=[];for(let ve=Math.min(le.selectedCell[1],le.selectedCell[3]);ve<=Math.max(le.selectedCell[1],le.selectedCell[3]);ve++)Q&&le.rows[ve].element.style.display=="none"||Se.push(ve);return Se},B=function(){const Q=this;Q.selectedCell||(Q.selectedCell=[]),Q.selectedCell[0]=0,Q.selectedCell[1]=0,Q.selectedCell[2]=Q.headers.length-1,Q.selectedCell[3]=Q.records.length-1,Q.updateSelectionFromCoords(Q.selectedCell[0],Q.selectedCell[1],Q.selectedCell[2],Q.selectedCell[3])},j=function(){const Q=this;return Q.selectedCell?[Math.min(Q.selectedCell[0],Q.selectedCell[2]),Math.min(Q.selectedCell[1],Q.selectedCell[3]),Math.max(Q.selectedCell[0],Q.selectedCell[2]),Math.max(Q.selectedCell[1],Q.selectedCell[3])]:null},q=function(Q){const le=this,Se=j.call(le);if(!Se)return[];const ve=[];for(let fe=Se[1];fe<=Se[3];fe++)for(let Ne=Se[0];Ne<=Se[2];Ne++)Q?ve.push((0,s.getCellNameFromCoords)(Ne,fe)):ve.push(le.records[fe][Ne]);return ve},Y=function(){const Q=this,le=j.call(Q);if(!le)return"";const Se=(0,s.getCellNameFromCoords)(le[0],le[1]),ve=(0,s.getCellNameFromCoords)(le[2],le[3]);return Se===ve?Q.options.worksheetName+"!"+Se:Q.options.worksheetName+"!"+Se+":"+ve},ae=function(Q,le){const Se=j.call(this);return Q>=Se[0]&&Q<=Se[2]&&le>=Se[1]&&le<=Se[3]},me=function(){const Q=j.call(this);return Q?[Q]:[]}},392:function(t,e,n){n.d(e,{Ar:function(){return b},ll:function(){return f},nK:function(){return u}});var r=n(978),o=n(530);const s=function(S,v){v.options.editable!=0?S.classList.remove("jtoolbar-disabled"):S.classList.add("jtoolbar-disabled")},a=function(){const S=[],v=this,g=function(){return o.eN.call(v)};S.push({content:"undo",onclick:function(){g().undo()}}),S.push({content:"redo",onclick:function(){g().redo()}}),S.push({content:"save",onclick:function(){const A=g();A&&A.download()}}),S.push({type:"divisor"}),S.push({type:"select",width:"120px",options:["Default","Verdana","Arial","Courier New"],render:function(A){return'<span style="font-family:'+A+'">'+A+"</span>"},onchange:function(A,T,O,R,k){const V=g();let P=V.getSelected(!0);if(P){let B=k?R:"";V.setStyle(Object.fromEntries(P.map(function(j){return[j,"font-family: "+B]})))}},updateState:function(A,T,O){s(O,g())}}),S.push({type:"select",width:"48px",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(A){return'<span style="font-size:'+A+'">'+A+"</span>"},onchange:function(A,T,O,R){const k=g();let V=k.getSelected(!0);V&&k.setStyle(Object.fromEntries(V.map(function(P){return[P,"font-size: "+R]})))},updateState:function(A,T,O){s(O,g())}}),S.push({type:"select",options:["left","center","right","justify"],render:function(A){return'<i class="material-icons">format_align_'+A+"</i>"},onchange:function(A,T,O,R){const k=g();let V=k.getSelected(!0);V&&k.setStyle(Object.fromEntries(V.map(function(P){return[P,"text-align: "+R]})))},updateState:function(A,T,O){s(O,g())}}),S.push({content:"format_bold",onclick:function(A,T,O){const R=g();let k=R.getSelected(!0);k&&R.setStyle(Object.fromEntries(k.map(function(V){return[V,"font-weight:bold"]})))},updateState:function(A,T,O){s(O,g())}}),S.push({type:"color",content:"format_color_text",k:"color",updateState:function(A,T,O){s(O,g())}}),S.push({type:"color",content:"format_color_fill",k:"background-color",updateState:function(A,T,O,R){s(O,g())}});let w=["top","middle","bottom"];return S.push({type:"select",options:["vertical_align_top","vertical_align_center","vertical_align_bottom"],render:function(A){return'<i class="material-icons">'+A+"</i>"},value:1,onchange:function(A,T,O,R,k){const V=g();let P=V.getSelected(!0);P&&V.setStyle(Object.fromEntries(P.map(function(B){return[B,"vertical-align: "+w[k]]})))},updateState:function(A,T,O){s(O,g())}}),S.push({content:"web",tooltip:jSuites.translate("Merge the selected cells"),onclick:function(){const A=g();if(A.selectedCell&&confirm(jSuites.translate("The merged cells will retain the value of the top-left cell only. Are you sure?"))){const T=[Math.min(A.selectedCell[0],A.selectedCell[2]),Math.min(A.selectedCell[1],A.selectedCell[3]),Math.max(A.selectedCell[0],A.selectedCell[2]),Math.max(A.selectedCell[1],A.selectedCell[3])];let O=(0,r.getCellNameFromCoords)(T[0],T[1]);if(A.records[T[1]][T[0]].element.getAttribute("data-merged"))A.removeMerge(O);else{let R=T[2]-T[0]+1,k=T[3]-T[1]+1;R===1&&k===1||A.setMerge(O,R,k)}}},updateState:function(A,T,O){s(O,g())}}),S.push({type:"select",options:["border_all","border_outer","border_inner","border_horizontal","border_vertical","border_left","border_top","border_right","border_bottom","border_clear"],columns:5,render:function(A){return'<i class="material-icons">'+A+"</i>"},right:!0,onchange:function(A,T,O,R){const k=g();if(k.selectedCell){const V=[Math.min(k.selectedCell[0],k.selectedCell[2]),Math.min(k.selectedCell[1],k.selectedCell[3]),Math.max(k.selectedCell[0],k.selectedCell[2]),Math.max(k.selectedCell[1],k.selectedCell[3])];let P=R;if(V){let B=T.thickness||1,j=T.color||"black";const q=T.style||"solid";q==="double"&&(B+=2);let Y={},ae=V[0],me=V[1],Q=V[2],le=V[3];const Se=function(ve,fe,Ne){let st=["","","",""];st[0]=(P==="border_top"||P==="border_outer")&&Ne===me||(P==="border_inner"||P==="border_horizontal")&&Ne>me||P==="border_all"?"border-top: "+B+"px "+q+" "+j:"border-top: ",st[1]=P!=="border_all"&&P!=="border_right"&&P!=="border_outer"||fe!==Q?"border-right: ":"border-right: "+B+"px "+q+" "+j,st[2]=P!=="border_all"&&P!=="border_bottom"&&P!=="border_outer"||Ne!==le?"border-bottom: ":"border-bottom: "+B+"px "+q+" "+j,st[3]=(P==="border_left"||P==="border_outer")&&fe===ae||(P==="border_inner"||P==="border_vertical")&&fe>ae||P==="border_all"?"border-left: "+B+"px "+q+" "+j:"border-left: ",Y[ve]=st.join(";")};for(let ve=V[1];ve<=V[3];ve++)for(let fe=V[0];fe<=V[2];fe++)Se((0,r.getCellNameFromCoords)(fe,ve),fe,ve),k.records[ve][fe].element.getAttribute("data-merged")&&Se((0,r.getCellNameFromCoords)(V[0],V[1]),fe,ve);Object.keys(Y)&&k.setStyle(Y)}}},onload:function(A,T){let O=document.createElement("div"),R=document.createElement("div");O.appendChild(R);let k=jSuites.color(R,{closeOnChange:!1,onchange:function(B,j){B.parentNode.children[1].style.color=j,T.color=j}}),V=document.createElement("i");V.classList.add("material-icons"),V.innerHTML="color_lens",V.onclick=function(){k.open()},O.appendChild(V),A.children[1].appendChild(O),R=document.createElement("div"),jSuites.picker(R,{type:"select",data:[1,2,3,4,5],render:function(B){return'<div style="height: '+B+'px; width: 30px; background-color: black;"></div>'},onchange:function(B,j,q,Y){T.thickness=Y},width:"50px"}),A.children[1].appendChild(R);const P=document.createElement("div");jSuites.picker(P,{type:"select",data:["solid","dotted","dashed","double"],render:function(B){return B==="double"?'<div style="width: 30px; border-top: 3px '+B+' black;"></div>':'<div style="width: 30px; border-top: 2px '+B+' black;"></div>'},onchange:function(B,j,q,Y){T.style=Y},width:"50px"}),A.children[1].appendChild(P),R=document.createElement("div"),R.style.flex="1",A.children[1].appendChild(R)},updateState:function(A,T,O){s(O,g())}}),S.push({type:"divisor"}),S.push({content:"fullscreen",tooltip:"Toggle Fullscreen",onclick:function(A,T,O){O.children[0].textContent==="fullscreen"?(v.fullscreen(!0),O.children[0].textContent="fullscreen_exit"):(v.fullscreen(!1),O.children[0].textContent="fullscreen")},updateState:function(A,T,O,R){R.parent.config.fullscreen===!0?O.children[0].textContent="fullscreen_exit":O.children[0].textContent="fullscreen"}}),S},c=function(S){const v=this,g=S.items;for(let w=0;w<g.length;w++)g[w].tooltip&&(g[w].title=g[w].tooltip,delete g[w].tooltip),g[w].type=="select"?g[w].options?(g[w].data=g[w].options,delete g[w].options):(g[w].data=g[w].v,delete g[w].v,g[w].k&&!g[w].onchange&&(g[w].onchange=function(A,T,O){const R=o.eN.call(v),k=R.getSelected(!0);R.setStyle(Object.fromEntries(k.map(function(V){return[V,g[w].k+": "+O]})))})):g[w].type=="color"&&(g[w].type="i",g[w].onclick=function(A,T,O){O.color||(jSuites.color(O,{onchange:function(R,k){const V=o.eN.call(v),P=V.getSelected(!0);V.setStyle(Object.fromEntries(P.map(function(B){return[B,g[w].k+": "+k]})))},onopen:function(R){R.color.select("")}}),O.color.open())})},l=function(S){const v=this,g=document.createElement("div");return g.classList.add("jss_toolbar"),c.call(v,S),typeof v.plugins=="object"&&Object.entries(v.plugins).forEach(function([,w]){if(typeof w.toolbar=="function"){const A=w.toolbar(S);A&&(S=A)}}),jSuites.toolbar(g,S),g},u=function(S){S.parent.toolbar&&S.parent.toolbar.toolbar.update(S)},f=function(){const S=this;if(S.config.toolbar&&!S.toolbar){let v;Array.isArray(S.config.toolbar)?v={items:S.config.toolbar}:typeof S.config.toolbar=="object"?v=S.config.toolbar:(v={items:a.call(S)},typeof S.config.toolbar=="function"&&(v=S.config.toolbar(v))),S.toolbar=S.element.insertBefore(l.call(S,v),S.element.children[1])}},b=function(){const S=this;S.toolbar&&(S.toolbar.parentNode.removeChild(S.toolbar),delete S.toolbar)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return src}});const lib={jspreadsheet:{}};var libraryBase=lib,dispatch=__webpack_require__(805),internal=__webpack_require__(530),utils_history=__webpack_require__(911);const openEditor=function(t,e,n){const r=this,o=t.getAttribute("data-y"),s=t.getAttribute("data-x");dispatch.A.call(r,"oneditionstart",r,t,parseInt(s),parseInt(o)),s>0&&(r.records[o][s-1].element.style.overflow="hidden");const a=function(c){const l=t.getBoundingClientRect(),u=document.createElement(c);return u.style.width=l.width+"px",u.style.height=l.height-2+"px",u.style.minHeight=l.height-2+"px",t.classList.add("editor"),t.innerHTML="",t.appendChild(u),u};if(t.classList.contains("readonly")!=1){if(r.edition=[r.records[o][s].element,r.records[o][s].element.innerHTML,s,o],r.options.columns&&r.options.columns[s]&&typeof r.options.columns[s].type=="object")r.options.columns[s].type.openEditor(t,r.options.data[o][s],parseInt(s),parseInt(o),r,r.options.columns[s],n),dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]);else if(!(r.options.columns&&r.options.columns[s]&&r.options.columns[s].type=="hidden"))if(r.options.columns&&r.options.columns[s]&&(r.options.columns[s].type=="checkbox"||r.options.columns[s].type=="radio")){const c=!t.children[0].checked;r.setValue(t,c),r.edition=null}else if(r.options.columns&&r.options.columns[s]&&r.options.columns[s].type=="dropdown"){let c,l=r.options.data[o][s];r.options.columns[s].multiple&&!Array.isArray(l)&&(l=l.split(";")),c=typeof r.options.columns[s].filter=="function"?r.options.columns[s].filter(r.element,t,s,o,r.options.columns[s].source):r.options.columns[s].source;const u=[];if(c)for(let S=0;S<c.length;S++)u.push(c[S]);const f=a("div");dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]);const b={data:u,multiple:!!r.options.columns[s].multiple,autocomplete:!!r.options.columns[s].autocomplete,opened:!0,value:l,width:"100%",height:f.style.minHeight,position:r.options.tableOverflow==1||r.parent.config.fullscreen==1,onclose:function(){closeEditor.call(r,t,!0)}};r.options.columns[s].options&&r.options.columns[s].options.type&&(b.type=r.options.columns[s].options.type),jSuites.dropdown(f,b)}else if(r.options.columns&&r.options.columns[s]&&(r.options.columns[s].type=="calendar"||r.options.columns[s].type=="color")){const c=r.options.data[o][s],l=a("input");dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]),l.value=c;const u=r.options.columns[s].options?{...r.options.columns[s].options}:{};if(r.options.tableOverflow!=1&&r.parent.config.fullscreen!=1||(u.position=!0),u.value=r.options.data[o][s],u.opened=!0,u.onclose=function(f,b){closeEditor.call(r,t,!0)},r.options.columns[s].type=="color"){jSuites.color(l,u);const f=t.getBoundingClientRect();u.position&&(l.nextSibling.children[1].style.top=f.top+f.height+"px",l.nextSibling.children[1].style.left=f.left+"px")}else u.format||(u.format="YYYY-MM-DD"),jSuites.calendar(l,u);l.focus()}else if(r.options.columns&&r.options.columns[s]&&r.options.columns[s].type=="html"){const c=r.options.data[o][s],l=a("div");dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]),l.style.position="relative";const u=document.createElement("div");u.classList.add("jss_richtext"),l.appendChild(u),jSuites.editor(u,{focus:!0,value:c});const f=t.getBoundingClientRect(),b=u.getBoundingClientRect();window.innerHeight<f.bottom+b.height?u.style.top=f.bottom-(b.height+2)+"px":u.style.top=f.top+"px",window.innerWidth<f.left+b.width?u.style.left=f.right-(b.width+2)+"px":u.style.left=f.left+"px"}else if(r.options.columns&&r.options.columns[s]&&r.options.columns[s].type=="image"){const c=t.children[0],l=a("div");dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]),l.style.position="relative";const u=document.createElement("div");u.classList.add("jclose"),c&&c.src&&u.appendChild(c),l.appendChild(u),jSuites.image(u,r.options.columns[s]);const f=t.getBoundingClientRect(),b=u.getBoundingClientRect();window.innerHeight<f.bottom+b.height?u.style.top=f.top-(b.height+2)+"px":u.style.top=f.top+"px",u.style.left=f.left+"px"}else{const c=e==1?"":r.options.data[o][s];let l;l=r.options.columns&&r.options.columns[s]&&r.options.columns[s].wordWrap==0||!(r.options.wordWrap==1||r.options.columns&&r.options.columns[s]&&r.options.columns[s].wordWrap==1)?a("input"):a("textarea"),dispatch.A.call(r,"oncreateeditor",r,t,parseInt(s),parseInt(o),null,r.options.columns[s]),l.focus(),l.value=c;const u=r.options.columns&&r.options.columns[s];if(!(0,internal.dw)(c)&&u){const f=(0,internal.rS)(u);if(f){if(!u.disabledMaskOnEdition)if(u.mask){const b=u.mask.split(";");l.setAttribute("data-mask",b[0])}else u.locale&&l.setAttribute("data-locale",u.locale);f.input=l,l.mask=f,jSuites.mask.render(c,f,!1)}}l.onblur=function(){closeEditor.call(r,t,!0)},l.scrollLeft=l.scrollWidth}}},closeEditor=function(t,e){const n=this,r=parseInt(t.getAttribute("data-x")),o=parseInt(t.getAttribute("data-y"));let s;if(e==1){if(n.options.columns&&n.options.columns[r]&&typeof n.options.columns[r].type=="object")s=n.options.columns[r].type.closeEditor(t,e,parseInt(r),parseInt(o),n,n.options.columns[r]);else if(!(n.options.columns&&n.options.columns[r]&&(n.options.columns[r].type=="checkbox"||n.options.columns[r].type=="radio"||n.options.columns[r].type=="hidden")))if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="dropdown")s=t.children[0].dropdown.close(!0);else if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="calendar")s=t.children[0].calendar.close(!0);else if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="color")s=t.children[0].color.close(!0);else if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="html")s=t.children[0].children[0].editor.getData();else if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="image"){const a=t.children[0].children[0].children[0];s=a&&a.tagName=="IMG"?a.src:""}else if(n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="numeric")s=t.children[0].value,(""+s).substr(0,1)!="="&&s==""&&(s=n.options.columns[r].allowEmpty?"":0),t.children[0].onblur=null;else{s=t.children[0].value,t.children[0].onblur=null;const a=n.options.columns&&n.options.columns[r];if(a){const c=(0,internal.rS)(a);if(c&&s!==""&&!(0,internal.dw)(s)&&typeof s!="number"){const l=jSuites.mask.extract(s,c,!0);l&&l.value!==""&&(s=l.value)}}}n.options.data[o][r]==s?t.innerHTML=n.edition[1]:n.setValue(t,s)}else n.options.columns&&n.options.columns[r]&&typeof n.options.columns[r].type=="object"?n.options.columns[r].type.closeEditor(t,e,parseInt(r),parseInt(o),n,n.options.columns[r]):n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="dropdown"?t.children[0].dropdown.close(!0):n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="calendar"?t.children[0].calendar.close(!0):n.options.columns&&n.options.columns[r]&&n.options.columns[r].type=="color"?t.children[0].color.close(!0):t.children[0].onblur=null,t.innerHTML=n.edition&&n.edition[1]?n.edition[1]:"";dispatch.A.call(n,"oneditionend",n,t,r,o,s,e),t.classList.remove("editor"),n.edition=null},setCheckRadioValue=function(){const t=this,e=[],n=Object.keys(t.highlighted);for(let r=0;r<n.length;r++){const o=t.highlighted[r].element.getAttribute("data-x"),s=t.highlighted[r].element.getAttribute("data-y");t.options.columns[o].type!="checkbox"&&t.options.columns[o].type!="radio"||e.push(internal.k9.call(t,o,s,!t.options.data[s][o]))}if(e.length){utils_history.Dh.call(t,{action:"setValue",records:e,selection:t.selectedCell});const r=e.map(function(o){return{x:o.x,y:o.y,value:o.newValue,oldValue:o.oldValue}});dispatch.A.call(t,"onafterchanges",t,r)}};var lazyLoading=__webpack_require__(497);const upGet=function(t,e){const n=this;t=parseInt(t);for(let r=(e=parseInt(e))-1;r>=0;r--)if(n.records[r][t].element.style.display!="none"&&n.rows[r].element.style.display!="none"){if(n.records[r][t].element.getAttribute("data-merged")&&n.records[r][t].element==n.records[e][t].element)continue;e=r;break}return e},upVisible=function(t,e){const n=this;let r,o;if(t==0?(r=parseInt(n.selectedCell[0]),o=parseInt(n.selectedCell[1])):(r=parseInt(n.selectedCell[2]),o=parseInt(n.selectedCell[3])),e==0){for(let s=0;s<o;s++)if(n.records[s][r].element.style.display!="none"&&n.rows[s].element.style.display!="none"){o=s;break}}else o=upGet.call(n,r,o);t==0?(n.selectedCell[0]=r,n.selectedCell[1]=o):(n.selectedCell[2]=r,n.selectedCell[3]=o)},up=function(t,e){const n=this;if(t?n.selectedCell[3]>0&&upVisible.call(n,1,e?0:1):(n.selectedCell[1]>0&&upVisible.call(n,0,e?0:1),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),n.options.lazyLoading==1)if(n.selectedCell[1]==0||n.selectedCell[3]==0)lazyLoading.wu.call(n,0),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]);else if(lazyLoading.AG.call(n))n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]);else{const r=parseInt(n.tbody.firstChild.getAttribute("data-y"));n.selectedCell[1]-r<30&&(lazyLoading.G_.call(n),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]))}else if(n.options.pagination>0){const r=n.whichPage(n.selectedCell[3]);r!=n.pageNumber&&n.page(r)}internal.Rs.call(n,1)},rightGet=function(t,e){const n=this;t=parseInt(t),e=parseInt(e);for(let r=t+1;r<n.headers.length;r++)if(n.records[e][r].element.style.display!="none"){if(n.records[e][r].element.getAttribute("data-merged")&&n.records[e][r].element==n.records[e][t].element)continue;t=r;break}return t},rightVisible=function(t,e){const n=this;let r,o;if(t==0?(r=parseInt(n.selectedCell[0]),o=parseInt(n.selectedCell[1])):(r=parseInt(n.selectedCell[2]),o=parseInt(n.selectedCell[3])),e==0){for(let s=n.headers.length-1;s>r;s--)if(n.records[o][s].element.style.display!="none"){r=s;break}}else r=rightGet.call(n,r,o);t==0?(n.selectedCell[0]=r,n.selectedCell[1]=o):(n.selectedCell[2]=r,n.selectedCell[3]=o)},right=function(t,e){const n=this;t?n.selectedCell[2]<n.headers.length-1&&rightVisible.call(n,1,e?0:1):(n.selectedCell[0]<n.headers.length-1&&rightVisible.call(n,0,e?0:1),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),internal.Rs.call(n,2)},downGet=function(t,e){const n=this;t=parseInt(t);for(let r=(e=parseInt(e))+1;r<n.rows.length;r++)if(n.records[r][t].element.style.display!="none"&&n.rows[r].element.style.display!="none"){if(n.records[r][t].element.getAttribute("data-merged")&&n.records[r][t].element==n.records[e][t].element)continue;e=r;break}return e},downVisible=function(t,e){const n=this;let r,o;if(t==0?(r=parseInt(n.selectedCell[0]),o=parseInt(n.selectedCell[1])):(r=parseInt(n.selectedCell[2]),o=parseInt(n.selectedCell[3])),e==0){for(let s=n.rows.length-1;s>o;s--)if(n.records[s][r].element.style.display!="none"&&n.rows[s].element.style.display!="none"){o=s;break}}else o=downGet.call(n,r,o);t==0?(n.selectedCell[0]=r,n.selectedCell[1]=o):(n.selectedCell[2]=r,n.selectedCell[3]=o)},down=function(t,e){const n=this;if(t?n.selectedCell[3]<n.records.length-1&&downVisible.call(n,1,e?0:1):(n.selectedCell[1]<n.records.length-1&&downVisible.call(n,0,e?0:1),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),n.options.lazyLoading==1)n.selectedCell[1]==n.records.length-1||n.selectedCell[3]==n.records.length-1?(lazyLoading.wu.call(n,-1),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3])):lazyLoading.AG.call(n)?n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]):parseInt(n.tbody.lastChild.getAttribute("data-y"))-n.selectedCell[3]<30&&(lazyLoading.p6.call(n),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]));else if(n.options.pagination>0){const r=n.whichPage(n.selectedCell[3]);r!=n.pageNumber&&n.page(r)}internal.Rs.call(n,3)},leftGet=function(t,e){const n=this;t=parseInt(t),e=parseInt(e);for(let r=t-1;r>=0;r--)if(n.records[e][r].element.style.display!="none"){if(n.records[e][r].element.getAttribute("data-merged")&&n.records[e][r].element==n.records[e][t].element)continue;t=r;break}return t},leftVisible=function(t,e){const n=this;let r,o;if(t==0?(r=parseInt(n.selectedCell[0]),o=parseInt(n.selectedCell[1])):(r=parseInt(n.selectedCell[2]),o=parseInt(n.selectedCell[3])),e==0){for(let s=0;s<r;s++)if(n.records[o][s].element.style.display!="none"){r=s;break}}else r=leftGet.call(n,r,o);t==0?(n.selectedCell[0]=r,n.selectedCell[1]=o):(n.selectedCell[2]=r,n.selectedCell[3]=o)},left=function(t,e){const n=this;t?n.selectedCell[2]>0&&leftVisible.call(n,1,e?0:1):(n.selectedCell[0]>0&&leftVisible.call(n,0,e?0:1),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),internal.Rs.call(n,0)},first=function(t,e){const n=this;if(t?e?n.selectedCell[3]=0:leftVisible.call(n,1,0):(e?n.selectedCell[1]=0:leftVisible.call(n,0,0),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.options.lazyLoading!=1||n.selectedCell[1]!=0&&n.selectedCell[3]!=0){if(n.options.pagination>0){const r=n.whichPage(n.selectedCell[3]);r!=n.pageNumber&&n.page(r)}}else lazyLoading.wu.call(n,0);n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),internal.Rs.call(n,1)},last=function(t,e){const n=this;if(t?e?n.selectedCell[3]=n.records.length-1:rightVisible.call(n,1,0):(e?n.selectedCell[1]=n.records.length-1:rightVisible.call(n,0,0),n.selectedCell[2]=n.selectedCell[0],n.selectedCell[3]=n.selectedCell[1]),n.options.lazyLoading!=1||n.selectedCell[1]!=n.records.length-1&&n.selectedCell[3]!=n.records.length-1){if(n.options.pagination>0){const r=n.whichPage(n.selectedCell[3]);r!=n.pageNumber&&n.page(r)}}else lazyLoading.wu.call(n,-1);n.updateSelectionFromCoords(n.selectedCell[0],n.selectedCell[1],n.selectedCell[2],n.selectedCell[3]),internal.Rs.call(n,3)};var merges=__webpack_require__(910),selection=__webpack_require__(657),helpers=__webpack_require__(978),internalHelpers=__webpack_require__(689);const copy=function(t,e,n,r,o,s,a){const c=this;e||(e="	");const l=new RegExp(e,"ig"),u=[];let f=[],b=[];const S=[],v=[],g=c.options.data[0].length,w=c.options.data.length;let A="",T=!1,O="",R="",k=0,V=0,P=0;for(let q=0;q<w;q++)for(let Y=0;Y<g;Y++)t&&!c.records[q][Y].element.classList.contains("highlight")||P<=q&&(P=q);if(o&&(c.parent.config.includeHeadersOnDownload==1||r)){if(c.options.nestedHeaders&&c.options.nestedHeaders.length>0){A=c.options.nestedHeaders;for(let q=0;q<A.length;q++){const Y=[];for(let ae=0;ae<A[q].length;ae++){const me=parseInt(A[q][ae].colspan);Y.push(A[q][ae].title);for(let Q=0;Q<me-1;Q++)Y.push("")}R+=Y.join(e)+`\r
`}}T=!0}c.style=[];for(let q=0;q<w;q++){f=[],b=[];for(let Y=0;Y<g;Y++)if(!t||c.records[q][Y].element.classList.contains("highlight")){T==1&&u.push(c.headers[Y].textContent);let ae,me=c.options.data[q][Y];me.match&&(me.match(l)||me.match(/,/g)||me.match(/\n/)||me.match(/\"/))&&(me=me.replace(new RegExp('"',"g"),'""'),me='"'+me+'"'),f.push(me),c.options.columns&&c.options.columns[Y]&&(c.options.columns[Y].type=="checkbox"||c.options.columns[Y].type=="radio")?ae=me:(ae=c.records[q][Y].element.innerHTML,ae.match&&(ae.match(l)||ae.match(/,/g)||ae.match(/\n/)||ae.match(/\"/))&&(ae=ae.replace(new RegExp('"',"g"),'""'),ae='"'+ae+'"')),b.push(ae),A=c.records[q][Y].element.getAttribute("style"),A=A.replace("display: none;",""),c.style.push(A||"")}f.length&&(T&&(k=f.length,S.push(u.join(e))),S.push(f.join(e))),b.length&&(V++,T&&(v.push(u.join(e)),T=!1),v.push(b.join(e)))}g==k&&w==V&&(O=R);const B=O+S.join(`\r
`);let j=O+v.join(`\r
`);if(!n){const q=[Math.min(c.selectedCell[0],c.selectedCell[2]),Math.min(c.selectedCell[1],c.selectedCell[3]),Math.max(c.selectedCell[0],c.selectedCell[2]),Math.max(c.selectedCell[1],c.selectedCell[3])],Y=dispatch.A.call(c,"oncopy",c,q,j,s);if(Y)j=Y;else if(Y===!1)return!1;c.textarea.value=j,c.textarea.select(),document.execCommand("copy")}if(c.data=a==1?j:B,c.hashString=selection.tW.call(c,c.data),!n&&(selection.kA.call(c),c.highlighted))for(let q=0;q<c.highlighted.length;q++)c.highlighted[q].element.classList.add("copying"),c.highlighted[q].element.classList.contains("highlight-left")&&c.highlighted[q].element.classList.add("copying-left"),c.highlighted[q].element.classList.contains("highlight-right")&&c.highlighted[q].element.classList.add("copying-right"),c.highlighted[q].element.classList.contains("highlight-top")&&c.highlighted[q].element.classList.add("copying-top"),c.highlighted[q].element.classList.contains("highlight-bottom")&&c.highlighted[q].element.classList.add("copying-bottom");return c.data},paste=function(t,e,n){const r=this,o=(0,selection.tW)(n);let s=o==r.hashString?r.style:null;o==r.hashString&&(n=r.data),n=(0,helpers.parseCSV)(n,"	");const a=r.selectedCell[2]-t+1,c=r.selectedCell[3]-e+1,l=n[0].length;if(a>1&Number.isInteger(a/l)){const b=a/l;if(s){const v=[];for(let g=0;g<s.length;g+=l){const w=s.slice(g,g+l);for(let A=0;A<b;A++)v.push(...w)}s=v}n=n.map(function(v,g){return Array.apply(null,{length:b*v.length}).map(function(A,T){return v[T%v.length]})})}const u=n.length;if(c>1&Number.isInteger(c/u)){const b=c/u;if(s){const v=[];for(let g=0;g<b;g++)v.push(...s);s=v}n=Array.apply(null,{length:b*u}).map(function(v,g){return n[g%u]})}const f=dispatch.A.call(r,"onbeforepaste",r,n.map(function(b){return b.map(function(S){return{value:S}})}),t,e);if(f===!1)return!1;if(f&&(n=f),t!=null&&e!=null&&n){let b=0,S=0;const v=[],g={},w={};let A=0,T=parseInt(t),O=parseInt(e),R=null;const k=r.headers.slice(T).filter(me=>me.style.display==="none").length,V=T+k+n[0].length,P=r.headers.length;V>P&&(r.skipUpdateTableReferences=!0,r.insertColumn(V-P));const B=r.rows.slice(O).filter(me=>me.element.style.display==="none").length,j=O+B+n.length,q=r.rows.length;for(j>q&&(r.skipUpdateTableReferences=!0,r.insertRow(j-q)),r.skipUpdateTableReferences&&(r.skipUpdateTableReferences=!1,internal.o8.call(r));R=n[S];){for(b=0,T=parseInt(t);R[b]!=null;){const me=internal.k9.call(r,T,O,R[b]);if(v.push(me),internal.xF.call(r,T,O,v),s&&s[A]){const Q=(0,internalHelpers.t3)([T,O]);g[Q]=s[A],w[Q]=r.getStyle(Q),r.records[O][T].element.setAttribute("style",s[A]),A++}if(b++,R[b]!=null){if(T>=r.headers.length-1){if(r.options.allowInsertColumn==0)break;r.insertColumn()}T=rightGet.call(r,T,O)}}if(S++,n[S]){if(O>=r.rows.length-1){if(r.options.allowInsertRow==0)break;r.insertRow()}O=downGet.call(r,t,O)}}selection.AH.call(r,t,e,T,O),utils_history.Dh.call(r,{action:"setValue",records:v,selection:r.selectedCell,newStyle:g,oldStyle:w}),internal.am.call(r);const Y=[];for(let me=0;me<n.length;me++)for(let Q=0;Q<n[me].length;Q++)Y.push({x:Q+t,y:me+e,value:n[me][Q]});dispatch.A.call(r,"onpaste",r,Y);const ae=v.map(function(me){return{x:me.x,y:me.y,value:me.newValue,oldValue:me.oldValue}});dispatch.A.call(r,"onafterchanges",r,ae)}(0,selection.kA)()};var filter=__webpack_require__(829),footer=__webpack_require__(160);const getNumberOfColumns=function(){const t=this;let e=t.options.columns&&t.options.columns.length||0;if(t.options.data&&t.options.data[0]!==void 0){const n=Object.keys(t.options.data[0]);n.length>e&&(e=n.length)}return t.options.minDimensions&&t.options.minDimensions[0]>e&&(e=t.options.minDimensions[0]),e},createCellHeader=function(t){const e=this,n=e.options.columns&&e.options.columns[t]&&e.options.columns[t].width||e.options.defaultColWidth||100,r=e.options.columns&&e.options.columns[t]&&e.options.columns[t].align||e.options.defaultColAlign||"center";e.headers[t]=document.createElement("td"),e.headers[t].textContent=e.options.columns&&e.options.columns[t]&&e.options.columns[t].title||(0,helpers.getColumnName)(t),e.headers[t].setAttribute("data-x",t),e.headers[t].style.textAlign=r,e.options.columns&&e.options.columns[t]&&e.options.columns[t].title&&e.headers[t].setAttribute("title",e.headers[t].innerText),e.options.columns&&e.options.columns[t]&&e.options.columns[t].id&&e.headers[t].setAttribute("id",e.options.columns[t].id);const o=document.createElement("col");o.setAttribute("width",n),e.cols[t]={colElement:o,x:t},e.options.columns&&e.options.columns[t]&&e.options.columns[t].type=="hidden"&&(e.headers[t].style.display="none",o.style.display="none")},insertColumn=function(t,e,n,r){const o=this;if(o.options.allowInsertColumn!=0){let s,a=[];Array.isArray(t)?(s=1,t&&(a=t)):s=typeof t=="number"?t:1,n=!!n;const c=Math.max(o.options.columns.length,...o.options.data.map(function(T){return T.length}))-1;(e==null||e>=parseInt(c)||e<0)&&(e=c),r||(r=[]);for(let T=0;T<s;T++)r[T]||(r[T]={});const l=[];if(Array.isArray(t)){const T=[];for(let R=0;R<o.options.data.length;R++)T.push(R<t.length?t[R]:"");const O={column:e+(n?0:1),options:Object.assign({},r[0]),data:T};l.push(O)}else for(let T=0;T<t;T++){const O={column:e+T+(n?0:1),options:Object.assign({},r[T])};l.push(O)}if(dispatch.A.call(o,"onbeforeinsertcolumn",o,l)===!1)return!1;if(o.options.mergeCells&&Object.keys(o.options.mergeCells).length>0&&merges.Lt.call(o,e,n).length){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;o.destroyMerge()}const u=n?e:e+1;o.options.columns=(0,internalHelpers.Hh)(o.options.columns,u,r);const f=o.headers.splice(u),b=o.cols.splice(u),S=[],v=[],g=[],w=[],A=[];for(let T=u;T<s+u;T++)createCellHeader.call(o,T),o.headerContainer.insertBefore(o.headers[T],o.headerContainer.children[T+1]),o.colgroupContainer.insertBefore(o.cols[T].colElement,o.colgroupContainer.children[T+1]),S.push(o.headers[T]),v.push(o.cols[T]);if(o.options.footers)for(let T=0;T<o.options.footers.length;T++){A[T]=[];for(let O=0;O<s;O++)A[T].push("");o.options.footers[T].splice(u,0,A[T])}for(let T=0;T<o.options.data.length;T++){const O=o.options.data[T].splice(u),R=o.records[T].splice(u);w[T]=[],g[T]=[];for(let k=u;k<s+u;k++){const V=a[T]?a[T]:"";o.options.data[T][k]=V;const P=internal.P9.call(o,k,T,o.options.data[T][k]);o.records[T][k]={element:P,y:T},o.rows[T]&&o.rows[T].element.insertBefore(P,o.rows[T].element.children[k+1]),o.options.columns&&o.options.columns[k]&&typeof o.options.columns[k].render=="function"&&o.options.columns[k].render(P,V,parseInt(k),parseInt(T),o,o.options.columns[k]),w[T].push(V),g[T].push({element:P,x:k,y:T})}Array.prototype.push.apply(o.options.data[T],O),Array.prototype.push.apply(o.records[T],R)}Array.prototype.push.apply(o.headers,f),Array.prototype.push.apply(o.cols,b);for(let T=u;T<o.cols.length;T++)o.cols[T].x=T;for(let T=0;T<o.records.length;T++)for(let O=0;O<o.records[T].length;O++)o.records[T][O].x=O;if(o.options.nestedHeaders&&o.options.nestedHeaders.length>0&&o.options.nestedHeaders[0]&&o.options.nestedHeaders[0][0])for(let T=0;T<o.options.nestedHeaders.length;T++){const O=parseInt(o.options.nestedHeaders[T][o.options.nestedHeaders[T].length-1].colspan)+s;o.options.nestedHeaders[T][o.options.nestedHeaders[T].length-1].colspan=O,o.thead.children[T].children[o.thead.children[T].children.length-1].setAttribute("colspan",O);let R=o.thead.children[T].children[o.thead.children[T].children.length-1].getAttribute("data-column");R=R.split(",");for(let k=u;k<s+u;k++)R.push(k);o.thead.children[T].children[o.thead.children[T].children.length-1].setAttribute("data-column",R)}utils_history.Dh.call(o,{action:"insertColumn",columnNumber:e,numOfColumns:s,insertBefore:n,columns:r,headers:S,cols:v,records:g,footers:A,data:w}),internal.o8.call(o),dispatch.A.call(o,"oninsertcolumn",o,l)}},moveColumn=function(t,e){const n=this;if(n.options.mergeCells&&Object.keys(n.options.mergeCells).length>0){let s;if(s=t>e?1:0,merges.Lt.call(n,t).length||merges.Lt.call(n,e,s).length){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;n.destroyMerge()}}if((t=parseInt(t))>(e=parseInt(e))){n.headerContainer.insertBefore(n.headers[t],n.headers[e]),n.colgroupContainer.insertBefore(n.cols[t].colElement,n.cols[e].colElement);for(let s=0;s<n.rows.length;s++)n.rows[s].element.insertBefore(n.records[s][t].element,n.records[s][e].element)}else{n.headerContainer.insertBefore(n.headers[t],n.headers[e].nextSibling),n.colgroupContainer.insertBefore(n.cols[t].colElement,n.cols[e].colElement.nextSibling);for(let s=0;s<n.rows.length;s++)n.rows[s].element.insertBefore(n.records[s][t].element,n.records[s][e].element.nextSibling)}n.options.columns.splice(e,0,n.options.columns.splice(t,1)[0]),n.headers.splice(e,0,n.headers.splice(t,1)[0]),n.cols.splice(e,0,n.cols.splice(t,1)[0]);const r=Math.min(t,e),o=Math.max(t,e);for(let s=0;s<n.rows.length;s++)n.options.data[s].splice(e,0,n.options.data[s].splice(t,1)[0]),n.records[s].splice(e,0,n.records[s].splice(t,1)[0]);for(let s=r;s<=o;s++)n.cols[s].x=s;for(let s=0;s<n.records.length;s++)for(let a=r;a<=o;a++)n.records[s][a].x=a;if(n.options.footers)for(let s=0;s<n.options.footers.length;s++)n.options.footers[s].splice(e,0,n.options.footers[s].splice(t,1)[0]);utils_history.Dh.call(n,{action:"moveColumn",oldValue:t,newValue:e}),internal.o8.call(n),dispatch.A.call(n,"onmovecolumn",n,t,e,1)},deleteColumn=function(t,e){const n=this;if(n.options.allowDeleteColumn!=0)if(n.headers.length>1){if(t==null){const s=n.getSelectedColumns(!0);s.length?(t=parseInt(s[0]),e=parseInt(s.length)):(t=n.headers.length-1,e=1)}const r=n.options.data[0].length-1;(t==null||t>r||t<0)&&(t=r),e||(e=1),e>n.options.data[0].length-t&&(e=n.options.data[0].length-t);const o=[];for(let s=0;s<e;s++)o.push(s+t);if(dispatch.A.call(n,"onbeforedeletecolumn",n,o)===!1)return!1;if(parseInt(t)>-1){let s=!1;if(n.options.mergeCells&&Object.keys(n.options.mergeCells).length>0)for(let S=t;S<t+e;S++)merges.Lt.call(n,S,null).length&&(s=!0);if(s){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;n.destroyMerge()}const a=n.options.columns?n.options.columns.splice(t,e):void 0;for(let S=t;S<t+e;S++)n.cols[S].colElement.className="",n.headers[S].className="",n.cols[S].colElement.parentNode.removeChild(n.cols[S].colElement),n.headers[S].parentNode.removeChild(n.headers[S]);const c=n.headers.splice(t,e),l=n.cols.splice(t,e),u=[],f=[],b=[];for(let S=0;S<n.options.data.length;S++)for(let v=t;v<t+e;v++)n.records[S][v].element.className="",n.records[S][v].element.parentNode.removeChild(n.records[S][v].element);for(let S=0;S<n.options.data.length;S++)f[S]=n.options.data[S].splice(t,e),u[S]=n.records[S].splice(t,e);for(let S=t;S<n.cols.length;S++)n.cols[S].x=S;for(let S=0;S<n.records.length;S++)for(let v=t;v<n.records[S].length;v++)n.records[S][v].x=v;if(n.options.footers)for(let S=0;S<n.options.footers.length;S++)b[S]=n.options.footers[S].splice(t,e);if(selection.at.call(n,0,t,t+e-1),n.options.nestedHeaders&&n.options.nestedHeaders.length>0&&n.options.nestedHeaders[0]&&n.options.nestedHeaders[0][0])for(let S=0;S<n.options.nestedHeaders.length;S++){const v=parseInt(n.options.nestedHeaders[S][n.options.nestedHeaders[S].length-1].colspan)-e;n.options.nestedHeaders[S][n.options.nestedHeaders[S].length-1].colspan=v,n.thead.children[S].children[n.thead.children[S].children.length-1].setAttribute("colspan",v)}utils_history.Dh.call(n,{action:"deleteColumn",columnNumber:t,numOfColumns:e,insertBefore:1,columns:a,headers:c,cols:l,records:u,footers:b,data:f}),internal.o8.call(n),dispatch.A.call(n,"ondeletecolumn",n,o)}}else console.error("Jspreadsheet: It is not possible to delete the last column")},getWidth=function(t){const e=this;let n;if(t===void 0){n=[];for(let r=0;r<e.headers.length;r++)n.push(e.options.columns&&e.options.columns[r]&&e.options.columns[r].width||e.options.defaultColWidth||100)}else n=parseInt(e.cols[t].colElement.getAttribute("width"));return n},setWidth=function(t,e,n){const r=this;if(e){if(Array.isArray(t)){n||(n=[]);for(let o=0;o<t.length;o++){n[o]||(n[o]=parseInt(r.cols[t[o]].colElement.getAttribute("width")));const s=Array.isArray(e)&&e[o]?e[o]:e;r.cols[t[o]].colElement.setAttribute("width",s),r.options.columns||(r.options.columns=[]),r.options.columns[t[o]]||(r.options.columns[t[o]]={}),r.options.columns[t[o]].width=s}}else n||(n=parseInt(r.cols[t].colElement.getAttribute("width"))),r.cols[t].colElement.setAttribute("width",e),r.options.columns||(r.options.columns=[]),r.options.columns[t]||(r.options.columns[t]={}),r.options.columns[t].width=e;utils_history.Dh.call(r,{action:"setWidth",column:t,oldValue:n,newValue:e}),dispatch.A.call(r,"onresizecolumn",r,t,e,n),selection.Aq.call(r)}},showColumn=function(t){const e=this;Array.isArray(t)||(t=[t]);for(let n=0;n<t.length;n++){const r=t[n];e.headers[r].style.display="",e.cols[r].colElement.style.display="",e.filter&&e.filter.children.length>r+1&&(e.filter.children[r+1].style.display="");for(let o=0;o<e.options.data.length;o++)e.records[o][r].element.style.display=""}e.options.footers&&footer.e.call(e),e.resetSelection()},hideColumn=function(t){const e=this;Array.isArray(t)||(t=[t]);for(let n=0;n<t.length;n++){const r=t[n];e.headers[r].style.display="none",e.cols[r].colElement.style.display="none",e.filter&&e.filter.children.length>r+1&&(e.filter.children[r+1].style.display="none");for(let o=0;o<e.options.data.length;o++)e.records[o][r].element.style.display="none"}e.options.footers&&footer.e.call(e),e.resetSelection()},getColumnData=function(t,e){const n=this,r=[];for(let o=0;o<n.options.data.length;o++)e?r.push(n.records[o][t].element.innerHTML):r.push(n.options.data[o][t]);return r},setColumnData=function(t,e,n){const r=this;for(let o=0;o<r.rows.length;o++){const s=(0,internalHelpers.t3)([t,o]);e[o]!=null&&r.setValue(s,e[o],n)}},createRow=function(t,e){const n=this;n.records[t]||(n.records[t]=[]),e||(e=n.options.data[t]);const r={element:document.createElement("tr"),y:t};n.rows[t]=r,r.element.setAttribute("data-y",t);let o=null;n.options.defaultRowHeight&&(r.element.style.height=n.options.defaultRowHeight+"px"),n.options.rows&&n.options.rows[t]&&(n.options.rows[t].height&&(r.element.style.height=n.options.rows[t].height),n.options.rows[t].title&&(o=n.options.rows[t].title)),o||(o=parseInt(t+1));const s=document.createElement("td");s.innerHTML=o,s.setAttribute("data-y",t),s.className="jss_row",r.element.appendChild(s);const a=getNumberOfColumns.call(n);for(let c=0;c<a;c++)n.records[t][c]={element:internal.P9.call(this,c,t,e[c]),x:c,y:t},r.element.appendChild(n.records[t][c].element),n.options.columns&&n.options.columns[c]&&typeof n.options.columns[c].render=="function"&&n.options.columns[c].render(n.records[t][c].element,e[c],parseInt(c),parseInt(t),n,n.options.columns[c]);return r},insertRow=function(t,e,n){const r=this;if(r.options.allowInsertRow!=0){let o,s=[];Array.isArray(t)?(o=1,t&&(s=t)):o=t!==void 0?t:1,n=!!n;const a=r.options.data.length-1;(e==null||e>=parseInt(a)||e<0)&&(e=a);const c=[];for(let w=0;w<o;w++){const A=[];for(let T=0;T<r.options.columns.length;T++)A[T]=s[T]?s[T]:"";c.push({row:w+e+(n?0:1),data:A})}if(dispatch.A.call(r,"onbeforeinsertrow",r,c)===!1)return!1;if(r.options.mergeCells&&Object.keys(r.options.mergeCells).length>0&&merges.D0.call(r,e,n).length){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;r.destroyMerge()}if(r.options.search==1){if(r.results&&r.results.length!=r.rows.length){if(!confirm(jSuites.translate("This action will clear your search results. Are you sure?")))return!1;r.resetSearch()}r.results=null}const l=n?e:e+1,u=r.records.splice(l),f=r.options.data.splice(l),b=r.rows.splice(l),S=[],v=[],g=[];for(let w=l;w<o+l;w++){r.options.data[w]=[];for(let T=0;T<r.options.columns.length;T++)r.options.data[w][T]=s[T]?s[T]:"";const A=createRow.call(r,w,r.options.data[w]);b[0]?Array.prototype.indexOf.call(r.tbody.children,b[0].element)>=0&&r.tbody.insertBefore(A.element,b[0].element):Array.prototype.indexOf.call(r.tbody.children,r.rows[e].element)>=0&&r.tbody.appendChild(A.element),S.push(r.records[w]),v.push(r.options.data[w]),g.push(A)}Array.prototype.push.apply(r.records,u),Array.prototype.push.apply(r.options.data,f),Array.prototype.push.apply(r.rows,b);for(let w=l;w<r.rows.length;w++)r.rows[w].y=w;for(let w=l;w<r.records.length;w++)for(let A=0;A<r.records[w].length;A++)r.records[w][A].y=w;r.options.pagination>0&&r.page(r.pageNumber),utils_history.Dh.call(r,{action:"insertRow",rowNumber:e,numOfRows:o,insertBefore:n,rowRecords:S,rowData:v,rowNode:g}),internal.o8.call(r),dispatch.A.call(r,"oninsertrow",r,c)}},moveRow=function(t,e,n){const r=this;if(r.options.mergeCells&&Object.keys(r.options.mergeCells).length>0){let a;if(a=t>e?1:0,merges.D0.call(r,t).length||merges.D0.call(r,e,a).length){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;r.destroyMerge()}}if(r.options.search==1){if(r.results&&r.results.length!=r.rows.length){if(!confirm(jSuites.translate("This action will clear your search results. Are you sure?")))return!1;r.resetSearch()}r.results=null}n||(Array.prototype.indexOf.call(r.tbody.children,r.rows[e].element)>=0?t>e?r.tbody.insertBefore(r.rows[t].element,r.rows[e].element):r.tbody.insertBefore(r.rows[t].element,r.rows[e].element.nextSibling):r.tbody.removeChild(r.rows[t].element)),r.rows.splice(e,0,r.rows.splice(t,1)[0]),r.records.splice(e,0,r.records.splice(t,1)[0]),r.options.data.splice(e,0,r.options.data.splice(t,1)[0]);const o=Math.min(t,e),s=Math.max(t,e);for(let a=o;a<=s;a++)r.rows[a].y=a;for(let a=o;a<=s;a++)for(let c=0;c<r.records[a].length;c++)r.records[a][c].y=a;r.options.pagination>0&&r.tbody.children.length!=r.options.pagination&&r.page(r.pageNumber),utils_history.Dh.call(r,{action:"moveRow",oldValue:t,newValue:e}),internal.o8.call(r),dispatch.A.call(r,"onmoverow",r,parseInt(t),parseInt(e),1)},deleteRow=function(t,e){const n=this;if(n.options.allowDeleteRow!=0)if(n.options.allowDeletingAllRows==1||n.options.data.length>1){if(t==null){const s=selection.R5.call(n);s.length===0?(t=n.options.data.length-1,e=1):(t=s[0],e=s.length)}let r=n.options.data.length-1;(t==null||t>r||t<0)&&(t=r),e||(e=1),t+e>=n.options.data.length&&(e=n.options.data.length-t);const o=[];for(let s=0;s<e;s++)o.push(s+t);if(dispatch.A.call(n,"onbeforedeleterow",n,o)===!1)return!1;if(parseInt(t)>-1){let s=!1;if(n.options.mergeCells&&Object.keys(n.options.mergeCells).length>0)for(let u=t;u<t+e;u++)merges.D0.call(n,u,!1).length&&(s=!0);if(s){if(!confirm(jSuites.translate("This action will destroy any existing merged cells. Are you sure?")))return!1;n.destroyMerge()}if(n.options.search==1){if(n.results&&n.results.length!=n.rows.length){if(!confirm(jSuites.translate("This action will clear your search results. Are you sure?")))return!1;n.resetSearch()}n.results=null}n.options.allowDeletingAllRows!=1&&r+1===e&&(e--,console.error("Jspreadsheet: It is not possible to delete the last row"));for(let u=t;u<t+e;u++)Array.prototype.indexOf.call(n.tbody.children,n.rows[u].element)>=0&&(n.rows[u].element.className="",n.rows[u].element.parentNode.removeChild(n.rows[u].element));const a=n.records.splice(t,e),c=n.options.data.splice(t,e),l=n.rows.splice(t,e);for(let u=t;u<n.rows.length;u++)n.rows[u].y=u;for(let u=t;u<n.records.length;u++)for(let f=0;f<n.records[u].length;f++)n.records[u][f].y=u;n.options.pagination>0&&n.tbody.children.length!=n.options.pagination&&n.page(n.pageNumber),selection.at.call(n,1,t,t+e-1),utils_history.Dh.call(n,{action:"deleteRow",rowNumber:t,numOfRows:e,insertBefore:1,rowRecords:a,rowData:c,rowNode:l}),internal.o8.call(n),dispatch.A.call(n,"ondeleterow",n,o)}}else console.error("Jspreadsheet: It is not possible to delete the last row")},getHeight=function(t){const e=this;let n;if(t===void 0){n=[];for(let r=0;r<e.rows.length;r++){const o=e.rows[r].element.style.height;o&&(n[r]=o)}}else typeof t=="object"&&(t=$(t).getAttribute("data-y")),n=e.rows[t].element.style.height;return n},setHeight=function(t,e,n){const r=this;e>0&&(n||(n=r.rows[t].element.getAttribute("height"))||(n=r.rows[t].element.getBoundingClientRect().height),e=parseInt(e),r.rows[t].element.style.height=e+"px",r.options.rows||(r.options.rows=[]),r.options.rows[t]||(r.options.rows[t]={}),r.options.rows[t].height=e,utils_history.Dh.call(r,{action:"setHeight",row:t,oldValue:n,newValue:e}),dispatch.A.call(r,"onresizerow",r,t,e,n),selection.Aq.call(r))},showRow=function(t){const e=this;Array.isArray(t)||(t=[t]),t.forEach(function(n){e.rows[n].element.style.display=""})},hideRow=function(t){const e=this;Array.isArray(t)||(t=[t]),t.forEach(function(n){e.rows[n].element.style.display="none"})},getRowData=function(t,e){return e?this.records[t].map(function(n){return n.element.innerHTML}):this.options.data[t]},setRowData=function(t,e,n){const r=this;for(let o=0;o<r.headers.length;o++){const s=(0,internalHelpers.t3)([o,t]);e[o]!=null&&r.setValue(s,e[o],n)}};var version={version:"5.0.0",host:"https://bossanova.uk/jspreadsheet",license:"MIT",print:function(){return[["Jspreadsheet CE",this.version,this.host,this.license].join(`\r
`)]}};const getElement=function(t){let e=0,n=0;return function r(o){o.className&&(o.classList.contains("jss_container")&&(n=o),o.classList.contains("jss_spreadsheet")&&(n=o.querySelector(":scope > .jtabs-content > .jtabs-selected"))),o.tagName=="THEAD"?e=1:o.tagName=="TBODY"&&(e=2),o.parentNode&&(n||r(o.parentNode))}(t),[n,e]},mouseUpControls=function(t){if(libraryBase.jspreadsheet.current)if(libraryBase.jspreadsheet.current.resizing){if(libraryBase.jspreadsheet.current.resizing.column){const e=parseInt(libraryBase.jspreadsheet.current.cols[libraryBase.jspreadsheet.current.resizing.column].colElement.getAttribute("width")),n=libraryBase.jspreadsheet.current.getSelectedColumns();if(n.length>1){const r=[];for(let o=0;o<n.length;o++)r.push(parseInt(libraryBase.jspreadsheet.current.cols[n[o]].colElement.getAttribute("width")));r[n.indexOf(parseInt(libraryBase.jspreadsheet.current.resizing.column))]=libraryBase.jspreadsheet.current.resizing.width,setWidth.call(libraryBase.jspreadsheet.current,n,e,r)}else setWidth.call(libraryBase.jspreadsheet.current,parseInt(libraryBase.jspreadsheet.current.resizing.column),e,libraryBase.jspreadsheet.current.resizing.width);libraryBase.jspreadsheet.current.headers[libraryBase.jspreadsheet.current.resizing.column].classList.remove("resizing");for(let r=0;r<libraryBase.jspreadsheet.current.records.length;r++)libraryBase.jspreadsheet.current.records[r][libraryBase.jspreadsheet.current.resizing.column]&&libraryBase.jspreadsheet.current.records[r][libraryBase.jspreadsheet.current.resizing.column].element.classList.remove("resizing")}else{libraryBase.jspreadsheet.current.rows[libraryBase.jspreadsheet.current.resizing.row].element.children[0].classList.remove("resizing");let e=libraryBase.jspreadsheet.current.rows[libraryBase.jspreadsheet.current.resizing.row].element.getAttribute("height");setHeight.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.resizing.row,e,libraryBase.jspreadsheet.current.resizing.height),libraryBase.jspreadsheet.current.resizing.element.classList.remove("resizing")}libraryBase.jspreadsheet.current.resizing=null}else if(libraryBase.jspreadsheet.current.dragging){if(libraryBase.jspreadsheet.current.dragging){if(libraryBase.jspreadsheet.current.dragging.column){const e=t.target.getAttribute("data-x");libraryBase.jspreadsheet.current.headers[libraryBase.jspreadsheet.current.dragging.column].classList.remove("dragging");for(let n=0;n<libraryBase.jspreadsheet.current.rows.length;n++)libraryBase.jspreadsheet.current.records[n][libraryBase.jspreadsheet.current.dragging.column]&&libraryBase.jspreadsheet.current.records[n][libraryBase.jspreadsheet.current.dragging.column].element.classList.remove("dragging");for(let n=0;n<libraryBase.jspreadsheet.current.headers.length;n++)libraryBase.jspreadsheet.current.headers[n].classList.remove("dragging-left"),libraryBase.jspreadsheet.current.headers[n].classList.remove("dragging-right");e&&libraryBase.jspreadsheet.current.dragging.column!=libraryBase.jspreadsheet.current.dragging.destination&&libraryBase.jspreadsheet.current.moveColumn(libraryBase.jspreadsheet.current.dragging.column,libraryBase.jspreadsheet.current.dragging.destination)}else{let e;libraryBase.jspreadsheet.current.dragging.element.nextSibling?(e=parseInt(libraryBase.jspreadsheet.current.dragging.element.nextSibling.getAttribute("data-y")),libraryBase.jspreadsheet.current.dragging.row<e&&(e-=1)):e=parseInt(libraryBase.jspreadsheet.current.dragging.element.previousSibling.getAttribute("data-y")),libraryBase.jspreadsheet.current.dragging.row!=libraryBase.jspreadsheet.current.dragging.destination&&moveRow.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.dragging.row,e,!0),libraryBase.jspreadsheet.current.dragging.element.classList.remove("dragging")}libraryBase.jspreadsheet.current.dragging=null}}else libraryBase.jspreadsheet.current.selectedCorner&&(libraryBase.jspreadsheet.current.selectedCorner=!1,libraryBase.jspreadsheet.current.selection.length>0&&(selection.kF.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.selection[0],libraryBase.jspreadsheet.current.selection[libraryBase.jspreadsheet.current.selection.length-1]),selection.gG.call(libraryBase.jspreadsheet.current)));libraryBase.jspreadsheet.timeControl&&(clearTimeout(libraryBase.jspreadsheet.timeControl),libraryBase.jspreadsheet.timeControl=null),libraryBase.jspreadsheet.isMouseAction=!1},mouseDownControls=function(t){let e;e=(t=t||window.event).buttons?t.buttons:t.button?t.button:t.which;const n=getElement(t.target);if(n[0]?libraryBase.jspreadsheet.current!=n[0].jssWorksheet&&(libraryBase.jspreadsheet.current&&(libraryBase.jspreadsheet.current.edition&&closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0),libraryBase.jspreadsheet.current.resetSelection()),libraryBase.jspreadsheet.current=n[0].jssWorksheet):libraryBase.jspreadsheet.current&&(libraryBase.jspreadsheet.current.edition&&closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0),t.target.classList.contains("jss_object")||(selection.gE.call(libraryBase.jspreadsheet.current,!0),libraryBase.jspreadsheet.current=null)),libraryBase.jspreadsheet.current&&e==1){if(t.target.classList.contains("jss_selectall"))libraryBase.jspreadsheet.current&&selection.Ub.call(libraryBase.jspreadsheet.current);else if(t.target.classList.contains("jss_corner"))libraryBase.jspreadsheet.current.options.editable!=0&&(libraryBase.jspreadsheet.current.selectedCorner=!0);else{if(n[1]==1){const r=t.target.getAttribute("data-x");if(r){const o=t.target.getBoundingClientRect();if(libraryBase.jspreadsheet.current.options.columnResize!=0&&o.width-t.offsetX<6){libraryBase.jspreadsheet.current.resizing={mousePosition:t.pageX,column:r,width:o.width},libraryBase.jspreadsheet.current.headers[r].classList.add("resizing");for(let s=0;s<libraryBase.jspreadsheet.current.records.length;s++)libraryBase.jspreadsheet.current.records[s][r]&&libraryBase.jspreadsheet.current.records[s][r].element.classList.add("resizing")}else if(libraryBase.jspreadsheet.current.options.columnDrag!=0&&o.height-t.offsetY<6)if(merges.Lt.call(libraryBase.jspreadsheet.current,r).length)console.error("Jspreadsheet: This column is part of a merged cell.");else{libraryBase.jspreadsheet.current.resetSelection(),libraryBase.jspreadsheet.current.dragging={element:t.target,column:r,destination:r},libraryBase.jspreadsheet.current.headers[r].classList.add("dragging");for(let s=0;s<libraryBase.jspreadsheet.current.records.length;s++)libraryBase.jspreadsheet.current.records[s][r]&&libraryBase.jspreadsheet.current.records[s][r].element.classList.add("dragging")}else{let s,a;libraryBase.jspreadsheet.current.selectedHeader&&(t.shiftKey||t.ctrlKey)?(s=libraryBase.jspreadsheet.current.selectedHeader,a=r):(libraryBase.jspreadsheet.current.selectedHeader==r&&libraryBase.jspreadsheet.current.options.allowRenameColumn!=0&&(libraryBase.jspreadsheet.timeControl=setTimeout(function(){libraryBase.jspreadsheet.current.setHeader(r)},800)),libraryBase.jspreadsheet.current.selectedHeader=r,s=r,a=r),selection.AH.call(libraryBase.jspreadsheet.current,s,0,a,libraryBase.jspreadsheet.current.options.data.length-1,t)}}else if(t.target.parentNode.classList.contains("jss_nested")){let o,s;if(t.target.getAttribute("data-column")){const a=t.target.getAttribute("data-column").split(",");o=parseInt(a[0]),s=parseInt(a[a.length-1])}else o=0,s=libraryBase.jspreadsheet.current.options.columns.length-1;selection.AH.call(libraryBase.jspreadsheet.current,o,0,s,libraryBase.jspreadsheet.current.options.data.length-1,t)}}else libraryBase.jspreadsheet.current.selectedHeader=!1;if(n[1]==2){const r=parseInt(t.target.getAttribute("data-y"));if(t.target.classList.contains("jss_row")){const o=t.target.getBoundingClientRect();if(libraryBase.jspreadsheet.current.options.rowResize!=0&&o.height-t.offsetY<6)libraryBase.jspreadsheet.current.resizing={element:t.target.parentNode,mousePosition:t.pageY,row:r,height:o.height},t.target.parentNode.classList.add("resizing");else if(libraryBase.jspreadsheet.current.options.rowDrag!=0&&o.width-t.offsetX<6)merges.D0.call(libraryBase.jspreadsheet.current,r).length?console.error("Jspreadsheet: This row is part of a merged cell"):libraryBase.jspreadsheet.current.options.search==1&&libraryBase.jspreadsheet.current.results?console.error("Jspreadsheet: Please clear your search before perform this action"):(libraryBase.jspreadsheet.current.resetSelection(),libraryBase.jspreadsheet.current.dragging={element:t.target.parentNode,row:r,destination:r},t.target.parentNode.classList.add("dragging"));else{let s,a;libraryBase.jspreadsheet.current.selectedRow&&(t.shiftKey||t.ctrlKey)?(s=libraryBase.jspreadsheet.current.selectedRow,a=r):(libraryBase.jspreadsheet.current.selectedRow=r,s=r,a=r),selection.AH.call(libraryBase.jspreadsheet.current,null,s,null,a,t)}}else if(t.target.classList.contains("jclose")&&t.target.clientWidth-t.offsetX<50&&t.offsetY<50)closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0);else{const o=function(a){const c=a.getAttribute("data-x"),l=a.getAttribute("data-y");return c&&l?[c,l]:a.parentNode?o(a.parentNode):void 0},s=o(t.target);if(s){const a=s[0],c=s[1];libraryBase.jspreadsheet.current.edition&&(libraryBase.jspreadsheet.current.edition[2]==a&&libraryBase.jspreadsheet.current.edition[3]==c||closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0)),libraryBase.jspreadsheet.current.edition||(t.shiftKey?selection.AH.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.selectedCell[0],libraryBase.jspreadsheet.current.selectedCell[1],a,c,t):selection.AH.call(libraryBase.jspreadsheet.current,a,c,void 0,void 0,t)),libraryBase.jspreadsheet.current.selectedHeader=null,libraryBase.jspreadsheet.current.selectedRow=null}}}else libraryBase.jspreadsheet.current.selectedRow=!1;t.target.classList.contains("jss_page")&&(t.target.textContent=="<"?libraryBase.jspreadsheet.current.page(0):t.target.textContent==">"?libraryBase.jspreadsheet.current.page(t.target.getAttribute("title")-1):libraryBase.jspreadsheet.current.page(t.target.textContent-1))}libraryBase.jspreadsheet.current.edition?libraryBase.jspreadsheet.isMouseAction=!1:libraryBase.jspreadsheet.isMouseAction=!0}else libraryBase.jspreadsheet.isMouseAction=!1},mouseMoveControls=function(t){let e;if(e=(t=t||window.event).buttons?t.buttons:t.button?t.button:t.which,e||(libraryBase.jspreadsheet.isMouseAction=!1),libraryBase.jspreadsheet.current)if(libraryBase.jspreadsheet.isMouseAction==1){if(libraryBase.jspreadsheet.current.resizing)if(libraryBase.jspreadsheet.current.resizing.column){const n=t.pageX-libraryBase.jspreadsheet.current.resizing.mousePosition;if(libraryBase.jspreadsheet.current.resizing.width+n>0){const r=libraryBase.jspreadsheet.current.resizing.width+n;libraryBase.jspreadsheet.current.cols[libraryBase.jspreadsheet.current.resizing.column].colElement.setAttribute("width",r),selection.Aq.call(libraryBase.jspreadsheet.current)}}else{const n=t.pageY-libraryBase.jspreadsheet.current.resizing.mousePosition;if(libraryBase.jspreadsheet.current.resizing.height+n>0){const r=libraryBase.jspreadsheet.current.resizing.height+n;libraryBase.jspreadsheet.current.rows[libraryBase.jspreadsheet.current.resizing.row].element.setAttribute("height",r),selection.Aq.call(libraryBase.jspreadsheet.current)}}else if(libraryBase.jspreadsheet.current.dragging)if(libraryBase.jspreadsheet.current.dragging.column){const n=t.target.getAttribute("data-x");if(n)if(merges.Lt.call(libraryBase.jspreadsheet.current,n).length)console.error("Jspreadsheet: This column is part of a merged cell.");else{for(let r=0;r<libraryBase.jspreadsheet.current.headers.length;r++)libraryBase.jspreadsheet.current.headers[r].classList.remove("dragging-left"),libraryBase.jspreadsheet.current.headers[r].classList.remove("dragging-right");libraryBase.jspreadsheet.current.dragging.column==n?libraryBase.jspreadsheet.current.dragging.destination=parseInt(n):t.target.clientWidth/2>t.offsetX?(libraryBase.jspreadsheet.current.dragging.column<n?libraryBase.jspreadsheet.current.dragging.destination=parseInt(n)-1:libraryBase.jspreadsheet.current.dragging.destination=parseInt(n),libraryBase.jspreadsheet.current.headers[n].classList.add("dragging-left")):(libraryBase.jspreadsheet.current.dragging.column<n?libraryBase.jspreadsheet.current.dragging.destination=parseInt(n):libraryBase.jspreadsheet.current.dragging.destination=parseInt(n)+1,libraryBase.jspreadsheet.current.headers[n].classList.add("dragging-right"))}}else{const n=t.target.getAttribute("data-y");if(n)if(merges.D0.call(libraryBase.jspreadsheet.current,n).length)console.error("Jspreadsheet: This row is part of a merged cell.");else{const r=t.target.clientHeight/2>t.offsetY?t.target.parentNode.nextSibling:t.target.parentNode;libraryBase.jspreadsheet.current.dragging.element!=r&&(t.target.parentNode.parentNode.insertBefore(libraryBase.jspreadsheet.current.dragging.element,r),libraryBase.jspreadsheet.current.dragging.destination=Array.prototype.indexOf.call(libraryBase.jspreadsheet.current.dragging.element.parentNode.children,libraryBase.jspreadsheet.current.dragging.element))}}}else{const n=t.target.getAttribute("data-x"),r=t.target.getAttribute("data-y"),o=t.target.getBoundingClientRect();libraryBase.jspreadsheet.current.cursor&&(libraryBase.jspreadsheet.current.cursor.style.cursor="",libraryBase.jspreadsheet.current.cursor=null),t.target.parentNode.parentNode&&t.target.parentNode.parentNode.className&&(t.target.parentNode.parentNode.classList.contains("resizable")&&(t.target&&n&&!r&&o.width-(t.clientX-o.left)<6?(libraryBase.jspreadsheet.current.cursor=t.target,libraryBase.jspreadsheet.current.cursor.style.cursor="col-resize"):t.target&&!n&&r&&o.height-(t.clientY-o.top)<6&&(libraryBase.jspreadsheet.current.cursor=t.target,libraryBase.jspreadsheet.current.cursor.style.cursor="row-resize")),t.target.parentNode.parentNode.classList.contains("draggable")&&(t.target&&!n&&r&&o.width-(t.clientX-o.left)<6||t.target&&n&&!r&&o.height-(t.clientY-o.top)<6)&&(libraryBase.jspreadsheet.current.cursor=t.target,libraryBase.jspreadsheet.current.cursor.style.cursor="move"))}},updateCopySelection=function(t,e){const n=this;selection.gG.call(n);const r=n.selectedContainer[0],o=n.selectedContainer[1],s=n.selectedContainer[2],a=n.selectedContainer[3];if(t!=null&&e!=null){let c,l,u,f;t-s>0?(c=parseInt(s)+1,l=parseInt(t)):(c=parseInt(t),l=parseInt(r)-1),e-a>0?(u=parseInt(a)+1,f=parseInt(e)):(u=parseInt(e),f=parseInt(o)-1),l-c<=f-u?(c=parseInt(r),l=parseInt(s)):(u=parseInt(o),f=parseInt(a));for(let b=u;b<=f;b++)for(let S=c;S<=l;S++)n.records[b][S]&&n.rows[b].element.style.display!="none"&&n.records[b][S].element.style.display!="none"&&(n.records[b][S].element.classList.add("selection"),n.records[u][S].element.classList.add("selection-top"),n.records[f][S].element.classList.add("selection-bottom"),n.records[b][c].element.classList.add("selection-left"),n.records[b][l].element.classList.add("selection-right"),n.selection.push(n.records[b][S].element))}},mouseOverControls=function(t){let e;if(e=(t=t||window.event).buttons?t.buttons:t.button?t.button:t.which,e||(libraryBase.jspreadsheet.isMouseAction=!1),libraryBase.jspreadsheet.current&&libraryBase.jspreadsheet.isMouseAction==1){const n=getElement(t.target);if(n[0]){if(libraryBase.jspreadsheet.current!=n[0].jssWorksheet&&libraryBase.jspreadsheet.current)return!1;let r=t.target.getAttribute("data-x");const o=t.target.getAttribute("data-y");if(!(libraryBase.jspreadsheet.current.resizing||libraryBase.jspreadsheet.current.dragging)){if(n[1]==1&&libraryBase.jspreadsheet.current.selectedHeader){r=t.target.getAttribute("data-x");const s=libraryBase.jspreadsheet.current.selectedHeader,a=r;selection.AH.call(libraryBase.jspreadsheet.current,s,0,a,libraryBase.jspreadsheet.current.options.data.length-1,t)}if(n[1]==2)if(t.target.classList.contains("jss_row")){if(libraryBase.jspreadsheet.current.selectedRow){const s=libraryBase.jspreadsheet.current.selectedRow,a=o;selection.AH.call(libraryBase.jspreadsheet.current,0,s,libraryBase.jspreadsheet.current.options.data[0].length-1,a,t)}}else libraryBase.jspreadsheet.current.edition||r&&o&&(libraryBase.jspreadsheet.current.selectedCorner?updateCopySelection.call(libraryBase.jspreadsheet.current,r,o):libraryBase.jspreadsheet.current.selectedCell&&selection.AH.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.selectedCell[0],libraryBase.jspreadsheet.current.selectedCell[1],r,o,t))}}}libraryBase.jspreadsheet.timeControl&&(clearTimeout(libraryBase.jspreadsheet.timeControl),libraryBase.jspreadsheet.timeControl=null)},doubleClickControls=function(t){if(libraryBase.jspreadsheet.current)if(t.target.classList.contains("jss_corner")){if(libraryBase.jspreadsheet.current.highlighted.length>0){const e=libraryBase.jspreadsheet.current.highlighted[0].element.getAttribute("data-x"),n=parseInt(libraryBase.jspreadsheet.current.highlighted[libraryBase.jspreadsheet.current.highlighted.length-1].element.getAttribute("data-y"))+1,r=libraryBase.jspreadsheet.current.highlighted[libraryBase.jspreadsheet.current.highlighted.length-1].element.getAttribute("data-x"),o=libraryBase.jspreadsheet.current.records.length-1;selection.kF.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.records[n][e].element,libraryBase.jspreadsheet.current.records[o][r].element)}}else if(t.target.classList.contains("jss_column_filter")){const e=t.target.getAttribute("data-x");filter.N$.call(libraryBase.jspreadsheet.current,e)}else{const e=getElement(t.target);if(e[1]==1&&libraryBase.jspreadsheet.current.options.columnSorting!=0){const n=t.target.getAttribute("data-x");n&&libraryBase.jspreadsheet.current.orderBy(parseInt(n))}if(e[1]==2&&libraryBase.jspreadsheet.current.options.editable!=0&&!libraryBase.jspreadsheet.current.edition){const n=function(o){if(o.parentNode){const s=o.getAttribute("data-x"),a=o.getAttribute("data-y");return s&&a?o:n(o.parentNode)}},r=n(t.target);r&&r.classList.contains("highlight")&&openEditor.call(libraryBase.jspreadsheet.current,r,void 0,t)}}},pasteControls=function(t){libraryBase.jspreadsheet.current&&libraryBase.jspreadsheet.current.selectedCell&&(libraryBase.jspreadsheet.current.edition||libraryBase.jspreadsheet.current.options.editable!=0&&(t&&t.clipboardData?(paste.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.selectedCell[0],libraryBase.jspreadsheet.current.selectedCell[1],t.clipboardData.getData("text")),t.preventDefault()):window.clipboardData&&paste.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.selectedCell[0],libraryBase.jspreadsheet.current.selectedCell[1],window.clipboardData.getData("text"))))},getRole=function(t){if(t.classList.contains("jss_selectall"))return"select-all";if(t.classList.contains("jss_corner"))return"fill-handle";let e=t;for(;!e.classList.contains("jss_spreadsheet");){if(e.classList.contains("jss_row"))return"row";if(e.classList.contains("jss_nested"))return"nested";if(e.classList.contains("jtabs-headers"))return"tabs";if(e.classList.contains("jtoolbar"))return"toolbar";if(e.classList.contains("jss_pagination"))return"pagination";if(e.tagName==="TBODY")return"cell";if(e.tagName==="TFOOT")return getElementIndex(t)===0?"grid":"footer";if(e.tagName==="THEAD")return"header";e=e.parentElement}return"applications"},defaultContextMenu=function(t,e,n,r){const o=[];if(r==="header"&&(t.options.allowInsertColumn!=0&&o.push({title:jSuites.translate("Insert a new column before"),onclick:function(){t.insertColumn(1,parseInt(e),1)}}),t.options.allowInsertColumn!=0&&o.push({title:jSuites.translate("Insert a new column after"),onclick:function(){t.insertColumn(1,parseInt(e),0)}}),t.options.allowDeleteColumn!=0&&o.push({title:jSuites.translate("Delete selected columns"),onclick:function(){t.deleteColumn(t.getSelectedColumns().length?void 0:parseInt(e))}}),t.options.allowRenameColumn!=0&&o.push({title:jSuites.translate("Rename this column"),onclick:function(){const s=t.getHeader(e),a=prompt(jSuites.translate("Column name"),s);t.setHeader(e,a)}}),t.options.columnSorting!=0&&(o.push({type:"line"}),o.push({title:jSuites.translate("Order ascending"),onclick:function(){t.orderBy(e,0)}}),o.push({title:jSuites.translate("Order descending"),onclick:function(){t.orderBy(e,1)}}))),r!=="row"&&r!=="cell"||(t.options.allowInsertRow!=0&&(o.push({title:jSuites.translate("Insert a new row before"),onclick:function(){t.insertRow(1,parseInt(n),1)}}),o.push({title:jSuites.translate("Insert a new row after"),onclick:function(){t.insertRow(1,parseInt(n))}})),t.options.allowDeleteRow!=0&&o.push({title:jSuites.translate("Delete selected rows"),onclick:function(){t.deleteRow(t.getSelectedRows().length?void 0:parseInt(n))}})),r==="cell"&&t.options.allowComments!=0){o.push({type:"line"});const s=t.records[n][e].element.getAttribute("title")||"";o.push({title:jSuites.translate(s?"Edit comments":"Add comments"),onclick:function(){const a=prompt(jSuites.translate("Comments"),s);a&&t.setComments((0,helpers.getCellNameFromCoords)(e,n),a)}}),s&&o.push({title:jSuites.translate("Clear comments"),onclick:function(){t.setComments((0,helpers.getCellNameFromCoords)(e,n),"")}})}return o.length!==0&&o.push({type:"line"}),r!=="header"&&r!=="row"&&r!=="cell"||(o.push({title:jSuites.translate("Copy")+"...",shortcut:"Ctrl + C",onclick:function(){copy.call(t,!0)}}),navigator&&navigator.clipboard&&o.push({title:jSuites.translate("Paste")+"...",shortcut:"Ctrl + V",onclick:function(){t.selectedCell&&navigator.clipboard.readText().then(function(s){s&&paste.call(t,t.selectedCell[0],t.selectedCell[1],s)})}})),t.parent.config.allowExport!=0&&o.push({title:jSuites.translate("Save as")+"...",shortcut:"Ctrl + S",onclick:function(){t.download()}}),t.parent.config.about!=0&&o.push({title:jSuites.translate("About"),onclick:function(){t.parent.config.about===void 0||t.parent.config.about===!0?alert(version.print()):alert(t.parent.config.about)}}),o},getElementIndex=function(t){const e=t.parentElement.children;for(let n=0;n<e.length;n++)if(t===e[n])return n;return-1},contextMenuControls=function(t){if("buttons"in(t=t||window.event)?t.buttons:t.which||t.button,libraryBase.jspreadsheet.current){const e=libraryBase.jspreadsheet.current.parent;if(libraryBase.jspreadsheet.current.edition)t.preventDefault();else if(e.contextMenu.contextmenu.close(),libraryBase.jspreadsheet.current){const n=getRole(t.target);let r=null,o=null;if(n==="cell"){let a=t.target;for(;a.tagName!=="TD";)a=a.parentNode;o=a.getAttribute("data-y"),r=a.getAttribute("data-x"),(!libraryBase.jspreadsheet.current.selectedCell||r<parseInt(libraryBase.jspreadsheet.current.selectedCell[0])||r>parseInt(libraryBase.jspreadsheet.current.selectedCell[2])||o<parseInt(libraryBase.jspreadsheet.current.selectedCell[1])||o>parseInt(libraryBase.jspreadsheet.current.selectedCell[3]))&&selection.AH.call(libraryBase.jspreadsheet.current,r,o,r,o,t)}else if(n==="row"||n==="header")n==="row"?o=t.target.getAttribute("data-y"):r=t.target.getAttribute("data-x"),(!libraryBase.jspreadsheet.current.selectedCell||r<parseInt(libraryBase.jspreadsheet.current.selectedCell[0])||r>parseInt(libraryBase.jspreadsheet.current.selectedCell[2])||o<parseInt(libraryBase.jspreadsheet.current.selectedCell[1])||o>parseInt(libraryBase.jspreadsheet.current.selectedCell[3]))&&selection.AH.call(libraryBase.jspreadsheet.current,r,o,r,o,t);else if(n==="nested"){const a=t.target.getAttribute("data-column").split(",");r=getElementIndex(t.target)-1,o=getElementIndex(t.target.parentElement),libraryBase.jspreadsheet.current.selectedCell&&a[0]==parseInt(libraryBase.jspreadsheet.current.selectedCell[0])&&a[a.length-1]==parseInt(libraryBase.jspreadsheet.current.selectedCell[2])&&libraryBase.jspreadsheet.current.selectedCell[1]==null&&libraryBase.jspreadsheet.current.selectedCell[3]==null||selection.AH.call(libraryBase.jspreadsheet.current,a[0],null,a[a.length-1],null,t)}else n==="select-all"?selection.Ub.call(libraryBase.jspreadsheet.current):n==="tabs"?r=getElementIndex(t.target):n==="footer"&&(r=getElementIndex(t.target)-1,o=getElementIndex(t.target.parentElement));let s=defaultContextMenu(libraryBase.jspreadsheet.current,parseInt(r),parseInt(o),n);if(typeof e.config.contextMenu=="function"){const a=e.config.contextMenu(libraryBase.jspreadsheet.current,r,o,t,s,n,r,o);if(a)s=a;else if(a===!1)return}typeof e.plugins=="object"&&Object.entries(e.plugins).forEach(function([,a]){if(typeof a.contextMenu=="function"){const c=a.contextMenu(libraryBase.jspreadsheet.current,r!==null?parseInt(r):null,o!==null?parseInt(o):null,t,s,n,r!==null?parseInt(r):null,o!==null?parseInt(o):null);c&&(s=c)}}),e.contextMenu.contextmenu.open(t,s),t.preventDefault()}}},touchStartControls=function(t){const e=getElement(t.target);if(e[0]?libraryBase.jspreadsheet.current!=e[0].jssWorksheet&&(libraryBase.jspreadsheet.current&&libraryBase.jspreadsheet.current.resetSelection(),libraryBase.jspreadsheet.current=e[0].jssWorksheet):libraryBase.jspreadsheet.current&&(libraryBase.jspreadsheet.current.resetSelection(),libraryBase.jspreadsheet.current=null),libraryBase.jspreadsheet.current&&!libraryBase.jspreadsheet.current.edition){const n=t.target.getAttribute("data-x"),r=t.target.getAttribute("data-y");n&&r&&(selection.AH.call(libraryBase.jspreadsheet.current,n,r,void 0,void 0,t),libraryBase.jspreadsheet.timeControl=setTimeout(function(){libraryBase.jspreadsheet.current.options.columns[n].type=="color"?libraryBase.jspreadsheet.tmpElement=null:libraryBase.jspreadsheet.tmpElement=t.target,openEditor.call(libraryBase.jspreadsheet.current,t.target,!1,t)},500))}},touchEndControls=function(t){libraryBase.jspreadsheet.timeControl&&(clearTimeout(libraryBase.jspreadsheet.timeControl),libraryBase.jspreadsheet.timeControl=null,libraryBase.jspreadsheet.tmpElement&&libraryBase.jspreadsheet.tmpElement.children[0].tagName=="INPUT"&&libraryBase.jspreadsheet.tmpElement.children[0].focus(),libraryBase.jspreadsheet.tmpElement=null)},cutControls=function(t){libraryBase.jspreadsheet.current&&(libraryBase.jspreadsheet.current.edition||(copy.call(libraryBase.jspreadsheet.current,!0,void 0,void 0,void 0,void 0,!0),libraryBase.jspreadsheet.current.options.editable!=0&&libraryBase.jspreadsheet.current.setValue(libraryBase.jspreadsheet.current.highlighted.map(function(e){return e.element}),"")))},copyControls=function(t){libraryBase.jspreadsheet.current&&copyControls.enabled&&(libraryBase.jspreadsheet.current.edition||copy.call(libraryBase.jspreadsheet.current,!0))},validLetter=function(t){return t.match(/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF']+)/g)?1:0},keyDownControls=function(t){if(libraryBase.jspreadsheet.current){if(libraryBase.jspreadsheet.current.edition)if(t.which==27)libraryBase.jspreadsheet.current.edition&&closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!1),t.preventDefault();else if(t.which==13){if(libraryBase.jspreadsheet.current.options.columns&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]]&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]].type=="calendar")closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0);else if(!(libraryBase.jspreadsheet.current.options.columns&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]]&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]].type=="dropdown"))if((libraryBase.jspreadsheet.current.options.wordWrap==1||libraryBase.jspreadsheet.current.options.columns&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]]&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]].wordWrap==1||libraryBase.jspreadsheet.current.options.data[libraryBase.jspreadsheet.current.edition[3]][libraryBase.jspreadsheet.current.edition[2]]&&libraryBase.jspreadsheet.current.options.data[libraryBase.jspreadsheet.current.edition[3]][libraryBase.jspreadsheet.current.edition[2]].length>200)&&t.altKey){const e=libraryBase.jspreadsheet.current.edition[0].children[0];let n=libraryBase.jspreadsheet.current.edition[0].children[0].value;const r=e.selectionStart;n=n.slice(0,r)+`
`+n.slice(r),e.value=n,e.focus(),e.selectionStart=r+1,e.selectionEnd=r+1}else libraryBase.jspreadsheet.current.edition[0].children[0].blur()}else t.which==9&&(libraryBase.jspreadsheet.current.options.columns&&libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]]&&["calendar","html"].includes(libraryBase.jspreadsheet.current.options.columns[libraryBase.jspreadsheet.current.edition[2]].type)?closeEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.edition[0],!0):libraryBase.jspreadsheet.current.edition[0].children[0].blur());if(!libraryBase.jspreadsheet.current.edition&&libraryBase.jspreadsheet.current.selectedCell)if(t.which==37)left.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==39)right.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==38)up.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==40)down.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==36)first.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==35)last.call(libraryBase.jspreadsheet.current,t.shiftKey,t.ctrlKey),t.preventDefault();else if(t.which==46||t.which==8)libraryBase.jspreadsheet.current.options.editable!=0&&(libraryBase.jspreadsheet.current.selectedRow?libraryBase.jspreadsheet.current.options.allowDeleteRow!=0&&confirm(jSuites.translate("Are you sure to delete the selected rows?"))&&libraryBase.jspreadsheet.current.deleteRow():libraryBase.jspreadsheet.current.selectedHeader?libraryBase.jspreadsheet.current.options.allowDeleteColumn!=0&&confirm(jSuites.translate("Are you sure to delete the selected columns?"))&&libraryBase.jspreadsheet.current.deleteColumn():libraryBase.jspreadsheet.current.setValue(libraryBase.jspreadsheet.current.highlighted.map(function(e){return e.element}),""));else if(t.which==13)t.shiftKey?up.call(libraryBase.jspreadsheet.current):(libraryBase.jspreadsheet.current.options.allowInsertRow!=0&&libraryBase.jspreadsheet.current.options.allowManualInsertRow!=0&&libraryBase.jspreadsheet.current.selectedCell[1]==libraryBase.jspreadsheet.current.options.data.length-1&&libraryBase.jspreadsheet.current.insertRow(),down.call(libraryBase.jspreadsheet.current)),t.preventDefault();else if(t.which==9)t.shiftKey?left.call(libraryBase.jspreadsheet.current):(libraryBase.jspreadsheet.current.options.allowInsertColumn!=0&&libraryBase.jspreadsheet.current.options.allowManualInsertColumn!=0&&libraryBase.jspreadsheet.current.selectedCell[0]==libraryBase.jspreadsheet.current.options.data[0].length-1&&libraryBase.jspreadsheet.current.insertColumn(),right.call(libraryBase.jspreadsheet.current)),t.preventDefault();else if(!t.ctrlKey&&!t.metaKey||t.shiftKey){if(libraryBase.jspreadsheet.current.selectedCell&&libraryBase.jspreadsheet.current.options.editable!=0){const e=libraryBase.jspreadsheet.current.selectedCell[1],n=libraryBase.jspreadsheet.current.selectedCell[0];t.keyCode==32?(t.preventDefault(),libraryBase.jspreadsheet.current.options.columns[n].type=="checkbox"||libraryBase.jspreadsheet.current.options.columns[n].type=="radio"?setCheckRadioValue.call(libraryBase.jspreadsheet.current):openEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.records[e][n].element,!0,t)):t.keyCode==113?openEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.records[e][n].element,!1,t):(t.keyCode==8||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=111||t.keyCode>=187&&t.keyCode<=190||(String.fromCharCode(t.keyCode)==t.key||String.fromCharCode(t.keyCode).toLowerCase()==t.key.toLowerCase())&&validLetter(String.fromCharCode(t.keyCode)))&&(openEditor.call(libraryBase.jspreadsheet.current,libraryBase.jspreadsheet.current.records[e][n].element,!0,t),libraryBase.jspreadsheet.current.options.columns&&libraryBase.jspreadsheet.current.options.columns[n]&&libraryBase.jspreadsheet.current.options.columns[n].type=="calendar"&&t.preventDefault())}}else t.which==65?(selection.Ub.call(libraryBase.jspreadsheet.current),t.preventDefault()):t.which==83?(libraryBase.jspreadsheet.current.download(),t.preventDefault()):t.which==89?(libraryBase.jspreadsheet.current.redo(),t.preventDefault()):t.which==90?(libraryBase.jspreadsheet.current.undo(),t.preventDefault()):t.which==67?(copy.call(libraryBase.jspreadsheet.current,!0),t.preventDefault()):t.which==88?(libraryBase.jspreadsheet.current.options.editable!=0?cutControls():copyControls(),t.preventDefault()):t.which==86&&pasteControls();else t.target.classList.contains("jss_search")&&(libraryBase.jspreadsheet.timeControl&&clearTimeout(libraryBase.jspreadsheet.timeControl),libraryBase.jspreadsheet.timeControl=setTimeout(function(){libraryBase.jspreadsheet.current.search(t.target.value)},200))}},wheelControls=function(t){const e=this;e.options.lazyLoading==1&&libraryBase.jspreadsheet.timeControlLoading==null&&(libraryBase.jspreadsheet.timeControlLoading=setTimeout(function(){e.content.scrollTop+e.content.clientHeight>=e.content.scrollHeight-10?lazyLoading.p6.call(e)&&(e.content.scrollTop+e.content.clientHeight>e.content.scrollHeight-10&&(e.content.scrollTop=e.content.scrollTop-e.content.clientHeight),selection.Aq.call(e)):e.content.scrollTop<=e.content.clientHeight&&lazyLoading.G_.call(e)&&(e.content.scrollTop<10&&(e.content.scrollTop=e.content.scrollTop+e.content.clientHeight),selection.Aq.call(e)),libraryBase.jspreadsheet.timeControlLoading=null},100))};let scrollLeft=0;const updateFreezePosition=function(){const t=this;scrollLeft=t.content.scrollLeft;let e=0;if(scrollLeft>50)for(let n=0;n<t.options.freezeColumns;n++){if(n>0&&(!t.options.columns||!t.options.columns[n-1]||t.options.columns[n-1].type!=="hidden")){let r;r=t.options.columns&&t.options.columns[n-1]&&t.options.columns[n-1].width!==void 0?parseInt(t.options.columns[n-1].width):t.options.defaultColWidth!==void 0?parseInt(t.options.defaultColWidth):100,e+=parseInt(r)}t.headers[n].classList.add("jss_freezed"),t.headers[n].style.left=e+"px";for(let r=0;r<t.rows.length;r++)if(t.rows[r]&&t.records[r][n]){const o=scrollLeft+(n>0?t.records[r][n-1].element.style.width:0)-51+"px";t.records[r][n].element.classList.add("jss_freezed"),t.records[r][n].element.style.left=o}}else for(let n=0;n<t.options.freezeColumns;n++){t.headers[n].classList.remove("jss_freezed"),t.headers[n].style.left="";for(let r=0;r<t.rows.length;r++)t.records[r][n]&&(t.records[r][n].element.classList.remove("jss_freezed"),t.records[r][n].element.style.left="")}selection.Aq.call(t)},scrollControls=function(t){const e=this;wheelControls.call(e),e.options.freezeColumns>0&&e.content.scrollLeft!=scrollLeft&&updateFreezePosition.call(e),e.options.lazyLoading!=1&&e.options.tableOverflow!=1||e.edition&&t.target.className.substr(0,9)!="jdropdown"&&closeEditor.call(e,e.edition[0],!0)},setEvents=function(t){destroyEvents(t),t.addEventListener("mouseup",mouseUpControls),t.addEventListener("mousedown",mouseDownControls),t.addEventListener("mousemove",mouseMoveControls),t.addEventListener("mouseover",mouseOverControls),t.addEventListener("dblclick",doubleClickControls),t.addEventListener("paste",pasteControls),t.addEventListener("contextmenu",contextMenuControls),t.addEventListener("touchstart",touchStartControls),t.addEventListener("touchend",touchEndControls),t.addEventListener("touchcancel",touchEndControls),t.addEventListener("touchmove",touchEndControls),document.addEventListener("keydown",keyDownControls)},destroyEvents=function(t){t.removeEventListener("mouseup",mouseUpControls),t.removeEventListener("mousedown",mouseDownControls),t.removeEventListener("mousemove",mouseMoveControls),t.removeEventListener("mouseover",mouseOverControls),t.removeEventListener("dblclick",doubleClickControls),t.removeEventListener("paste",pasteControls),t.removeEventListener("contextmenu",contextMenuControls),t.removeEventListener("touchstart",touchStartControls),t.removeEventListener("touchend",touchEndControls),t.removeEventListener("touchcancel",touchEndControls),document.removeEventListener("keydown",keyDownControls)};var toolbar=__webpack_require__(392),pagination=__webpack_require__(167);const setData=function(t){const e=this;if(t&&(e.options.data=t),e.options.data||(e.options.data=[]),e.options.data&&e.options.data[0]&&!Array.isArray(e.options.data[0])){t=[];for(let S=0;S<e.options.data.length;S++){const v=[];for(let g=0;g<e.options.columns.length;g++)v[g]=e.options.data[S][e.options.columns[g].name];t.push(v)}e.options.data=t}let n=0,r=0;const o=e.options.columns&&e.options.columns.length||0,s=e.options.data.length,a=e.options.minDimensions[0],c=e.options.minDimensions[1],l=a>o?a:o,u=c>s?c:s;for(n=0;n<u;n++)for(r=0;r<l;r++)e.options.data[n]==null&&(e.options.data[n]=[]),e.options.data[n][r]==null&&(e.options.data[n][r]="");let f,b;for(e.rows=[],e.results=null,e.records=[],e.history=[],e.historyIndex=-1,e.tbody.innerHTML="",e.options.lazyLoading==1?(f=0,b=e.options.data.length<100?e.options.data.length:100,e.options.pagination&&(e.options.pagination=!1,console.error("Jspreadsheet: Pagination will be disable due the lazyLoading"))):e.options.pagination?(e.pageNumber||(e.pageNumber=0),e.options.pagination,f=e.options.pagination*e.pageNumber,b=e.options.pagination*e.pageNumber+e.options.pagination,e.options.data.length<b&&(b=e.options.data.length)):(f=0,b=e.options.data.length),n=0;n<e.options.data.length;n++){const S=createRow.call(e,n,e.options.data[n]);n>=f&&n<b&&e.tbody.appendChild(S.element)}if(e.options.lazyLoading==1||e.options.pagination&&pagination.IV.call(e),e.options.mergeCells){const S=Object.keys(e.options.mergeCells);for(let v=0;v<S.length;v++){const g=e.options.mergeCells[S[v]];merges.FU.call(e,S[v],g[0],g[1],1)}}internal.am.call(e)},getValue=function(t,e){const n=this;let r,o;if(typeof t!="string")return null;r=(t=(0,internalHelpers.vu)(t,!0))[0],o=t[1];let s=null;return r!=null&&o!=null&&(n.records[o]&&n.records[o][r]&&e?s=n.records[o][r].element.innerHTML:n.options.data[o]&&n.options.data[o][r]!="undefined"&&(s=n.options.data[o][r])),s},getValueFromCoords=function(t,e,n){const r=this;let o=null;return t!=null&&e!=null&&(r.records[e]&&r.records[e][t]&&n?o=r.records[e][t].element.innerHTML:r.options.data[e]&&r.options.data[e][t]!="undefined"&&(o=r.options.data[e][t])),o},setValue=function(t,e,n){const r=this,o=[];if(typeof t=="string"){const a=(0,internalHelpers.vu)(t,!0),c=a[0],l=a[1];o.push(internal.k9.call(r,c,l,e,n)),internal.xF.call(r,c,l,o)}else{let a=null,c=null;if(t&&t.getAttribute&&(a=t.getAttribute("data-x"),c=t.getAttribute("data-y")),a!=null&&c!=null)o.push(internal.k9.call(r,a,c,e,n)),internal.xF.call(r,a,c,o);else{const l=Object.keys(t);if(l.length>0)for(let u=0;u<l.length;u++){let f,b;if(typeof t[u]=="string"){const S=(0,internalHelpers.vu)(t[u],!0);f=S[0],b=S[1]}else t[u].x!=null&&t[u].y!=null?(f=t[u].x,b=t[u].y,t[u].value!=null&&(e=t[u].value)):(f=t[u].getAttribute("data-x"),b=t[u].getAttribute("data-y"));f!=null&&b!=null&&(o.push(internal.k9.call(r,f,b,e,n)),internal.xF.call(r,f,b,o))}}}utils_history.Dh.call(r,{action:"setValue",records:o,selection:r.selectedCell}),internal.am.call(r);const s=o.map(function(a){return{x:a.x,y:a.y,value:a.newValue,oldValue:a.oldValue}});dispatch.A.call(r,"onafterchanges",r,s)},setValueFromCoords=function(t,e,n,r){const o=this,s=[];s.push(internal.k9.call(o,t,e,n,r)),internal.xF.call(o,t,e,s),utils_history.Dh.call(o,{action:"setValue",records:s,selection:o.selectedCell}),internal.am.call(o);const a=s.map(function(c){return{x:c.x,y:c.y,value:c.newValue,oldValue:c.oldValue}});dispatch.A.call(o,"onafterchanges",o,a)},getData=function(t,e,n,r){const o=this,s=[];let a=0,c=0;const l=Math.max(...o.options.data.map(function(f){return f.length})),u=o.options.data.length;for(let f=0;f<u;f++){a=0;for(let b=0;b<l;b++)t&&!o.records[f][b].element.classList.contains("highlight")||(s[c]||(s[c]=[]),s[c][a]=e?o.records[f][b].element.innerHTML:o.options.data[f][b],a++);a>0&&c++}return n?s.map(function(f){return f.join(n)}).join(`\r
`)+`\r
`:r?s.map(function(f){const b={};return f.forEach(function(S,v){b[v]=S}),b}):s},getDataFromRange=function(t,e){const n=this,r=(0,helpers.getCoordsFromRange)(t),o=[];for(let s=r[1];s<=r[3];s++){o.push([]);for(let a=r[0];a<=r[2];a++)e?o[o.length-1].push(n.records[s][a].element.innerHTML):o[o.length-1].push(n.options.data[s][a])}return o},search=function(t){const e=this;if(e.options.filters&&filter.dr.call(e),e.resetSelection(),e.pageNumber=0,e.results=[],t){e.searchInput.value!==t&&(e.searchInput.value=t);const n=function(s,a,c){for(let l=0;l<s.length;l++)if((""+s[l]).toLowerCase().search(a)>=0||(""+e.records[c][l].element.innerHTML).toLowerCase().search(a)>=0)return!0;return!1},r=function(s){e.results.indexOf(s)==-1&&e.results.push(s)};let o=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");o=new RegExp(o,"i"),e.options.data.forEach(function(s,a){if(n(s,o,a)){const c=merges.D0.call(e,a);if(c.length)for(let l=0;l<c.length;l++){const u=(0,internalHelpers.vu)(c[l],!0);for(let f=0;f<e.options.mergeCells[c[l]][1];f++)r(u[1]+f)}else r(a)}})}else e.results=null;internal.hG.call(e)},resetSearch=function(){const t=this;t.searchInput.value="",t.search(""),t.results=null},getHeader=function(t){return this.headers[t].textContent},getHeaders=function(t){const e=this,n=[];for(let r=0;r<e.headers.length;r++)n.push(e.getHeader(r));return t?n:n.join(e.options.csvDelimiter)},setHeader=function(t,e){const n=this;if(n.headers[t]){const r=n.headers[t].textContent,o=n.options.columns&&n.options.columns[t]&&n.options.columns[t].title||"";e||(e=(0,helpers.getColumnName)(t)),n.headers[t].textContent=e,n.headers[t].setAttribute("title",e),n.options.columns||(n.options.columns=[]),n.options.columns[t]||(n.options.columns[t]={}),n.options.columns[t].title=e,utils_history.Dh.call(n,{action:"setHeader",column:t,oldValue:r,newValue:e}),dispatch.A.call(n,"onchangeheader",n,parseInt(t),e,o)}},getStyle=function(t,e){const n=this;if(t)return t=(0,internalHelpers.vu)(t,!0),e?n.records[t[1]][t[0]].element.style[e]:n.records[t[1]][t[0]].element.getAttribute("style");{const r={},o=n.options.data[0].length,s=n.options.data.length;for(let a=0;a<s;a++)for(let c=0;c<o;c++){const l=e?n.records[a][c].element.style[e]:n.records[a][c].element.getAttribute("style");l&&(r[(0,internalHelpers.t3)([c,a])]=l)}return r}},setStyle=function(t,e,n,r,o){const s=this,a={},c={},l=function(f,b,S){const v=(0,internalHelpers.vu)(f,!0);if(s.records[v[1]]&&s.records[v[1]][v[0]]&&(s.records[v[1]][v[0]].element.classList.contains("readonly")==0||r)){const g=s.records[v[1]][v[0]].element.style[b];g!=S||r?s.records[v[1]][v[0]].element.style[b]=S:(S="",s.records[v[1]][v[0]].element.style[b]=""),c[f]||(c[f]=[]),a[f]||(a[f]=[]),c[f].push([b+":"+g]),a[f].push([b+":"+S])}};if(e&&n)typeof t=="string"&&l(t,e,n);else{const f=Object.keys(t);for(let b=0;b<f.length;b++){let S=t[f[b]];typeof S=="string"&&(S=S.split(";"));for(let v=0;v<S.length;v++)typeof S[v]=="string"&&(S[v]=S[v].split(":")),S[v][0].trim()&&l(f[b],S[v][0].trim(),S[v][1])}}let u=Object.keys(c);for(let f=0;f<u.length;f++)c[u[f]]=c[u[f]].join(";");u=Object.keys(a);for(let f=0;f<u.length;f++)a[u[f]]=a[u[f]].join(";");o||utils_history.Dh.call(s,{action:"setStyle",oldValue:c,newValue:a}),dispatch.A.call(s,"onchangestyle",s,a)},resetStyle=function(t,e){const n=this,r=Object.keys(t);for(let o=0;o<r.length;o++){const s=(0,internalHelpers.vu)(r[o],!0);n.records[s[1]]&&n.records[s[1]][s[0]]&&n.records[s[1]][s[0]].element.setAttribute("style","")}n.setStyle(t,null,null,null,e)},download=function(t,e){const n=this;if(n.parent.config.allowExport==0)console.error("Export not allowed");else{let r="";r+=copy.call(n,!1,n.options.csvDelimiter,!0,t,!0,void 0,e);const o=new Blob(["\uFEFF"+r],{type:"text/csv;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,(n.options.csvFileName||n.options.worksheetName)+".csv");else{const s=document.createElement("a"),a=URL.createObjectURL(o);s.href=a,s.setAttribute("download",(n.options.csvFileName||n.options.worksheetName)+".csv"),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s)}}},getComments=function(t){const e=this;if(t)return typeof t!="string"?getComments.call(e):(t=(0,internalHelpers.vu)(t,!0),e.records[t[1]][t[0]].element.getAttribute("title")||"");{const n={};for(let r=0;r<e.options.data.length;r++)for(let o=0;o<e.options.columns.length;o++){const s=e.records[r][o].element.getAttribute("title");s&&(n[(0,internalHelpers.t3)([o,r])]=s)}return n}},setComments=function(t,e){const n=this;let r;r=typeof t=="string"?{[t]:e}:t;const o={};Object.entries(r).forEach(function([s,a]){const c=(0,helpers.getCoordsFromCellName)(s);o[s]=n.records[c[1]][c[0]].element.getAttribute("title"),n.records[c[1]][c[0]].element.setAttribute("title",a||""),a?(n.records[c[1]][c[0]].element.classList.add("jss_comments"),n.options.comments||(n.options.comments={}),n.options.comments[s]=a):(n.records[c[1]][c[0]].element.classList.remove("jss_comments"),n.options.comments&&n.options.comments[s]&&delete n.options.comments[s])}),utils_history.Dh.call(n,{action:"setComments",newValue:r,oldValue:o}),dispatch.A.call(n,"oncomments",n,r,o)};var orderBy=__webpack_require__(94);const getWorksheetConfig=function(){return this.options},getSpreadsheetConfig=function(){return this.config},setConfig=function(t,e){const n=this,r=Object.keys(t);let o;n.parent?o=n.parent:(e=!0,o=n),r.forEach(function(s){e?(o.config[s]=t[s],s==="toolbar"&&(t[s]===!0?o.showToolbar():t[s]===!1&&o.hideToolbar())):n.options[s]=t[s]})};var meta=__webpack_require__(654);const setReadOnly=function(t,e){const n=this;let r;if(typeof t=="string"){const o=(0,helpers.getCoordsFromCellName)(t);r=n.records[o[1]][o[0]]}else{const o=parseInt(t.getAttribute("data-x")),s=parseInt(t.getAttribute("data-y"));r=n.records[s][o]}e?r.element.classList.add("readonly"):r.element.classList.remove("readonly")},isReadOnly=function(t,e){return typeof t=="string"&&e===void 0&&([t,e]=(0,helpers.getCoordsFromCellName)(t)),this.records[e][t].element.classList.contains("readonly")},setWorksheetFunctions=function(t){for(let e=0;e<worksheetPublicMethodsLength;e++){const[n,r]=worksheetPublicMethods[e];t[n]=r.bind(t)}},createTable=function(){let t=this;setWorksheetFunctions(t),t.table=document.createElement("table"),t.thead=document.createElement("thead"),t.tbody=document.createElement("tbody"),t.headers=[],t.cols=[],t.content=document.createElement("div"),t.content.classList.add("jss_content"),t.content.onscroll=function(b){scrollControls.call(t,b)},t.content.onwheel=function(b){wheelControls.call(t,b)};const e=document.createElement("div"),n=document.createElement("label");n.innerHTML=jSuites.translate("Search")+": ",e.appendChild(n),t.searchInput=document.createElement("input"),t.searchInput.classList.add("jss_search"),n.appendChild(t.searchInput),t.searchInput.onfocus=function(){t.resetSelection()};const r=document.createElement("div");if(t.options.pagination>0&&t.options.paginationOptions&&t.options.paginationOptions.length>0){t.paginationDropdown=document.createElement("select"),t.paginationDropdown.classList.add("jss_pagination_dropdown"),t.paginationDropdown.onchange=function(){t.options.pagination=parseInt(this.value),t.page(0)};for(let b=0;b<t.options.paginationOptions.length;b++){const S=document.createElement("option");S.value=t.options.paginationOptions[b],S.innerHTML=t.options.paginationOptions[b],t.paginationDropdown.appendChild(S)}t.paginationDropdown.value=t.options.pagination,r.appendChild(document.createTextNode(jSuites.translate("Show "))),r.appendChild(t.paginationDropdown),r.appendChild(document.createTextNode(jSuites.translate("entries")))}const o=document.createElement("div");o.classList.add("jss_filter"),o.appendChild(r),o.appendChild(e),t.colgroupContainer=document.createElement("colgroup");let s=document.createElement("col");if(s.setAttribute("width","50"),t.colgroupContainer.appendChild(s),t.options.nestedHeaders&&t.options.nestedHeaders.length>0&&t.options.nestedHeaders[0]&&t.options.nestedHeaders[0][0])for(let b=0;b<t.options.nestedHeaders.length;b++)t.thead.appendChild(internal.ju.call(t,t.options.nestedHeaders[b]));t.headerContainer=document.createElement("tr"),s=document.createElement("td"),s.classList.add("jss_selectall"),t.headerContainer.appendChild(s);const a=getNumberOfColumns.call(t);for(let b=0;b<a;b++)createCellHeader.call(t,b),t.headerContainer.appendChild(t.headers[b]),t.colgroupContainer.appendChild(t.cols[b].colElement);if(t.thead.appendChild(t.headerContainer),t.options.filters==1){t.filter=document.createElement("tr");const b=document.createElement("td");t.filter.appendChild(b);for(let S=0;S<t.options.columns.length;S++){const v=document.createElement("td");v.innerHTML="&nbsp;",v.setAttribute("data-x",S),v.className="jss_column_filter",t.options.columns[S].type=="hidden"&&(v.style.display="none"),t.filter.appendChild(v)}t.thead.appendChild(t.filter)}t.table=document.createElement("table"),t.table.classList.add("jss_worksheet"),t.table.setAttribute("cellpadding","0"),t.table.setAttribute("cellspacing","0"),t.table.setAttribute("unselectable","yes"),t.table.appendChild(t.colgroupContainer),t.table.appendChild(t.thead),t.table.appendChild(t.tbody),t.options.textOverflow||t.table.classList.add("jss_overflow"),t.corner=document.createElement("div"),t.corner.className="jss_corner",t.corner.setAttribute("unselectable","on"),t.corner.setAttribute("onselectstart","return false"),t.options.selectionCopy==0&&(t.corner.style.display="none"),t.textarea=document.createElement("textarea"),t.textarea.className="jss_textarea",t.textarea.id="jss_textarea",t.textarea.tabIndex="-1",t.textarea.ariaHidden="true";const c=document.createElement("a");c.setAttribute("href","https://bossanova.uk/jspreadsheet/"),t.ads=document.createElement("div"),t.ads.className="jss_about";const l=document.createElement("span");l.innerHTML="Jspreadsheet CE",c.appendChild(l),t.ads.appendChild(c),document.createElement("div").classList.add("jss_table"),t.pagination=document.createElement("div"),t.pagination.classList.add("jss_pagination");const u=document.createElement("div"),f=document.createElement("div");if(t.pagination.appendChild(u),t.pagination.appendChild(f),t.options.pagination||(t.pagination.style.display="none"),t.options.search==1&&t.element.appendChild(o),t.content.appendChild(t.table),t.content.appendChild(t.corner),t.content.appendChild(t.textarea),t.element.appendChild(t.content),t.element.appendChild(t.pagination),t.element.appendChild(t.ads),t.element.classList.add("jss_container"),t.element.jssWorksheet=t,t.element.jspreadsheet=t,t.options.tableOverflow==1&&(t.options.tableHeight&&(t.content.style["overflow-y"]="auto",t.content.style["box-shadow"]="rgb(221 221 221) 2px 2px 5px 0.1px",t.content.style.maxHeight=typeof t.options.tableHeight=="string"?t.options.tableHeight:t.options.tableHeight+"px"),t.options.tableWidth&&(t.content.style["overflow-x"]="auto",t.content.style.width=typeof t.options.tableWidth=="string"?t.options.tableWidth:t.options.tableWidth+"px")),t.options.tableOverflow!=1&&t.parent.config.toolbar&&t.element.classList.add("with-toolbar"),t.options.columnDrag!=0&&t.thead.classList.add("draggable"),t.options.columnResize!=0&&t.thead.classList.add("resizable"),t.options.rowDrag!=0&&t.tbody.classList.add("draggable"),t.options.rowResize!=0&&t.tbody.classList.add("resizable"),t.setData.call(t),t.options.style&&(t.setStyle(t.options.style,null,null,1,1),delete t.options.style),Object.defineProperty(t.options,"style",{enumerable:!0,configurable:!0,get(){return t.getStyle()}}),t.options.comments&&t.setComments(t.options.comments),t.options.classes){const b=Object.keys(t.options.classes);for(let S=0;S<b.length;S++){const v=(0,internalHelpers.vu)(b[S],!0);t.records[v[1]][v[0]].element.classList.add(t.options.classes[b[S]])}}},prepareTable=function(){const t=this;t.options.lazyLoading==1&&t.options.tableOverflow!=1&&t.parent.config.fullscreen!=1&&(console.error("Jspreadsheet: The lazyloading only works when tableOverflow = yes or fullscreen = yes"),t.options.lazyLoading=!1),t.options.columns||(t.options.columns=[]);let e,n=t.options.columns.length;if(t.options.data&&t.options.data[0]!==void 0)if(Array.isArray(t.options.data[0])){const o=t.options.data[0].length;o>n&&(n=o)}else e=Object.keys(t.options.data[0]),e.length>n&&(n=e.length);t.options.minDimensions||(t.options.minDimensions=[0,0]),t.options.minDimensions[0]>n&&(n=t.options.minDimensions[0]);const r=[];for(let o=0;o<n;o++)t.options.columns[o]||(t.options.columns[o]={}),!t.options.columns[o].name&&e&&e[o]&&(t.options.columns[o].name=e[o]),t.options.columns[o].type=="dropdown"&&t.options.columns[o].url&&r.push({url:t.options.columns[o].url,index:o,method:"GET",dataType:"json",success:function(s){t.options.columns[this.index].source||(t.options.columns[this.index].source=[]);for(let a=0;a<s.length;a++)t.options.columns[this.index].source.push(s[a])}});r.length?jSuites.ajax(r,function(){createTable.call(t)}):createTable.call(t)},getNextDefaultWorksheetName=function(t){const e=/^Sheet(\d+)$/;let n=0;return t.worksheets.forEach(function(r){const o=e.exec(r.options.worksheetName);o&&(n=Math.max(n,parseInt(o[1])))}),"Sheet"+(n+1)},buildWorksheet=async function(){const t=this,e=(t.element,t.parent);typeof e.plugins=="object"&&Object.entries(e.plugins).forEach(function([,r]){typeof r.beforeinit=="function"&&r.beforeinit(t)}),libraryBase.jspreadsheet.current=t;const n=[];if(t.options.csv){const r=new Promise(o=>{jSuites.ajax({url:t.options.csv,method:"GET",dataType:"text",success:function(s){const a=(0,helpers.parseCSV)(s,t.options.csvDelimiter);if(t.options.csvHeaders==1&&a.length>0){const c=a.shift();if(c.length>0){t.options.columns||(t.options.columns=[]);for(let l=0;l<c.length;l++)t.options.columns[l]||(t.options.columns[l]={}),t.options.columns[l].title===void 0&&(t.options.columns[l].title=c[l])}}t.options.data=a,prepareTable.call(t),o()}})});n.push(r)}else if(t.options.url){const r=new Promise(o=>{jSuites.ajax({url:t.options.url,method:"GET",dataType:"json",success:function(s){t.options.data=s.data?s.data:s,prepareTable.call(t),o()}})});n.push(r)}else prepareTable.call(t);await Promise.all(n),typeof e.plugins=="object"&&Object.entries(e.plugins).forEach(function([,r]){typeof r.init=="function"&&r.init(t)})},createWorksheetObj=function(t){const e=this.parent;t.worksheetName||(t.worksheetName=getNextDefaultWorksheetName(this.parent));const n={parent:e,options:t,filters:[],formula:[],history:[],selection:[],historyIndex:-1};return e.config.worksheets.push(n.options),e.worksheets.push(n),n},createWorksheet=function(t){const e=this.parent;e.creationThroughJss=!0,createWorksheetObj.call(this,t),e.element.tabs.create(t.worksheetName)},openWorksheet=function(t){this.parent.element.tabs.open(t)},deleteWorksheet=function(t){const e=this;e.parent.element.tabs.remove(t);const n=e.parent.worksheets.splice(t,1)[0];dispatch.A.call(e.parent,"ondeleteworksheet",n,t)},worksheetPublicMethods=[["selectAll",selection.Ub],["updateSelectionFromCoords",function(t,e,n,r){return selection.AH.call(this,t,e,n,r)}],["resetSelection",function(){return selection.gE.call(this)}],["getSelection",selection.Lo],["getSelected",selection.ef],["getSelectedColumns",selection.Jg],["getSelectedRows",selection.R5],["getData",getData],["setData",setData],["getValue",getValue],["getValueFromCoords",getValueFromCoords],["setValue",setValue],["setValueFromCoords",setValueFromCoords],["getWidth",getWidth],["setWidth",function(t,e){return setWidth.call(this,t,e)}],["insertRow",insertRow],["moveRow",function(t,e){return moveRow.call(this,t,e)}],["deleteRow",deleteRow],["hideRow",hideRow],["showRow",showRow],["getRowData",getRowData],["setRowData",setRowData],["getHeight",getHeight],["setHeight",function(t,e){return setHeight.call(this,t,e)}],["getMerge",merges.fd],["setMerge",function(t,e,n){return merges.FU.call(this,t,e,n)}],["destroyMerge",function(){return merges.VP.call(this)}],["removeMerge",function(t,e){return merges.Zp.call(this,t,e)}],["search",search],["resetSearch",resetSearch],["getHeader",getHeader],["getHeaders",getHeaders],["setHeader",setHeader],["getStyle",getStyle],["setStyle",function(t,e,n,r){return setStyle.call(this,t,e,n,r)}],["resetStyle",resetStyle],["insertColumn",insertColumn],["moveColumn",moveColumn],["deleteColumn",deleteColumn],["getColumnData",getColumnData],["setColumnData",setColumnData],["whichPage",pagination.ho],["page",pagination.MY],["download",download],["getComments",getComments],["setComments",setComments],["orderBy",orderBy.My],["undo",utils_history.tN],["redo",utils_history.ZS],["getCell",internal.tT],["getCellFromCoords",internal.Xr],["getLabel",internal.p9],["getConfig",getWorksheetConfig],["setConfig",setConfig],["getMeta",function(t){return meta.IQ.call(this,t)}],["setMeta",meta.iZ],["showColumn",showColumn],["hideColumn",hideColumn],["showIndex",internal.C6],["hideIndex",internal.TI],["getWorksheetActive",internal.$O],["openEditor",openEditor],["closeEditor",closeEditor],["createWorksheet",createWorksheet],["openWorksheet",openWorksheet],["deleteWorksheet",deleteWorksheet],["copy",function(t){t?cutControls():copy.call(this,!0)}],["paste",paste],["executeFormula",internal.Em],["getDataFromRange",getDataFromRange],["quantiyOfPages",pagination.$f],["getRange",selection.eO],["isSelected",selection.sp],["setReadOnly",setReadOnly],["isReadOnly",isReadOnly],["getHighlighted",selection.kV],["dispatch",dispatch.A],["down",down],["first",first],["last",last],["left",left],["right",right],["up",up],["openFilter",filter.N$],["resetFilters",filter.dr]],worksheetPublicMethodsLength=worksheetPublicMethods.length,factory=function(){},createWorksheets=async function(t,e,n){let r=e.worksheets;if(!r)throw new Error("JSS: worksheets are not defined");{let o={animation:!0,onbeforecreate:function(l,u){return u||getNextDefaultWorksheetName(t)},oncreate:function(l,u){if(t.creationThroughJss)t.creationThroughJss=!1;else{const b=l.tabs.headers.children[l.tabs.headers.children.length-2].innerHTML;createWorksheetObj.call(t.worksheets[0],{minDimensions:[10,15],worksheetName:b})}const f=t.worksheets[t.worksheets.length-1];f.element=u,buildWorksheet.call(f).then(function(){(0,toolbar.nK)(f),dispatch.A.call(f,"oncreateworksheet",f,e,t.worksheets.length-1)})},onchange:function(l,u,f){t.worksheets.length!=0&&t.worksheets[f]&&(0,toolbar.nK)(t.worksheets[f])}};e.tabs==1?o.allowCreate=!0:o.hideHeaders=!0,o.data=[];let s=1;for(let l=0;l<r.length;l++)r[l].worksheetName||(r[l].worksheetName="Sheet"+s++),o.data.push({title:r[l].worksheetName,content:""});n.classList.add("jss_spreadsheet");const a=jSuites.tabs(n,o),c=e.style;delete e.style;for(let l=0;l<r.length;l++)r[l].style&&Object.entries(r[l].style).forEach(function([u,f]){typeof f=="number"&&(r[l].style[u]=c[f])}),t.worksheets.push({parent:t,element:a.content.children[l],options:r[l],filters:[],formula:[],history:[],selection:[],historyIndex:-1}),await buildWorksheet.call(t.worksheets[l])}};factory.spreadsheet=async function(t,e,n){if(t.tagName=="TABLE"){e||(e={}),e.worksheets||(e.worksheets=[]);const o=(0,helpers.createFromTable)(t,e.worksheets[0]);e.worksheets[0]=o;const s=document.createElement("div");t.parentNode.insertBefore(s,t),t.remove(),t=s}let r={worksheets:n,config:e,element:t,el:t};return r.contextMenu=document.createElement("div"),r.contextMenu.className="jss_contextmenu",r.getWorksheetActive=internal.$O.bind(r),r.fullscreen=internal.Y5.bind(r),r.showToolbar=toolbar.ll.bind(r),r.hideToolbar=toolbar.Ar.bind(r),r.getConfig=getSpreadsheetConfig.bind(r),r.setConfig=setConfig.bind(r),r.setPlugins=function(o){r.plugins||(r.plugins={}),typeof o=="object"&&Object.entries(o).forEach(function([s,a]){r.plugins[s]=a.call(libraryBase.jspreadsheet,r,{},r.config)})},r.setPlugins(e.plugins),await createWorksheets(r,e,t),r.element.appendChild(r.contextMenu),jSuites.contextmenu(r.contextMenu,{onclick:function(){r.contextMenu.contextmenu.close(!1)}}),r.config.fullscreen==1&&r.element.classList.add("fullscreen"),toolbar.ll.call(r),e.root?setEvents(e.root):setEvents(document),t.spreadsheet=r,r},factory.worksheet=function(t,e,n){let r={parent:t,options:{}};return n===void 0?t.worksheets.push(r):t.worksheets.splice(n,0,r),Object.assign(r.options,e),r};var utils_factory=factory;libraryBase.jspreadsheet=function(t,e){try{let n=[];return utils_factory.spreadsheet(t,e,n).then(r=>{libraryBase.jspreadsheet.spreadsheet.push(r),dispatch.A.call(r,"onload",r)}),n}catch(n){console.error(n)}},libraryBase.jspreadsheet.getWorksheetInstanceByName=function(t,e){const n=libraryBase.jspreadsheet.spreadsheet.find(r=>r.config.namespace===e);if(n)return{};if(t==null){const r=n.worksheets.map(o=>[o.options.worksheetName,o]);return Object.fromEntries(r)}return n.worksheets.find(r=>r.options.worksheetName===t)},libraryBase.jspreadsheet.setDictionary=function(t){jSuites.setDictionary(t)},libraryBase.jspreadsheet.destroy=function(t,e){if(t.spreadsheet){const n=libraryBase.jspreadsheet.spreadsheet.indexOf(t.spreadsheet);libraryBase.jspreadsheet.spreadsheet.splice(n,1);const r=t.spreadsheet.config.root||document;t.spreadsheet=null,t.innerHTML="",e&&destroyEvents(r)}},libraryBase.jspreadsheet.destroyAll=function(){for(let t=0;t<libraryBase.jspreadsheet.spreadsheet.length;t++){const e=libraryBase.jspreadsheet.spreadsheet[t];libraryBase.jspreadsheet.destroy(e.element)}},libraryBase.jspreadsheet.current=null,libraryBase.jspreadsheet.spreadsheet=[],libraryBase.jspreadsheet.helpers={},libraryBase.jspreadsheet.version=function(){return version},Object.entries(helpers).forEach(([t,e])=>{libraryBase.jspreadsheet.helpers[t]=e});var src=libraryBase.jspreadsheet;jspreadsheet=__webpack_exports__.default}(),jspreadsheet})})(dist$1);const jspreadsheet$1=getDefaultExportFromCjs(distExports$1),jspreadsheet="",JspreadsheetComponent_vue_vue_type_style_index_0_scoped_29afad77_lang="",_sfc_main={name:"JspreadsheetComponent",setup(){const t=ref(null);return onMounted(()=>{const e={workbook:{worksheets:[{name:"Sheet1",table:{data:[["","T-Shirt","Pants"],["Size","XL","M"]],columns:[{type:"text",title:"Product",width:120},{type:"dropdown",title:"Option",width:120,source:["Option1","Option2","Option3"]},{type:"text",title:"Details",width:150}]}}]}};console.log("Jspreadsheet config:",e),jspreadsheet$1(t.value,e)}),{spreadsheetContainer:t}}},_hoisted_1={ref:"spreadsheetContainer"};function _sfc_render(t,e,n,r,o,s){return openBlock(),createElementBlock("div",_hoisted_1,null,512)}const JspreadsheetComponent=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-29afad77"]]),app=createApp({});app.component("VueDatepickerNext",VueDatepickerNext);document.getElementById("app")!=null&&app.mount("#app");const datePicker=createApp({});datePicker.component("vue-datepicker-next",VueDatepickerNext);document.getElementById("datePicker")!=null&&datePicker.mount("#datePicker");const camion=createApp({el:"#camion",data(){return{tip_camion:tipCamionVechi,tipuriCamioane,tipuriCamioaneListaAutocomplete:[],firma_id:firmaIdVechi,firma_nume:"",firme,firmeListaAutocomplete:[]}},created:function(){if(this.firma_id){for(var t=0;t<this.firme.length;t++)if(this.firme[t].id==this.firma_id){this.firma_nume=this.firme[t].nume;break}}},methods:{autocompleteTipuriCamioane(){this.tipuriCamioaneListaAutocomplete=[];for(var t=0;t<this.tipuriCamioane.length;t++)this.tipuriCamioane[t].tip_camion&&this.tipuriCamioane[t].tip_camion.toLowerCase().includes(this.tip_camion.toLowerCase())&&this.tipuriCamioaneListaAutocomplete.push(this.tipuriCamioane[t])},autocompleteFirme(){this.firmeListaAutocomplete=[];for(var t=0;t<this.firme.length;t++)this.firme[t].nume&&this.firme[t].nume.toLowerCase().includes(this.firma_nume.toLowerCase())&&this.firmeListaAutocomplete.push(this.firme[t])}}});document.getElementById("camion")!=null&&camion.mount("#camion");const formularComanda=createApp({el:"#formularComanda",data(){return{firmaTransportatorId:firmaTransportatorIdVechi,firmaTransportatorNume:"",firmeTransportatori,firmeTransportatoriListaAutocomplete:[],firmaClientId:firmaClientIdVechi,firmaClientNume:"",firmeClienti,firmeClientiListaAutocomplete:[],clientiListaTotiDinDB:[],clientiAtasatiLaComanda:typeof clientiAtasatiLaComanda<"u"?clientiAtasatiLaComanda:[],camionId:camionIdVechi,camionNumarInmatriculare:"",camionTipCamion:"",camionPretKmGoi:"",camionPretKmPlini:"",camioane,camioaneListaAutocomplete:[],locuriOperareIncarcari:[],locuriOperareDescarcari:[],incarcari:typeof incarcari<"u"?incarcari:[],descarcari:typeof descarcari<"u"?descarcari:[],transportatorTarifPeKm:typeof transportatorTarifPeKmVechi<"u"?transportatorTarifPeKmVechi:"",transportatorPretKmGoi:typeof transportatorPretKmGoiVechi<"u"?transportatorPretKmGoiVechi:"",transportatorPretKmPlini:typeof transportatorPretKmPliniVechi<"u"?transportatorPretKmPliniVechi:"",transportatorKmGoi:typeof transportatorKmGoiVechi<"u"?transportatorKmGoiVechi:"",transportatorKmPlini:typeof transportatorKmPliniVechi<"u"?transportatorKmPliniVechi:"",transportatorValoareKmGoi:typeof transportatorValoareKmGoiVechi<"u"?transportatorValoareKmGoiVechi:"",transportatorValoareKmPlini:typeof transportatorValoareKmPliniVechi<"u"?transportatorValoareKmPliniVechi:"",transportatorValoareContract:typeof transportatorValoareContractVechi<"u"?transportatorValoareContractVechi:"",transportatorPretAutostrada:typeof transportatorPretAutostradaVechi<"u"?transportatorPretAutostradaVechi:"",transportatorPretFerry:typeof transportatorPretFerryVechi<"u"?transportatorPretFerryVechi:"",clientValoareContractInitiala:typeof clientValoareContractInitialaVechi<"u"?clientValoareContractInitialaVechi:"",clientValoareContract:typeof clientValoareContractVechi<"u"?clientValoareContractVechi:"",alertaCampuriNecompletate:""}},created:function(){if(this.firmaTransportatorId)for(var t=0;t<this.firmeTransportatori.length;t++)this.firmeTransportatori[t].id==this.firmaTransportatorId&&(this.firmaTransportatorNume=this.firmeTransportatori[t].nume);if(this.firmaClientId)for(var t=0;t<this.firmeClienti.length;t++)this.firmeClienti[t].id==this.firmaClientId&&(this.firmaClientNume=this.firmeClienti[t].nume);if(this.camionId)for(var t=0;t<this.camioane.length;t++)this.camioane[t].id==this.camionId&&(this.camionNumarInmatriculare=this.camioane[t].numar_inmatriculare,this.camionTipCamion=this.camioane[t].tip_camion,this.camionPretKmGoi=this.camioane[t].pret_km_goi,this.camionPretKmPlini=this.camioane[t].pret_km_plini)},methods:{autocompleteFirmeTransportatori(){this.firmeTransportatoriListaAutocomplete=[];for(var t=0;t<this.firmeTransportatori.length;t++)this.firmeTransportatori[t].nume&&this.firmeTransportatori[t].nume.toLowerCase().includes(this.firmaTransportatorNume.toLowerCase())&&this.firmeTransportatoriListaAutocomplete.push(this.firmeTransportatori[t])},autocompleteFirmeClienti(){this.firmeClientiListaAutocomplete=[];for(var t=0;t<this.firmeClienti.length;t++)this.firmeClienti[t].nume&&this.firmeClienti[t].nume.toLowerCase().includes(this.firmaClientNume.toLowerCase())&&this.firmeClientiListaAutocomplete.push(this.firmeClienti[t])},autocompleteCamioane(){this.camioaneListaAutocomplete=[];for(var t=0;t<this.camioane.length;t++)this.camioane[t].numar_inmatriculare&&this.camioane[t].numar_inmatriculare.toLowerCase().includes(this.camionNumarInmatriculare.toLowerCase())&&this.camioaneListaAutocomplete.push(this.camioane[t])},getClienti(t){this.clientiListaTotiDinDB=[],clientiAtasatiLaComanda[t].nume&&clientiAtasatiLaComanda[t].nume.length>2&&axios.get("/axios/clienti",{params:{request:"clienti",nume:clientiAtasatiLaComanda[t].nume}}).then(e=>this.clientiListaTotiDinDB[t]=e.data.raspuns)},getLocuriOperareIncarcari(t){this.locuriOperareIncarcari=[],(incarcari[t].nume&&incarcari[t].nume.length>2||incarcari[t].oras&&incarcari[t].oras.length>2)&&axios.get("/axios/locuri-operare",{params:{request:"locuriOperare",nume:incarcari[t].nume,oras:incarcari[t].oras}}).then(e=>this.locuriOperareIncarcari[t]=e.data.raspuns)},getLocuriOperareDescarcari(t){this.locuriOperareDescarcari=[],(descarcari[t].nume&&descarcari[t].nume.length>2||descarcari[t].oras&&descarcari[t].oras.length>2)&&axios.get("/axios/locuri-operare",{params:{request:"locuriOperare",nume:descarcari[t].nume,oras:descarcari[t].oras}}).then(e=>this.locuriOperareDescarcari[t]=e.data.raspuns)},adaugaClientGol(){let t={tara:{},pivot:{moneda_id:2}};this.clientiAtasatiLaComanda.push(t)},adaugaIncarcareGoala(){let t={data_ora:"qweqweqwe",tara:{},pivot:{}};this.incarcari.push(t)},adaugaDescarcareGoala(){let t={tara:{id:"",nume:""},pivot:{}};this.descarcari.push(t)}}}),clickOutside={beforeMount:(t,e)=>{t.clickOutsideEvent=n=>{t==n.target||t.contains(n.target)||e.value()},document.addEventListener("click",t.clickOutsideEvent)},unmounted:t=>{document.removeEventListener("click",t.clickOutsideEvent)}};formularComanda.directive("clickOut",clickOutside);formularComanda.component("vue-datepicker-next",VueDatepickerNext);document.getElementById("formularComanda")!=null&&formularComanda.mount("#formularComanda");const statusuri=createApp({el:"#statusuri",data(){return{statusuri:[],timer:null,mesajLipsaStatusuri:"",comandaId:""}},created:function(){},mounted:function(){this.timer=setInterval(()=>{this.getStatusuri()},1e4)},beforeUnmount(){clearInterval(this.timer)},methods:{getStatusuri(){this.comandaId!==""&&axios.get("/axios/statusuri",{params:{comanda_id:this.comandaId}}).then(t=>{this.statusuri=t.data.raspuns,this.statusuri.length===0?this.mesajLipsaStatusuri="Nu există „statusuri” în baza de date pentru această comandă":this.mesajLipsaStatusuri=""})}}});document.getElementById("statusuri")!=null&&statusuri.mount("#statusuri");const mementoAlerte=createApp({el:"#mementoAlerte",data(){return{tip,dataExpirare:"",dataSelectata:"",dateSelectate}},methods:{captureDataExpirare(t){if(this.tip==2)var e=[3,15];else if(this.tip==3)var e=[3,30,60];if(e&&this.dataExpirare!==t){this.dataExpirare=t,this.dateSelectate=[];for(var n=0;n<e.length;n++){var r=new Date(t);r=r.setDate(r.getDate()-e[n]),r=new Date(r).toLocaleDateString("en-CA"),r!==null&&!this.dateSelectate.includes(r)&&this.dateSelectate.push(r)}}},captureDataDeLaCopil(t){this.dataSelectata!==t&&(this.dataSelectata=t)},adaugaAlerta:function(){this.dataSelectata!==null&&!this.dateSelectate.includes(this.dataSelectata)&&this.dateSelectate.push(this.dataSelectata)},stergeAlerta:function(t){for(var e=0;e<this.dateSelectate.length;e++)if(this.dateSelectate[e]==t){this.dateSelectate.splice(e,1);break}}}});mementoAlerte.component("vue-datepicker-next",VueDatepickerNext);document.getElementById("mementoAlerte")!=null&&mementoAlerte.mount("#mementoAlerte");const creareFactura=createApp({el:"#creareFactura",data(){return{firmeClienti,firmeClientiListaAutocomplete:[],firmaClient:"",client_id,client_nume,client_reg_com,client_cif,client_adresa,client_tara_id,client_telefon,client_email,numarDeCautat:"",comandaGasita:"",afisareMesajAtentionareNegasireComanda:!1,produsGasitDenumire:"",produsDenumire:"",produsUm:"",produsCantitate:"",produsPret:"",produsPretulIncludeTva:0,comandaId,produse,moneda_id,procenteTva,procent_tva_id,zile_scadente,showInfoAlerteScadenta:!1,showDateProdusIncomplete:"",total_fara_tva_moneda:0,total_tva_moneda:0,total_fara_tva_lei:0,total_tva_lei:0,chitanta_suma_incasata,dateFacturiIntocmitDeVechi,dateFacturiDelegatVechi,dateFacturiMentiuniVechi,dateFacturiIntocmitDeVechiListaAutocomplete:[],dateFacturiDelegatVechiListaAutocomplete:[],dateFacturiMentiuniVechiListaAutocomplete:[],intocmit_de,cnp,delegat,buletin,auto,mentiuni}},watch:{produse:{handler:function(t){this.calculeazaSumeTotale()},deep:!0}},created:function(){if(this.firmaClientId)for(var t=0;t<this.firmeClienti.length;t++)this.firmeClienti[t].id==this.firmaClientId&&(this.client_nume=this.firmeClienti[t].nume);this.calculeazaSumeTotale()},methods:{autocompleteFirmeClienti(){this.firmeClientiListaAutocomplete=[];for(var t=0;t<this.firmeClienti.length;t++)this.firmeClienti[t].nume&&this.firmeClienti[t].nume.toLowerCase().includes(this.client_nume.toLowerCase())&&this.firmeClientiListaAutocomplete.push(this.firmeClienti[t])},axiosCautaClient(t){axios.get("/facturi/axios/cauta-client",{params:{client_id:t}}).then(e=>{e.data.client&&(this.firmaClient=e.data.client,this.preiaDateClient()),this.firmeClientiListaAutocomplete=""})},preiaDateClient(){this.firmaClient&&(this.client_id=this.firmaClient.id,this.client_nume=this.firmaClient.nume,this.client_reg_com=this.firmaClient.reg_com,this.client_cif=this.firmaClient.cif,this.client_adresa=this.firmaClient.adresa,this.client_tara_id=this.firmaClient.tara_id,this.client_email=this.firmaClient.email)},preiaDateFacturare(){this.comandaGasita&&(this.comandaGasita.client_moneda&&(this.moneda_id=this.comandaGasita.client_moneda.id),this.procent_tva_id=this.comandaGasita.client_procent_tva_id,this.zile_scadente=this.comandaGasita.client_zile_scadente)},preiaDateProdus(){this.comandaGasita&&(this.produsDenumire=this.produsGasitDenumire,this.produsUm="um",this.produsCantitate=1,this.produsPret=this.comandaGasita.client_valoare_contract,this.produsPretulIncludeTva=0)},adaugaProdusLaFactura(){if(this.produsCantitate=parseInt(this.produsCantitate),this.produsPret=parseFloat(this.produsPret),this.showDateProdusIncomplete="",this.produsDenumire?this.produsUm?this.produsCantitate?this.produsPret?this.procent_tva_id?Number.isInteger(this.produsCantitate)?typeof this.produsPret!="number"?this.showDateProdusIncomplete+="Prețul trebuie să fie un număr. ":this.showDateProdusIncomplete="":this.showDateProdusIncomplete+="Cantitatea trebuie să fie un număr întreg. ":this.showDateProdusIncomplete="Alegeți procentul TVA. ":this.showDateProdusIncomplete="Completați prețul. ":this.showDateProdusIncomplete="Completați cantitatea. ":this.showDateProdusIncomplete="Completați unitatea de măsură. ":this.showDateProdusIncomplete="Completați denumirea. ",this.showDateProdusIncomplete)return;let t=0;for(var e=0;e<this.procenteTva.length;e++)this.procenteTva[e].id==this.procent_tva_id&&(t=parseInt(this.procenteTva[e].nume));if(isNaN(this.produsCantitate)||isNaN(this.produsPret)||isNaN(t))return;let n=0,r=0;t===0?(n=this.produsPret,r=0):parseInt(this.produsPretulIncludeTva)===0?(n=this.produsPret,r=this.produsPret*t/100):parseInt(this.produsPretulIncludeTva)===1&&(r=this.produsPret*t/100,n=this.produsPret-r);let o={comanda_id:this.comandaGasita.id,denumire:this.produsDenumire,um:"buc",cantitate:this.produsCantitate,pret_unitar_fara_tva:n,valoare:this.produsCantitate*n,valoare_tva:this.produsCantitate*r};this.produse.push(o)},axiosCautaComanda(){axios.post("/facturi/axios/cauta-comanda",{numarDeCautat:this.numarDeCautat},{params:{}}).then(t=>{if(this.comandaGasita=t.data.comanda,this.comandaGasita&&this.comandaGasita.client){this.afisareMesajAtentionareNegasireComanda=!1,this.firmaClient=this.comandaGasita.client,this.comandaId=this.comandaGasita.id,this.produsGasitDenumire=this.comandaGasita.client_contract?this.comandaGasita.client_contract+" // ":"";for(var e=0;e<this.comandaGasita.locuri_operare_incarcari.length;e++)this.comandaGasita.locuri_operare_incarcari[e].pivot&&this.comandaGasita.locuri_operare_incarcari[e].pivot.data_ora&&(this.produsGasitDenumire+=this.comandaGasita.locuri_operare_incarcari[e].pivot.data_ora.slice(8,10)+"."+this.comandaGasita.locuri_operare_incarcari[e].pivot.data_ora.slice(5,7)+"."+this.comandaGasita.locuri_operare_incarcari[e].pivot.data_ora.slice(0,4)),this.comandaGasita.locuri_operare_incarcari[e].oras&&(this.produsGasitDenumire+=" "+this.comandaGasita.locuri_operare_incarcari[e].oras),this.comandaGasita.locuri_operare_incarcari[e].tara&&this.comandaGasita.locuri_operare_incarcari[e].tara.nume&&(this.produsGasitDenumire+=" "+this.comandaGasita.locuri_operare_incarcari[e].tara.nume+" / ");for(var e=0;e<this.comandaGasita.locuri_operare_descarcari.length;e++)this.comandaGasita.locuri_operare_descarcari[e].pivot&&(this.produsGasitDenumire+=this.comandaGasita.locuri_operare_descarcari[e].pivot.data_ora.slice(8,10)+"."+this.comandaGasita.locuri_operare_descarcari[e].pivot.data_ora.slice(5,7)+"."+this.comandaGasita.locuri_operare_descarcari[e].pivot.data_ora.slice(0,4)),this.comandaGasita.locuri_operare_descarcari[e].oras&&(this.produsGasitDenumire+=" "+this.comandaGasita.locuri_operare_descarcari[e].oras),this.comandaGasita.locuri_operare_descarcari[e].tara&&this.comandaGasita.locuri_operare_descarcari[e].tara.nume&&(this.produsGasitDenumire+=" "+this.comandaGasita.locuri_operare_descarcari[e].tara.nume),e<this.comandaGasita.locuri_operare_descarcari.length-1&&(this.produsGasitDenumire+=" / ")}else this.afisareMesajAtentionareNegasireComanda=!0})},calculeazaSumeTotale(){if(this.total_fara_tva_moneda=0,this.total_tva_moneda=0,this.total_fara_tva_lei=0,this.total_tva_lei=0,this.total_lei=0,this.produse)for(var t=0;t<this.produse.length;t++)this.total_fara_tva_moneda+=parseFloat(this.produse[t].valoare),this.total_tva_moneda+=parseFloat(this.produse[t].valoare_tva)},autocompleteDateFacturiIntocmitDeVechi(){this.dateFacturiIntocmitDeVechiListaAutocomplete=[];for(var t=0;t<this.dateFacturiIntocmitDeVechi.length;t++)this.dateFacturiIntocmitDeVechi[t].intocmit_de&&this.dateFacturiIntocmitDeVechi[t].intocmit_de.toLowerCase().includes(this.intocmit_de.toLowerCase())&&this.dateFacturiIntocmitDeVechiListaAutocomplete.push(this.dateFacturiIntocmitDeVechi[t])},autocompleteDateFacturiDelegatVechi(){this.dateFacturiDelegatVechiListaAutocomplete=[];for(var t=0;t<this.dateFacturiDelegatVechi.length;t++)this.dateFacturiDelegatVechi[t].delegat&&this.dateFacturiDelegatVechi[t].delegat.toLowerCase().includes(this.delegat.toLowerCase())&&this.dateFacturiDelegatVechiListaAutocomplete.push(this.dateFacturiDelegatVechi[t])},autocompleteDateFacturiMentiuniVechi(){this.dateFacturiMentiuniVechiListaAutocomplete=[];for(var t=0;t<this.dateFacturiMentiuniVechi.length;t++)this.dateFacturiMentiuniVechi[t].mentiuni&&this.dateFacturiMentiuniVechi[t].mentiuni.toLowerCase().includes(this.mentiuni.toLowerCase())&&this.dateFacturiMentiuniVechiListaAutocomplete.push(this.dateFacturiMentiuniVechi[t])}}});creareFactura.directive("clickOut",clickOutside);creareFactura.component("vue-datepicker-next",VueDatepickerNext);document.getElementById("creareFactura")!=null&&creareFactura.mount("#creareFactura");const trimitereCodAutentificarePrinEmail=createApp({el:"#trimitereCodAutentificarePrinEmail",data(){return{email,mesajDeAfisat:""}},methods:{trimiteEmail(){this.email?axios.get("/axios/trimitere-cod-autentificare-prin-email",{params:{email:this.email}}).then(t=>{this.mesajDeAfisat=t.data.raspuns}):this.mesajDeAfisat="<span class='text-danger' style='font-size:80%'>Introdu emailul.</span>"}}});document.getElementById("trimitereCodAutentificarePrinEmail")!=null&&trimitereCodAutentificarePrinEmail.mount("#trimitereCodAutentificarePrinEmail");const disableButton1=createApp({el:"#app1",data(){return{disableButton:!1}}});document.getElementById("disableButton1")!=null&&disableButton1.mount("#disableButton1");const disableButton2=createApp({el:"#app1",data(){return{disableButton:!1}}});document.getElementById("disableButton2")!=null&&disableButton2.mount("#disableButton2");const disableButton3=createApp({el:"#app1",data(){return{disableButton:!1}}});document.getElementById("disableButton3")!=null&&disableButton3.mount("#disableButton3");const disableButton4=createApp({el:"#app1",data(){return{disableButton:!1}}});document.getElementById("disableButton4")!=null&&disableButton4.mount("#disableButton4");const wysiwyg=createApp({el:"#app1",data(){return{disableButton:!1}}});wysiwyg.component("TiptapEditor",TiptapEditor);document.getElementById("wysiwyg")!=null&&wysiwyg.mount("#wysiwyg");const facturaMemento=createApp({el:"#facturaMemento",data(){return{facturi}}});facturaMemento.component("vue-datepicker-next",VueDatepickerNext);document.getElementById("facturaMemento")!=null&&facturaMemento.mount("#facturaMemento");const tabelIntermedieri=createApp({});tabelIntermedieri.component("toggle-predat",TogglePredat);document.getElementById("tabelIntermedieri")!=null&&tabelIntermedieri.mount("#tabelIntermedieri");const keyPerformanceIndicatorsMainPage=createApp({data(){return{lastUpdatedKpi:null}},methods:{handleUpdateSuccess(t){this.lastUpdatedKpi=t,setTimeout(()=>{this.lastUpdatedKpi=null},5e3)}}});keyPerformanceIndicatorsMainPage.component("inline-observatii-editor",InlineObservatiiEditor);document.getElementById("keyPerformanceIndicatorsMainPage")!=null&&keyPerformanceIndicatorsMainPage.mount("#keyPerformanceIndicatorsMainPage");const directoryTree=createApp({});directoryTree.component("directory-tree",DirectoryTree);document.getElementById("directoryTree")!=null&&directoryTree.mount("#directoryTree");const excel=createApp({});excel.component("jspreadsheet-component",JspreadsheetComponent);document.getElementById("excel")!=null&&excel.mount("#excel");
